import{e as V,x as H,r as v,o as c,a as W,w as B,b as e,g as X,t as m,k as b,j as O,u as n,v as j,h as u,i as E,F as A,y as U,z as C,C as L,D as R,f as Q,d as q,A as Y}from"./app-DDCZsenf.js";import"./buttons.print-BSCHB3sF.js";import"./sweetalert2.esm.all-BGf-Fe8G.js";/* empty css                                                */import{_ as ee}from"./ServicioLayout-BxF0sgAz.js";import{_ as K}from"./Modal-DXE1fCri.js";import{E as te}from"./jspdf.plugin.autotable-DLx0r47N.js";import{u as z,w as oe}from"./xlsx-DjuO7_Ju.js";const re={class:"mt-2 bg-white p-4 shadow rounded-lg"},ae={class:"border-b border-gray-900/10 pb-12"},de={class:"text-base font-semibold leading-7 text-gray-900"},se={class:"flex flex-wrap"},ie={class:"md:col-span-2"},le={class:"sm:col-span-2",hidden:""},ne={class:"mt-1"},pe=["id"],ce={class:"md:col-span-2 px-4"},ue={class:"mt-2"},me=["id"],ge={key:0,class:"text-red-500 text-xs mt-1"},be={class:"sm:col-span-2 px-4"},xe={class:"mt-2"},fe=["id"],ye={key:0,class:"text-red-500 text-xs mt-1"},ve={class:"sm:col-span-2 px-4"},he={class:"mt-2"},Oe=["id"],ke={key:0,class:"text-red-500 text-xs mt-1"},$e={class:"sm:col-span-2 px-4"},we={class:"mt-2"},Ee=["id"],_e=["value"],Me={key:0,class:"text-red-500 text-xs mt-1"},Se={class:"sm:col-span-2 px-4"},Te={class:"mt-2"},Ie=["id"],De=["value"],Pe={key:0,class:"text-red-500 text-xs mt-1"},je={class:"sm:col-span-2 px-4"},Ae={class:"mt-2"},Ue=["id"],Ce=["value"],Ne={key:0,class:"text-red-500 text-xs mt-1"},Fe={class:"mt-6 flex items-center justify-end gap-x-6"},Be=["id"],Le=["disabled"],qe={__name:"FormularioOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(s,{emit:p}){const g=s,N=p,r=V({idOperador:g.operador.idOperador,nombre:g.operador.nombre,apellidoP:g.operador.apellidoP,apellidoM:g.operador.apellidoM,tipoOperador:g.operador.idTipoOperador,estado:g.operador.idEstado,directivo:g.operador.idDirectivo});H(()=>g.operador,async a=>{r.idOperador=a.idOperador,r.nombre=a.nombre,r.apellidoP=a.apellidoP,r.apellidoM=a.apellidoM,r.tipoOperador=a.idTipoOperador,r.estado=a.idEstado,r.directivo=a.idDirectivo},{deep:!0});const k=v(""),h=v(""),y=v(""),x=v(""),M=v(""),w=v(""),S=async()=>{N("close"),r.reset()},T=a=>typeof a=="string"&&a.trim()!=="",D=a=>a!=null,i=async()=>{k.value=T(r.nombre)?"":"Ingrese el nombre",h.value=T(r.apellidoP)?"":"Ingrese el apellido Paterno",y.value=T(r.apellidoM)?"":"Ingrese el apellido Materno",x.value=D(r.tipoOperador)?"":"Seleccione el tipo de operador",M.value=D(r.estado)?"":"Seleccione el estado",w.value=D(r.directivo)?"":"Seleccione para que socio trabaja",!(k.value||h.value||y.value||x.value||w.value)&&r.post(route("servicio.addOperador"),{onSuccess:()=>{S(),k.value="",h.value="",y.value="",x.value="",w.value=""}})};return(a,t)=>(c(),W(K,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:S},{default:B(()=>[e("div",re,[e("form",{onSubmit:X(i,["prevent"])},[e("div",ae,[e("h2",de,m(s.title),1),t[18]||(t[18]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[b("Rellene el formulario para poder registrar a un nuevo operador. Los campos con "),e("span",{class:"text-red-500"},"*"),b(" son obligatorios. ")],-1)),e("div",se,[e("div",ie,[e("div",le,[t[7]||(t[7]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),e("div",ne,[O(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":t[0]||(t[0]=o=>n(r).idOperador=o),placeholder:"Ingrese id del operador",id:"idOperador"+s.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,pe),[[j,n(r).idOperador]])])])]),e("div",ce,[t[8]||(t[8]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",ue,[O(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+s.op,"onUpdate:modelValue":t[1]||(t[1]=o=>n(r).apellidoP=o),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,me),[[j,n(r).apellidoP]])]),h.value!=""?(c(),u("div",ge,m(h.value),1)):E("",!0)]),e("div",be,[t[9]||(t[9]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",xe,[O(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+s.op,"onUpdate:modelValue":t[2]||(t[2]=o=>n(r).apellidoM=o),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,fe),[[j,n(r).apellidoM]])]),y.value!=""?(c(),u("div",ye,m(y.value),1)):E("",!0)]),e("div",ve,[t[10]||(t[10]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Nombres"),e("span",{class:"text-red-500"},"*")],-1)),e("div",he,[O(e("input",{type:"text",name:"nombre",id:"nombre"+s.op,"onUpdate:modelValue":t[3]||(t[3]=o=>n(r).nombre=o),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Oe),[[j,n(r).nombre]])]),k.value!=""?(c(),u("div",ke,m(k.value),1)):E("",!0)]),e("div",$e,[t[12]||(t[12]=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1)),e("div",we,[O(e("select",{name:"tipoOperador",id:"tipoOperador"+s.op,"onUpdate:modelValue":t[4]||(t[4]=o=>n(r).tipoOperador=o),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[t[11]||(t[11]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1)),(c(!0),u(A,null,U(s.tipoOperador,o=>(c(),u("option",{key:o.idTipoOperador,value:o.idTipoOperador},m(o.tipOperador),9,_e))),128))],8,Ee),[[C,n(r).tipoOperador]])]),x.value!=""?(c(),u("div",Me,m(x.value),1)):E("",!0)]),e("div",Se,[t[14]||(t[14]=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Estado"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Te,[O(e("select",{name:"estado",id:"estado"+s.op,"onUpdate:modelValue":t[5]||(t[5]=o=>n(r).estado=o),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[t[13]||(t[13]=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1)),(c(!0),u(A,null,U(s.estado,o=>(c(),u("option",{key:o.idEstado,value:o.idEstado},m(o.estado),9,De))),128))],8,Ie),[[C,n(r).estado]])]),M.value!=""?(c(),u("div",Pe,m(M.value),1)):E("",!0)]),t[17]||(t[17]=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1)),e("div",je,[t[16]||(t[16]=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Jefe"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ae,[O(e("select",{name:"directivo",id:"directivo"+s.op,"onUpdate:modelValue":t[6]||(t[6]=o=>n(r).directivo=o),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[t[15]||(t[15]=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1)),(c(!0),u(A,null,U(s.directivo,o=>(c(),u("option",{key:o.idDirectivo,value:o.idDirectivo},m(o.nombre_completo),9,Ce))),128))],8,Ue),[[C,n(r).directivo]])]),w.value!=""?(c(),u("div",Ne,m(w.value),1)):E("",!0)])])]),e("div",Fe,[e("button",{type:"button",id:"cerrar"+s.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:S},t[19]||(t[19]=[e("i",{class:"fa-solid fa-ban"},null,-1),b(" Cancelar")]),8,Be),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(r).processing},t[20]||(t[20]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),b("Guardar")]),8,Le)])],32)])]),_:1},8,["show","max-width","closeable"]))}},ze={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ve={class:"border-b border-gray-900/10 pb-12"},We={class:"text-base font-semibold leading-7 text-gray-900"},Je={class:"flex flex-wrap"},Re={class:"md:col-span-2"},Ye={class:"sm:col-span-2",hidden:""},Ge={class:"mt-1"},Ze=["id"],He={class:"md:col-span-2 px-4"},Xe={class:"mt-2"},Ke=["id"],Qe={key:0,class:"text-red-500 text-xs mt-1"},et={class:"sm:col-span-2 px-4"},tt={class:"mt-2"},ot=["id"],rt={key:0,class:"text-red-500 text-xs mt-1"},at={class:"sm:col-span-2 px-4"},dt={class:"mt-2"},st=["id"],it={key:0,class:"text-red-500 text-xs mt-1"},lt={class:"sm:col-span-2 px-4"},nt={class:"mt-2"},pt=["id"],ct=["value"],ut={key:0,class:"text-red-500 text-xs mt-1"},mt={class:"sm:col-span-2 px-4"},gt={class:"mt-2"},bt=["id"],xt=["value"],ft={key:0,class:"text-red-500 text-xs mt-1"},yt={class:"sm:col-span-2 px-4"},vt={class:"mt-2"},ht=["id"],Ot=["value"],kt={key:0,class:"text-red-500 text-xs mt-1"},$t={class:"mt-6 flex items-center justify-end gap-x-6"},wt=["id"],Et=["disabled"],_t={__name:"FormularioActualizarOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(s,{emit:p}){const g=s,N=p,r=V({_method:"PUT",idOperador:g.operador.idOperador,nombre:g.operador.nombre,apellidoP:g.operador.apellidoP,apellidoM:g.operador.apellidoM,tipoOperador:g.operador.idTipoOperador,estado:g.operador.idEstado,directivo:g.operador.idDirectivo});H(()=>g.operador,async a=>{r.idOperador=a.idOperador,r.nombre=a.nombre,r.apellidoP=a.apellidoP,r.apellidoM=a.apellidoM,r.tipoOperador=a.idTipoOperador,r.estado=a.idEstado,r.directivo=a.idDirectivo},{deep:!0});const k=v(""),h=v(""),y=v(""),x=v(""),M=v(""),w=v(""),S=async()=>{N("close"),r.reset()},T=a=>typeof a=="string"&&a.trim()!=="",D=a=>a!=null,i=async()=>{k.value=T(r.nombre)?"":"Ingrese el nombre",h.value=T(r.apellidoP)?"":"Ingrese el apellido Paterno",y.value=T(r.apellidoM)?"":"Ingrese el apellido Materno",x.value=D(r.tipoOperador)?"":"Selecciones el tipo de operador",w.value=D(r.directivo)?"":"Seleccione para que socio trabaja",!(k.value||h.value||y.value||x.value||w.value)&&r.post(route("servicio.actualizarOperador",r.idOperador),{onSuccess:()=>{S(),k.value="",h.value="",y.value="",x.value="",w.value=""}})};return(a,t)=>(c(),W(K,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:S},{default:B(()=>[e("div",ze,[e("form",{onSubmit:X(i,["prevent"])},[e("div",Ve,[e("h2",We,m(s.title),1),t[18]||(t[18]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Modifique los datos según sea necesario y guarde los cambios. ",-1)),e("div",Je,[e("div",Re,[e("div",Ye,[t[7]||(t[7]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),e("div",Ge,[O(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":t[0]||(t[0]=o=>n(r).idOperador=o),placeholder:"Ingrese id del operador",id:"idOperador"+s.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ze),[[j,n(r).idOperador]])])])]),e("div",He,[t[8]||(t[8]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Xe,[O(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+s.op,"onUpdate:modelValue":t[1]||(t[1]=o=>n(r).apellidoP=o),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ke),[[j,n(r).apellidoP]])]),h.value!=""?(c(),u("div",Qe,m(h.value),1)):E("",!0)]),e("div",et,[t[9]||(t[9]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",tt,[O(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+s.op,"onUpdate:modelValue":t[2]||(t[2]=o=>n(r).apellidoM=o),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ot),[[j,n(r).apellidoM]])]),y.value!=""?(c(),u("div",rt,m(y.value),1)):E("",!0)]),e("div",at,[t[10]||(t[10]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Nombres"),e("span",{class:"text-red-500"},"*")],-1)),e("div",dt,[O(e("input",{type:"text",name:"nombre",id:"nombre"+s.op,"onUpdate:modelValue":t[3]||(t[3]=o=>n(r).nombre=o),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,st),[[j,n(r).nombre]])]),k.value!=""?(c(),u("div",it,m(k.value),1)):E("",!0)]),e("div",lt,[t[12]||(t[12]=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1)),e("div",nt,[O(e("select",{name:"tipoOperador",id:"tipoOperador"+s.op,"onUpdate:modelValue":t[4]||(t[4]=o=>n(r).tipoOperador=o),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[t[11]||(t[11]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1)),(c(!0),u(A,null,U(s.tipoOperador,o=>(c(),u("option",{key:o.idTipoOperador,value:o.idTipoOperador},m(o.tipOperador),9,ct))),128))],8,pt),[[C,n(r).tipoOperador]])]),x.value!=""?(c(),u("div",ut,m(x.value),1)):E("",!0)]),e("div",mt,[t[14]||(t[14]=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Estado"),e("span",{class:"text-red-500"},"*")],-1)),e("div",gt,[O(e("select",{name:"estado",id:"estado"+s.op,"onUpdate:modelValue":t[5]||(t[5]=o=>n(r).estado=o),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[t[13]||(t[13]=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1)),(c(!0),u(A,null,U(s.estado,o=>(c(),u("option",{key:o.idEstado,value:o.idEstado},m(o.estado),9,xt))),128))],8,bt),[[C,n(r).estado]])]),M.value!=""?(c(),u("div",ft,m(M.value),1)):E("",!0)]),t[17]||(t[17]=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1)),e("div",yt,[t[16]||(t[16]=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Jefe"),e("span",{class:"text-red-500"},"*")],-1)),e("div",vt,[O(e("select",{name:"directivo",id:"directivo"+s.op,"onUpdate:modelValue":t[6]||(t[6]=o=>n(r).directivo=o),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[t[15]||(t[15]=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1)),(c(!0),u(A,null,U(s.directivo,o=>(c(),u("option",{key:o.idDirectivo,value:o.idDirectivo},m(o.nombre_completo),9,Ot))),128))],8,ht),[[C,n(r).directivo]])]),w.value!=""?(c(),u("div",kt,m(w.value),1)):E("",!0)])])]),e("div",$t,[e("button",{type:"button",id:"cerrar"+s.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:S},t[19]||(t[19]=[e("i",{class:"fa-solid fa-ban"},null,-1),b(" Cancelar")]),8,wt),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(r).processing},t[20]||(t[20]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),b("Guardar")]),8,Et)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Mt={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},G="xl",Z=!0,Ct={__name:"Operadores",props:{message:{String,default:""},color:{String,default:""},operador:{type:Object},tipoOperador:{type:Object},estado:{type:Object},directivo:{type:Object},usuario:{type:Object},incapacidad:{type:Object},empresa:{type:Object},convenioPago:{type:Object},direccion:{type:Object}},setup(s){L.use(R),L.use(R);const p=s,g=(i="Documento")=>{const a=new te("landscape");a.setFontSize(12),a.text(i,14,22);const t=new Date().toLocaleDateString();a.setFontSize(8),a.text(`Fecha: ${t}`,260,22);const o=["ID","Apellido Paterno","Apellido Materno","Nombre","Tipo de Operador","Estado","Jefe"],d=[];Y(()=>{$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().each(f=>{var I,P,J;d.push([f.idOperador,f.apellidoP,f.apellidoM,f.nombre,((I=p.tipoOperador.find(F=>F.idTipoOperador===f.idTipoOperador))==null?void 0:I.tipOperador)||"",((P=p.estado.find(F=>F.idEstado===f.idEstado))==null?void 0:P.estado)||"",((J=p.directivo.find(F=>F.idDirectivo===f.idDirectivo))==null?void 0:J.nombre_completo)||""])}),a.autoTable({head:[o],body:d,startY:24}),a.save(`${i}.pdf`)})},N=()=>{Y(()=>{const t=$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().toArray().map(l=>{var _,f,I;return{ID:l.idOperador,"Apellido Paterno":l.apellidoP,"Apellido Materno":l.apellidoM,Nombre:l.nombre,"Tipo de Operador":((_=p.tipoOperador.find(P=>P.idTipoOperador===l.idTipoOperador))==null?void 0:_.tipOperador)||"",Estado:((f=p.estado.find(P=>P.idEstado===l.idEstado))==null?void 0:f.estado)||"",Jefe:((I=p.directivo.find(P=>P.idDirectivo===l.idDirectivo))==null?void 0:I.nombre_completo)||""}}),o=z.json_to_sheet(t),d=z.book_new();z.book_append_sheet(d,o,"Operadores Registrados"),oe(d,"Operadores Registrados.xlsx")})},r=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Operadores registrados",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>N()},{title:"Operadores registrados",text:'<i class="fa-solid fa-file-pdf"></i> PDF',className:"bg-red-500 hover:bg-red-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",orientation:"landscape",action:()=>g(p.title||"Operadores registrados")},{title:"Operadores registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[1,2,3,4,5,6]}}],k=[{data:null,render:function(i,a,t,o){return o.row+1}},{data:"apellidoP"},{data:"apellidoM"},{data:"nombre"},{data:"idTipoOperador",render:function(i,a,t,o){const d=p.tipoOperador.find(l=>l.idTipoOperador===i);return d?d.tipOperador:""}},{data:"idEstado",render:function(i,a,t,o){const d=p.estado.find(l=>l.idEstado===i);return d?d.estado:""}},{data:null,render:function(i,a,t,o){const d=p.operador.find(l=>l.idOperador===t.idOperador);return d&&d.ultimaIncapacidad&&d.idEstado===3?d.ultimaIncapacidad.numeroDias:""}},{data:null,render:function(i,a,t,o){const d=p.operador.find(l=>l.idOperador===t.idOperador);if(d&&d.ultimaIncapacidad&&d.idEstado===3&&d.ultimaIncapacidad.fechaInicio){const l=new Date(d.ultimaIncapacidad.fechaInicio+"T00:00:00Z"),_=("0"+l.getUTCDate()).slice(-2),f=("0"+(l.getUTCMonth()+1)).slice(-2),I=l.getUTCFullYear();return`${_}/${f}/${I}`}return""}},{data:null,render:function(i,a,t,o){const d=p.operador.find(l=>l.idOperador===t.idOperador);if(d&&d.ultimaIncapacidad&&d.idEstado===3&&d.ultimaIncapacidad.fechaFin){const l=new Date(d.ultimaIncapacidad.fechaFin+"T00:00:00Z"),_=("0"+l.getUTCDate()).slice(-2),f=("0"+(l.getUTCMonth()+1)).slice(-2),I=l.getUTCFullYear();return`${_}/${f}/${I}`}return""}},{data:"fechaAlta",render:function(i,a,t,o){if(i){const d=i.split("-"),l=d[0],_=d[1];return`${d[2]}-${_}-${l}`}return""}},{data:"fechaBaja",render:function(i,a,t,o){if(i){const d=i.split("-"),l=d[0],_=d[1];return`${d[2]}-${_}-${l}`}return""}},{data:"numLicencia"},{data:"idDirectivo",render:function(i,a,t,o){const d=p.directivo.find(l=>l.idDirectivo===i);return d?d.nombre_completo:""}}];console.log(p.operador);const h=v(!1),y=v(!1),x=v([]);V({_method:"DELETE"});var M={};const w=i=>{M=i,y.value=!0},S=()=>{h.value=!1},T=()=>{y.value=!1},D=i=>{x.value.includes(i)?x.value=x.value.filter(t=>t!==i):x.value.push(i);const a=document.getElementById("eliminarABtn");x.value.length>0?a.removeAttribute("disabled"):a.setAttribute("disabled","")};return Q(()=>{document.getElementById("operadoresTablaId").addEventListener("click",i=>{const a=i.target;if(a.classList.contains("operador-checkboxes")){const t=parseInt(a.getAttribute("data-id"));if(p.operador){const o=p.operador.find(d=>d.idOperador===t);o?D(o):console.log("No se tiene operador")}}}),$("#operadoresTablaId").on("click",".editar-button",function(){const i=$(this).data("id"),a=p.operador.find(t=>t.idOperador===i);w(a)})}),(i,a)=>(c(),W(ee,{title:"Operadores",usuario:p.usuario},{default:B(()=>[e("div",Mt,[a[1]||(a[1]=e("h2",{class:"font-bold text-center text-xl pt-0"},"Operadores",-1)),a[2]||(a[2]=e("div",{class:"my-1"},null,-1)),a[3]||(a[3]=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-6"},null,-1)),e("div",null,[q(n(L),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"operadoresTablaId",name:"operadoresTablaId",columns:k,data:s.operador,options:{responsive:!0,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:[r],pageLength:23}},{default:B(()=>a[0]||(a[0]=[e("thead",null,[e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"6"}),e("th",{class:"py-2 px-4 bg-blue-300 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left text-center",colspan:"3",style:{"text-align":"center","vertical-align":"middle"}},"INCAPACIDAD"),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"4"})]),e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," ID "),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre "),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Tipo de operador "),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Estado "),e("th",{class:"py-2 px-4 bg-blue-300 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Días "),e("th",{class:"py-2 px-4 bg-blue-300 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Inicio "),e("th",{class:"py-2 px-4 bg-blue-300 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fin "),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha Alta "),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha Baja "),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Núm. Licencia "),e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Jefe ")])],-1)])),_:1},8,["data","options"])])]),q(qe,{show:h.value,"max-width":G,closeable:Z,onClose:S,title:"Añadir operador",modal:"modalCreate",operador:p.operador,tipoOperador:p.tipoOperador,estado:p.estado,directivo:p.directivo},null,8,["show","operador","tipoOperador","estado","directivo"]),q(_t,{show:y.value,"max-width":G,closeable:Z,onClose:T,title:"Editar operador",modal:"modalEdit",tipoOperador:p.tipoOperador,estado:p.estado,directivo:p.directivo,operador:n(M)},null,8,["show","tipoOperador","estado","directivo","operador"])]),_:1},8,["usuario"]))}};export{Ct as default};
