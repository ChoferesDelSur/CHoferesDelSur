import{u as V,i as Y,r as h,o as i,j as W,e as C,a as e,g as K,t as p,w as v,d as r,k as D,c,l as k,F as I,m as j,p as A,f as m,L,D as R,s as Z,b as q,x as G}from"./app-Bd-6RRHH.js";import"./buttons.print-Cb1mVhcS.js";import"./sweetalert2.all-BhTDwvhH.js";/* empty css                                                */import{_ as ee}from"./ServicioLayout-trMr1uGw.js";import{_ as Q}from"./Modal-DGtmsox8.js";import{E as oe}from"./jspdf.plugin.autotable-DV0TmZX6.js";import{u as z,w as te}from"./xlsx-769MyM77.js";const se={class:"mt-2 bg-white p-4 shadow rounded-lg"},de={class:"border-b border-gray-900/10 pb-12"},ae={class:"text-base font-semibold leading-7 text-gray-900"},re=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[m("Rellene el formulario para poder registrar a un nuevo operador. Los campos con "),e("span",{class:"text-red-500"},"*"),m(" son obligatorios. ")],-1),ie={class:"flex flex-wrap"},le={class:"md:col-span-2"},ne={class:"sm:col-span-2",hidden:""},ce=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1),pe={class:"mt-1"},ue=["id"],me={class:"md:col-span-2 px-4"},ge=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1),be={class:"mt-2"},xe=["id"],he={key:0,class:"text-red-500 text-xs mt-1"},fe={class:"sm:col-span-2 px-4"},ye=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1),ve={class:"mt-2"},_e=["id"],Oe={key:0,class:"text-red-500 text-xs mt-1"},$e={class:"sm:col-span-2 px-4"},ke=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres"),e("span",{class:"text-red-500"},"*")],-1),we={class:"mt-2"},Ee=["id"],Me={key:0,class:"text-red-500 text-xs mt-1"},Se={class:"sm:col-span-2 px-4"},Pe=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1),Te={class:"mt-2"},De=["id"],Ie=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1),je=["value"],Ae={key:0,class:"text-red-500 text-xs mt-1"},Ne={class:"sm:col-span-2 px-4"},Ue=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Estado"),e("span",{class:"text-red-500"},"*")],-1),Be={class:"mt-2"},Ce=["id"],Fe=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1),Le=["value"],qe={key:0,class:"text-red-500 text-xs mt-1"},ze=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1),Ve={class:"sm:col-span-2 px-4"},We=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Jefe"),e("span",{class:"text-red-500"},"*")],-1),Je={class:"mt-2"},Re=["id"],Ge=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1),He=["value"],Xe={key:0,class:"text-red-500 text-xs mt-1"},Ye={class:"mt-6 flex items-center justify-end gap-x-6"},Ke=["id"],Qe=e("i",{class:"fa-solid fa-ban"},null,-1),Ze=["disabled"],eo=e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),oo={__name:"FormularioOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(a,{emit:l}){const u=a,N=l,o=V({idOperador:u.operador.idOperador,nombre:u.operador.nombre,apellidoP:u.operador.apellidoP,apellidoM:u.operador.apellidoM,tipoOperador:u.operador.idTipoOperador,estado:u.operador.idEstado,directivo:u.operador.idDirectivo});Y(()=>u.operador,async s=>{o.idOperador=s.idOperador,o.nombre=s.nombre,o.apellidoP=s.apellidoP,o.apellidoM=s.apellidoM,o.tipoOperador=s.idTipoOperador,o.estado=s.idEstado,o.directivo=s.idDirectivo},{deep:!0});const _=h(""),f=h(""),x=h(""),g=h(""),E=h(""),O=h(""),M=async()=>{N("close"),o.reset()},S=s=>typeof s=="string"&&s.trim()!=="",P=s=>s!=null,n=async()=>{_.value=S(o.nombre)?"":"Ingrese el nombre",f.value=S(o.apellidoP)?"":"Ingrese el apellido Paterno",x.value=S(o.apellidoM)?"":"Ingrese el apellido Materno",g.value=P(o.tipoOperador)?"":"Seleccione el tipo de operador",E.value=P(o.estado)?"":"Seleccione el estado",O.value=P(o.directivo)?"":"Seleccione para que socio trabaja",!(_.value||f.value||x.value||g.value||O.value)&&o.post(route("servicio.addOperador"),{onSuccess:()=>{M(),_.value="",f.value="",x.value="",g.value="",O.value=""}})};return(s,d)=>(i(),W(Q,{show:a.show,"max-width":a.maxWidth,closeable:a.closeable,onClose:M},{default:C(()=>[e("div",se,[e("form",{onSubmit:K(n,["prevent"])},[e("div",de,[e("h2",ae,p(a.title),1),re,e("div",ie,[e("div",le,[e("div",ne,[ce,e("div",pe,[v(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":d[0]||(d[0]=t=>r(o).idOperador=t),placeholder:"Ingrese id del operador",id:"idOperador"+a.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ue),[[D,r(o).idOperador]])])])]),e("div",me,[ge,e("div",be,[v(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+a.op,"onUpdate:modelValue":d[1]||(d[1]=t=>r(o).apellidoP=t),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,xe),[[D,r(o).apellidoP]])]),f.value!=""?(i(),c("div",he,p(f.value),1)):k("",!0)]),e("div",fe,[ye,e("div",ve,[v(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+a.op,"onUpdate:modelValue":d[2]||(d[2]=t=>r(o).apellidoM=t),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,_e),[[D,r(o).apellidoM]])]),x.value!=""?(i(),c("div",Oe,p(x.value),1)):k("",!0)]),e("div",$e,[ke,e("div",we,[v(e("input",{type:"text",name:"nombre",id:"nombre"+a.op,"onUpdate:modelValue":d[3]||(d[3]=t=>r(o).nombre=t),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ee),[[D,r(o).nombre]])]),_.value!=""?(i(),c("div",Me,p(_.value),1)):k("",!0)]),e("div",Se,[Pe,e("div",Te,[v(e("select",{name:"tipoOperador",id:"tipoOperador"+a.op,"onUpdate:modelValue":d[4]||(d[4]=t=>r(o).tipoOperador=t),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Ie,(i(!0),c(I,null,j(a.tipoOperador,t=>(i(),c("option",{key:t.idTipoOperador,value:t.idTipoOperador},p(t.tipOperador),9,je))),128))],8,De),[[A,r(o).tipoOperador]])]),g.value!=""?(i(),c("div",Ae,p(g.value),1)):k("",!0)]),e("div",Ne,[Ue,e("div",Be,[v(e("select",{name:"estado",id:"estado"+a.op,"onUpdate:modelValue":d[5]||(d[5]=t=>r(o).estado=t),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Fe,(i(!0),c(I,null,j(a.estado,t=>(i(),c("option",{key:t.idEstado,value:t.idEstado},p(t.estado),9,Le))),128))],8,Ce),[[A,r(o).estado]])]),E.value!=""?(i(),c("div",qe,p(E.value),1)):k("",!0)]),ze,e("div",Ve,[We,e("div",Je,[v(e("select",{name:"directivo",id:"directivo"+a.op,"onUpdate:modelValue":d[6]||(d[6]=t=>r(o).directivo=t),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Ge,(i(!0),c(I,null,j(a.directivo,t=>(i(),c("option",{key:t.idDirectivo,value:t.idDirectivo},p(t.nombre_completo),9,He))),128))],8,Re),[[A,r(o).directivo]])]),O.value!=""?(i(),c("div",Xe,p(O.value),1)):k("",!0)])])]),e("div",Ye,[e("button",{type:"button",id:"cerrar"+a.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:M},[Qe,m(" Cancelar")],8,Ke),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:r(o).processing},[eo,m("Guardar")],8,Ze)])],32)])]),_:1},8,["show","max-width","closeable"]))}},to={class:"mt-2 bg-white p-4 shadow rounded-lg"},so={class:"border-b border-gray-900/10 pb-12"},ao={class:"text-base font-semibold leading-7 text-gray-900"},ro=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Modifique los datos según sea necesario y guarde los cambios. ",-1),io={class:"flex flex-wrap"},lo={class:"md:col-span-2"},no={class:"sm:col-span-2",hidden:""},co=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1),po={class:"mt-1"},uo=["id"],mo={class:"md:col-span-2 px-4"},go=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1),bo={class:"mt-2"},xo=["id"],ho={key:0,class:"text-red-500 text-xs mt-1"},fo={class:"sm:col-span-2 px-4"},yo=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1),vo={class:"mt-2"},_o=["id"],Oo={key:0,class:"text-red-500 text-xs mt-1"},$o={class:"sm:col-span-2 px-4"},ko=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres"),e("span",{class:"text-red-500"},"*")],-1),wo={class:"mt-2"},Eo=["id"],Mo={key:0,class:"text-red-500 text-xs mt-1"},So={class:"sm:col-span-2 px-4"},Po=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1),To={class:"mt-2"},Do=["id"],Io=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1),jo=["value"],Ao={key:0,class:"text-red-500 text-xs mt-1"},No={class:"sm:col-span-2 px-4"},Uo=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Estado"),e("span",{class:"text-red-500"},"*")],-1),Bo={class:"mt-2"},Co=["id"],Fo=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1),Lo=["value"],qo={key:0,class:"text-red-500 text-xs mt-1"},zo=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1),Vo={class:"sm:col-span-2 px-4"},Wo=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Jefe"),e("span",{class:"text-red-500"},"*")],-1),Jo={class:"mt-2"},Ro=["id"],Go=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1),Ho=["value"],Xo={key:0,class:"text-red-500 text-xs mt-1"},Yo={class:"mt-6 flex items-center justify-end gap-x-6"},Ko=["id"],Qo=e("i",{class:"fa-solid fa-ban"},null,-1),Zo=["disabled"],et=e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),ot={__name:"FormularioActualizarOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(a,{emit:l}){const u=a,N=l,o=V({_method:"PUT",idOperador:u.operador.idOperador,nombre:u.operador.nombre,apellidoP:u.operador.apellidoP,apellidoM:u.operador.apellidoM,tipoOperador:u.operador.idTipoOperador,estado:u.operador.idEstado,directivo:u.operador.idDirectivo});Y(()=>u.operador,async s=>{o.idOperador=s.idOperador,o.nombre=s.nombre,o.apellidoP=s.apellidoP,o.apellidoM=s.apellidoM,o.tipoOperador=s.idTipoOperador,o.estado=s.idEstado,o.directivo=s.idDirectivo},{deep:!0});const _=h(""),f=h(""),x=h(""),g=h(""),E=h(""),O=h(""),M=async()=>{N("close"),o.reset()},S=s=>typeof s=="string"&&s.trim()!=="",P=s=>s!=null,n=async()=>{_.value=S(o.nombre)?"":"Ingrese el nombre",f.value=S(o.apellidoP)?"":"Ingrese el apellido Paterno",x.value=S(o.apellidoM)?"":"Ingrese el apellido Materno",g.value=P(o.tipoOperador)?"":"Selecciones el tipo de operador",O.value=P(o.directivo)?"":"Seleccione para que socio trabaja",!(_.value||f.value||x.value||g.value||O.value)&&o.post(route("servicio.actualizarOperador",o.idOperador),{onSuccess:()=>{M(),_.value="",f.value="",x.value="",g.value="",O.value=""}})};return(s,d)=>(i(),W(Q,{show:a.show,"max-width":a.maxWidth,closeable:a.closeable,onClose:M},{default:C(()=>[e("div",to,[e("form",{onSubmit:K(n,["prevent"])},[e("div",so,[e("h2",ao,p(a.title),1),ro,e("div",io,[e("div",lo,[e("div",no,[co,e("div",po,[v(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":d[0]||(d[0]=t=>r(o).idOperador=t),placeholder:"Ingrese id del operador",id:"idOperador"+a.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,uo),[[D,r(o).idOperador]])])])]),e("div",mo,[go,e("div",bo,[v(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+a.op,"onUpdate:modelValue":d[1]||(d[1]=t=>r(o).apellidoP=t),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,xo),[[D,r(o).apellidoP]])]),f.value!=""?(i(),c("div",ho,p(f.value),1)):k("",!0)]),e("div",fo,[yo,e("div",vo,[v(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+a.op,"onUpdate:modelValue":d[2]||(d[2]=t=>r(o).apellidoM=t),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,_o),[[D,r(o).apellidoM]])]),x.value!=""?(i(),c("div",Oo,p(x.value),1)):k("",!0)]),e("div",$o,[ko,e("div",wo,[v(e("input",{type:"text",name:"nombre",id:"nombre"+a.op,"onUpdate:modelValue":d[3]||(d[3]=t=>r(o).nombre=t),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Eo),[[D,r(o).nombre]])]),_.value!=""?(i(),c("div",Mo,p(_.value),1)):k("",!0)]),e("div",So,[Po,e("div",To,[v(e("select",{name:"tipoOperador",id:"tipoOperador"+a.op,"onUpdate:modelValue":d[4]||(d[4]=t=>r(o).tipoOperador=t),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Io,(i(!0),c(I,null,j(a.tipoOperador,t=>(i(),c("option",{key:t.idTipoOperador,value:t.idTipoOperador},p(t.tipOperador),9,jo))),128))],8,Do),[[A,r(o).tipoOperador]])]),g.value!=""?(i(),c("div",Ao,p(g.value),1)):k("",!0)]),e("div",No,[Uo,e("div",Bo,[v(e("select",{name:"estado",id:"estado"+a.op,"onUpdate:modelValue":d[5]||(d[5]=t=>r(o).estado=t),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Fo,(i(!0),c(I,null,j(a.estado,t=>(i(),c("option",{key:t.idEstado,value:t.idEstado},p(t.estado),9,Lo))),128))],8,Co),[[A,r(o).estado]])]),E.value!=""?(i(),c("div",qo,p(E.value),1)):k("",!0)]),zo,e("div",Vo,[Wo,e("div",Jo,[v(e("select",{name:"directivo",id:"directivo"+a.op,"onUpdate:modelValue":d[6]||(d[6]=t=>r(o).directivo=t),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Go,(i(!0),c(I,null,j(a.directivo,t=>(i(),c("option",{key:t.idDirectivo,value:t.idDirectivo},p(t.nombre_completo),9,Ho))),128))],8,Ro),[[A,r(o).directivo]])]),O.value!=""?(i(),c("div",Xo,p(O.value),1)):k("",!0)])])]),e("div",Yo,[e("button",{type:"button",id:"cerrar"+a.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:M},[Qo,m(" Cancelar")],8,Ko),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:r(o).processing},[et,m("Guardar")],8,Zo)])],32)])]),_:1},8,["show","max-width","closeable"]))}},tt={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},st=e("h2",{class:"font-bold text-center text-xl pt-0"},"Operadores",-1),dt=e("div",{class:"my-1"},null,-1),at=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-6"},null,-1),rt=e("thead",null,[e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," ID "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Tipo de operador "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Estado "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Jefe ")])],-1),H="xl",X=!0,bt={__name:"Operadores",props:{message:{String,default:""},color:{String,default:""},operador:{type:Object},tipoOperador:{type:Object},estado:{type:Object},directivo:{type:Object},usuario:{type:Object},incapacidad:{type:Object},empresa:{type:Object},convenioPago:{type:Object},direccion:{type:Object}},setup(a){L.use(R),L.use(R);const l=a,u=(n="Documento")=>{const s=new oe("landscape");s.setFontSize(12),s.text(n,14,22);const d=new Date().toLocaleDateString();s.setFontSize(8),s.text(`Fecha: ${d}`,260,22);const t=["ID","Apellido Paterno","Apellido Materno","Nombre","Tipo de Operador","Estado","Jefe"],b=[];G(()=>{$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().each(w=>{var U,T,J;b.push([w.idOperador,w.apellidoP,w.apellidoM,w.nombre,((U=l.tipoOperador.find(B=>B.idTipoOperador===w.idTipoOperador))==null?void 0:U.tipOperador)||"",((T=l.estado.find(B=>B.idEstado===w.idEstado))==null?void 0:T.estado)||"",((J=l.directivo.find(B=>B.idDirectivo===w.idDirectivo))==null?void 0:J.nombre_completo)||""])}),s.autoTable({head:[t],body:b,startY:24}),s.save(`${n}.pdf`)})},N=()=>{G(()=>{const d=$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().toArray().map(y=>{var F,w,U;return{ID:y.idOperador,"Apellido Paterno":y.apellidoP,"Apellido Materno":y.apellidoM,Nombre:y.nombre,"Tipo de Operador":((F=l.tipoOperador.find(T=>T.idTipoOperador===y.idTipoOperador))==null?void 0:F.tipOperador)||"",Estado:((w=l.estado.find(T=>T.idEstado===y.idEstado))==null?void 0:w.estado)||"",Jefe:((U=l.directivo.find(T=>T.idDirectivo===y.idDirectivo))==null?void 0:U.nombre_completo)||""}}),t=z.json_to_sheet(d),b=z.book_new();z.book_append_sheet(b,t,"Operadores Registrados"),te(b,"Operadores Registrados.xlsx")})},o=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Operadores registrados",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>N()},{title:"Operadores registrados",text:'<i class="fa-solid fa-file-pdf"></i> PDF',className:"bg-red-500 hover:bg-red-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",orientation:"landscape",action:()=>u(l.title||"Operadores registrados")},{title:"Operadores registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[1,2,3,4,5,6]}}],_=[{data:null,render:function(n,s,d,t){return t.row+1}},{data:"apellidoP"},{data:"apellidoM"},{data:"nombre"},{data:"idTipoOperador",render:function(n,s,d,t){const b=l.tipoOperador.find(y=>y.idTipoOperador===n);return b?b.tipOperador:""}},{data:"idEstado",render:function(n,s,d,t){const b=l.estado.find(y=>y.idEstado===n);return b?b.estado:""}},{data:"idDirectivo",render:function(n,s,d,t){const b=l.directivo.find(y=>y.idDirectivo===n);return b?b.nombre_completo:""}}],f=h(!1),x=h(!1),g=h([]);V({_method:"DELETE"});var E={};const O=n=>{E=n,x.value=!0},M=()=>{f.value=!1},S=()=>{x.value=!1},P=n=>{g.value.includes(n)?g.value=g.value.filter(d=>d!==n):g.value.push(n);const s=document.getElementById("eliminarABtn");g.value.length>0?s.removeAttribute("disabled"):s.setAttribute("disabled","")};return Z(()=>{document.getElementById("operadoresTablaId").addEventListener("click",n=>{const s=n.target;if(s.classList.contains("operador-checkboxes")){const d=parseInt(s.getAttribute("data-id"));if(l.operador){const t=l.operador.find(b=>b.idOperador===d);t?P(t):console.log("No se tiene operador")}}}),$("#operadoresTablaId").on("click",".editar-button",function(){const n=$(this).data("id"),s=l.operador.find(d=>d.idOperador===n);O(s)})}),(n,s)=>(i(),W(ee,{title:"Operadores",usuario:l.usuario},{default:C(()=>[e("div",tt,[st,dt,at,e("div",null,[q(r(L),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"operadoresTablaId",name:"operadoresTablaId",columns:_,data:a.operador,options:{responsive:!0,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:[o],pageLength:23}},{default:C(()=>[rt]),_:1},8,["data","options"])])]),q(oo,{show:f.value,"max-width":H,closeable:X,onClose:M,title:"Añadir operador",modal:"modalCreate",operador:l.operador,tipoOperador:l.tipoOperador,estado:l.estado,directivo:l.directivo},null,8,["show","operador","tipoOperador","estado","directivo"]),q(ot,{show:x.value,"max-width":H,closeable:X,onClose:S,title:"Editar operador",modal:"modalEdit",tipoOperador:l.tipoOperador,estado:l.estado,directivo:l.directivo,operador:r(E)},null,8,["show","tipoOperador","estado","directivo","operador"])]),_:1},8,["usuario"]))}};export{bt as default};
