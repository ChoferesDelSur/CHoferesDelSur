import{_ as te}from"./PrincipalLayout-DDOFcHTK.js";import{e as G,x as Z,r as h,o as i,a as H,w as z,b as e,g as ee,t as u,k as m,j as k,u as a,v as I,h as n,i as E,F as A,y as j,z as C,C as L,D as Y,f as re,A as V,d as R}from"./app-Ccdm3jyi.js";import"./buttons.print-B4HRSxJ4.js";import{S as W}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{_ as oe}from"./Modal-A9r5dSeZ.js";import{_ as se}from"./Mensaje-inQQKTQW.js";import{E as ae}from"./jspdf.plugin.autotable-BhYvu5Tq.js";import{u as J,w as de}from"./xlsx-DjuO7_Ju.js";/* empty css                                                */const ie={class:"mt-2 bg-white p-4 shadow rounded-lg"},le={class:"border-b border-gray-900/10 pb-12"},ne={class:"text-base font-semibold leading-7 text-gray-900"},pe={class:"flex flex-wrap"},ce={class:"md:col-span-2"},ue={class:"sm:col-span-2",hidden:""},me={class:"mt-1"},ge=["id"],be={class:"md:col-span-2 px-4"},xe={class:"mt-2"},fe=["id"],ye={key:0,class:"text-red-500 text-xs mt-1"},ve={class:"sm:col-span-2 px-4"},he={class:"mt-2"},Oe=["id"],ke={key:0,class:"text-red-500 text-xs mt-1"},we={class:"sm:col-span-2 px-4"},Ee={class:"mt-2"},$e=["id"],Se={key:0,class:"text-red-500 text-xs mt-1"},_e={class:"sm:col-span-2 px-4"},Me={class:"mt-2"},Te=["id"],Pe=["value"],De={key:0,class:"text-red-500 text-xs mt-1"},Ie={class:"sm:col-span-2 px-4"},Ae={class:"mt-2"},je=["id"],Ce=["value"],Be={key:0,class:"text-red-500 text-xs mt-1"},Ne={class:"sm:col-span-2 px-4"},Ue={class:"mt-2"},Fe=["id"],qe=["value"],Re={key:0,class:"text-red-500 text-xs mt-1"},ze={class:"mt-6 flex items-center justify-end gap-x-6"},Le=["id"],Ve=["disabled"],We={__name:"FormularioOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(s,{emit:l}){const g=s,B=l,r=G({idOperador:g.operador.idOperador,nombre:g.operador.nombre,apellidoP:g.operador.apellidoP,apellidoM:g.operador.apellidoM,tipoOperador:g.operador.idTipoOperador,estado:g.operador.idEstado,directivo:g.operador.idDirectivo});Z(()=>g.operador,async d=>{r.idOperador=d.idOperador,r.nombre=d.nombre,r.apellidoP=d.apellidoP,r.apellidoM=d.apellidoM,r.tipoOperador=d.idTipoOperador,r.estado=d.idEstado,r.directivo=d.idDirectivo},{deep:!0});const w=h(""),y=h(""),v=h(""),c=h(""),T=h(""),O=h(""),_=async()=>{B("close"),r.reset()},M=d=>typeof d=="string"&&d.trim()!=="",P=d=>d!=null,N=async()=>{w.value=M(r.nombre)?"":"Ingrese el nombre",y.value=M(r.apellidoP)?"":"Ingrese el apellido Paterno",v.value=M(r.apellidoM)?"":"Ingrese el apellido Materno",c.value=P(r.tipoOperador)?"":"Seleccione el tipo de operador",T.value=P(r.estado)?"":"Seleccione el estado",O.value=P(r.directivo)?"":"Seleccione para que socio trabaja",!(w.value||y.value||v.value||c.value||O.value)&&r.post(route("principal.addOperador"),{onSuccess:()=>{_(),w.value="",y.value="",v.value="",c.value="",O.value=""}})};return(d,o)=>(i(),H(oe,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:_},{default:z(()=>[e("div",ie,[e("form",{onSubmit:ee(N,["prevent"])},[e("div",le,[e("h2",ne,u(s.title),1),o[18]||(o[18]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[m("Rellene el formulario para poder registrar a un nuevo operador. Los campos con "),e("span",{class:"text-red-500"},"*"),m(" son obligatorios. ")],-1)),e("div",pe,[e("div",ce,[e("div",ue,[o[7]||(o[7]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),e("div",me,[k(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":o[0]||(o[0]=t=>a(r).idOperador=t),placeholder:"Ingrese id del operador",id:"idOperador"+s.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ge),[[I,a(r).idOperador]])])])]),e("div",be,[o[8]||(o[8]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",xe,[k(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+s.op,"onUpdate:modelValue":o[1]||(o[1]=t=>a(r).apellidoP=t),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,fe),[[I,a(r).apellidoP]])]),y.value!=""?(i(),n("div",ye,u(y.value),1)):E("",!0)]),e("div",ve,[o[9]||(o[9]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",he,[k(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+s.op,"onUpdate:modelValue":o[2]||(o[2]=t=>a(r).apellidoM=t),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Oe),[[I,a(r).apellidoM]])]),v.value!=""?(i(),n("div",ke,u(v.value),1)):E("",!0)]),e("div",we,[o[10]||(o[10]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ee,[k(e("input",{type:"text",name:"nombre",id:"nombre"+s.op,"onUpdate:modelValue":o[3]||(o[3]=t=>a(r).nombre=t),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,$e),[[I,a(r).nombre]])]),w.value!=""?(i(),n("div",Se,u(w.value),1)):E("",!0)]),e("div",_e,[o[12]||(o[12]=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Me,[k(e("select",{name:"tipoOperador",id:"tipoOperador"+s.op,"onUpdate:modelValue":o[4]||(o[4]=t=>a(r).tipoOperador=t),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[11]||(o[11]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1)),(i(!0),n(A,null,j(s.tipoOperador,t=>(i(),n("option",{key:t.idTipoOperador,value:t.idTipoOperador},u(t.tipOperador),9,Pe))),128))],8,Te),[[C,a(r).tipoOperador]])]),c.value!=""?(i(),n("div",De,u(c.value),1)):E("",!0)]),e("div",Ie,[o[14]||(o[14]=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Estado"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ae,[k(e("select",{name:"estado",id:"estado"+s.op,"onUpdate:modelValue":o[5]||(o[5]=t=>a(r).estado=t),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[13]||(o[13]=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1)),(i(!0),n(A,null,j(s.estado,t=>(i(),n("option",{key:t.idEstado,value:t.idEstado},u(t.estado),9,Ce))),128))],8,je),[[C,a(r).estado]])]),T.value!=""?(i(),n("div",Be,u(T.value),1)):E("",!0)]),o[17]||(o[17]=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1)),e("div",Ne,[o[16]||(o[16]=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Jefe"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ue,[k(e("select",{name:"directivo",id:"directivo"+s.op,"onUpdate:modelValue":o[6]||(o[6]=t=>a(r).directivo=t),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[15]||(o[15]=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1)),(i(!0),n(A,null,j(s.directivo,t=>(i(),n("option",{key:t.idDirectivo,value:t.idDirectivo},u(t.nombre_completo),9,qe))),128))],8,Fe),[[C,a(r).directivo]])]),O.value!=""?(i(),n("div",Re,u(O.value),1)):E("",!0)])])]),e("div",ze,[e("button",{type:"button",id:"cerrar"+s.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:_},o[19]||(o[19]=[e("i",{class:"fa-solid fa-ban"},null,-1),m(" Cancelar")]),8,Le),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:a(r).processing},o[20]||(o[20]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),m("Guardar")]),8,Ve)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Je={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ge={class:"border-b border-gray-900/10 pb-12"},He={class:"text-base font-semibold leading-7 text-gray-900"},Xe={class:"flex flex-wrap"},Ye={class:"md:col-span-2"},Ke={class:"sm:col-span-2",hidden:""},Qe={class:"mt-1"},Ze=["id"],eo={class:"md:col-span-2 px-4"},oo={class:"mt-2"},to=["id"],ro={key:0,class:"text-red-500 text-xs mt-1"},so={class:"sm:col-span-2 px-4"},ao={class:"mt-2"},io=["id"],lo={key:0,class:"text-red-500 text-xs mt-1"},no={class:"sm:col-span-2 px-4"},po={class:"mt-2"},co=["id"],uo={key:0,class:"text-red-500 text-xs mt-1"},mo={class:"sm:col-span-2 px-4"},go={class:"mt-2"},bo=["id"],xo=["value"],fo={key:0,class:"text-red-500 text-xs mt-1"},yo={class:"sm:col-span-2 px-4"},vo={class:"mt-2"},ho=["id"],Oo=["value"],ko={key:0,class:"text-red-500 text-xs mt-1"},wo={class:"sm:col-span-2 px-4"},Eo={class:"mt-2"},$o=["id"],So=["value"],_o={key:0,class:"text-red-500 text-xs mt-1"},Mo={class:"mt-6 flex items-center justify-end gap-x-6"},To=["id"],Po=["disabled"],Do={__name:"FormularioActualizarOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(s,{emit:l}){const g=s,B=l,r=G({_method:"PUT",idOperador:g.operador.idOperador,nombre:g.operador.nombre,apellidoP:g.operador.apellidoP,apellidoM:g.operador.apellidoM,tipoOperador:g.operador.idTipoOperador,estado:g.operador.idEstado,directivo:g.operador.idDirectivo});Z(()=>g.operador,async d=>{r.idOperador=d.idOperador,r.nombre=d.nombre,r.apellidoP=d.apellidoP,r.apellidoM=d.apellidoM,r.tipoOperador=d.idTipoOperador,r.estado=d.idEstado,r.directivo=d.idDirectivo},{deep:!0});const w=h(""),y=h(""),v=h(""),c=h(""),T=h(""),O=h(""),_=async()=>{B("close"),r.reset()},M=d=>typeof d=="string"&&d.trim()!=="",P=d=>d!=null,N=async()=>{w.value=M(r.nombre)?"":"Ingrese el nombre",y.value=M(r.apellidoP)?"":"Ingrese el apellido Paterno",v.value=M(r.apellidoM)?"":"Ingrese el apellido Materno",c.value=P(r.tipoOperador)?"":"Selecciones el tipo de operador",O.value=P(r.directivo)?"":"Seleccione para que socio trabaja",!(w.value||y.value||v.value||c.value||O.value)&&r.post(route("principal.actualizarOperador",r.idOperador),{onSuccess:()=>{_(),w.value="",y.value="",v.value="",c.value="",O.value=""}})};return(d,o)=>(i(),H(oe,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:_},{default:z(()=>[e("div",Je,[e("form",{onSubmit:ee(N,["prevent"])},[e("div",Ge,[e("h2",He,u(s.title),1),o[18]||(o[18]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Modifique los datos según sea necesario y guarde los cambios. ",-1)),e("div",Xe,[e("div",Ye,[e("div",Ke,[o[7]||(o[7]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),e("div",Qe,[k(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":o[0]||(o[0]=t=>a(r).idOperador=t),placeholder:"Ingrese id del operador",id:"idOperador"+s.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ze),[[I,a(r).idOperador]])])])]),e("div",eo,[o[8]||(o[8]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",oo,[k(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+s.op,"onUpdate:modelValue":o[1]||(o[1]=t=>a(r).apellidoP=t),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,to),[[I,a(r).apellidoP]])]),y.value!=""?(i(),n("div",ro,u(y.value),1)):E("",!0)]),e("div",so,[o[9]||(o[9]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",ao,[k(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+s.op,"onUpdate:modelValue":o[2]||(o[2]=t=>a(r).apellidoM=t),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,io),[[I,a(r).apellidoM]])]),v.value!=""?(i(),n("div",lo,u(v.value),1)):E("",!0)]),e("div",no,[o[10]||(o[10]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres"),e("span",{class:"text-red-500"},"*")],-1)),e("div",po,[k(e("input",{type:"text",name:"nombre",id:"nombre"+s.op,"onUpdate:modelValue":o[3]||(o[3]=t=>a(r).nombre=t),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,co),[[I,a(r).nombre]])]),w.value!=""?(i(),n("div",uo,u(w.value),1)):E("",!0)]),e("div",mo,[o[12]||(o[12]=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1)),e("div",go,[k(e("select",{name:"tipoOperador",id:"tipoOperador"+s.op,"onUpdate:modelValue":o[4]||(o[4]=t=>a(r).tipoOperador=t),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[11]||(o[11]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1)),(i(!0),n(A,null,j(s.tipoOperador,t=>(i(),n("option",{key:t.idTipoOperador,value:t.idTipoOperador},u(t.tipOperador),9,xo))),128))],8,bo),[[C,a(r).tipoOperador]])]),c.value!=""?(i(),n("div",fo,u(c.value),1)):E("",!0)]),e("div",yo,[o[14]||(o[14]=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Estado"),e("span",{class:"text-red-500"},"*")],-1)),e("div",vo,[k(e("select",{name:"estado",id:"estado"+s.op,"onUpdate:modelValue":o[5]||(o[5]=t=>a(r).estado=t),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[13]||(o[13]=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1)),(i(!0),n(A,null,j(s.estado,t=>(i(),n("option",{key:t.idEstado,value:t.idEstado},u(t.estado),9,Oo))),128))],8,ho),[[C,a(r).estado]])]),T.value!=""?(i(),n("div",ko,u(T.value),1)):E("",!0)]),o[17]||(o[17]=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1)),e("div",wo,[o[16]||(o[16]=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Jefe"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Eo,[k(e("select",{name:"directivo",id:"directivo"+s.op,"onUpdate:modelValue":o[6]||(o[6]=t=>a(r).directivo=t),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[15]||(o[15]=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1)),(i(!0),n(A,null,j(s.directivo,t=>(i(),n("option",{key:t.idDirectivo,value:t.idDirectivo},u(t.nombre_completo),9,So))),128))],8,$o),[[C,a(r).directivo]])]),O.value!=""?(i(),n("div",_o,u(O.value),1)):E("",!0)])])]),e("div",Mo,[e("button",{type:"button",id:"cerrar"+s.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:_},o[19]||(o[19]=[e("i",{class:"fa-solid fa-ban"},null,-1),m(" Cancelar")]),8,To),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:a(r).processing},o[20]||(o[20]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),m("Guardar")]),8,Po)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Io={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},Ao={class:"py-3 flex flex-col md:flex-row md:items-start md:space-x-3 space-y-3 md:space-y-0"},K="xl",Q=!0,Lo={__name:"Operadores",props:{message:{String,default:""},color:{String,default:""},operador:{type:Object},tipoOperador:{type:Object},estado:{type:Object},directivo:{type:Object},usuario:{type:Object}},setup(s){L.use(Y),L.use(Y);const l=s,g=(o="Documento")=>{const t=new ae("landscape");t.setFontSize(12),t.text(o,14,22);const p=new Date().toLocaleDateString();t.setFontSize(8),t.text(`Fecha: ${p}`,260,22);const x=["ID","Apellido Paterno","Apellido Materno","Nombre","Tipo de Operador","Estado","Jefe"],b=[];V(()=>{$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().each(S=>{var F,D,X;b.push([S.idOperador,S.apellidoP,S.apellidoM,S.nombre,((F=l.tipoOperador.find(q=>q.idTipoOperador===S.idTipoOperador))==null?void 0:F.tipOperador)||"",((D=l.estado.find(q=>q.idEstado===S.idEstado))==null?void 0:D.estado)||"",((X=l.directivo.find(q=>q.idDirectivo===S.idDirectivo))==null?void 0:X.nombre_completo)||""])}),t.autoTable({head:[x],body:b,startY:24}),t.save(`${o}.pdf`)})},B=()=>{V(()=>{const p=$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().toArray().map(f=>{var U,S,F;return{ID:f.idOperador,"Apellido Paterno":f.apellidoP,"Apellido Materno":f.apellidoM,Nombre:f.nombre,"Tipo de Operador":((U=l.tipoOperador.find(D=>D.idTipoOperador===f.idTipoOperador))==null?void 0:U.tipOperador)||"",Estado:((S=l.estado.find(D=>D.idEstado===f.idEstado))==null?void 0:S.estado)||"",Jefe:((F=l.directivo.find(D=>D.idDirectivo===f.idDirectivo))==null?void 0:F.nombre_completo)||""}}),x=J.json_to_sheet(p),b=J.book_new();J.book_append_sheet(b,x,"Operadores Registrados"),de(b,"Operadores Registrados.xlsx")})},r=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Operadores Registrados",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>B()},{title:"Operadores Registrados",text:'<i class="fa-solid fa-file-pdf"></i> PDF',className:"bg-red-500 hover:bg-red-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>g(l.title||"Operadores registrados")},{title:"Operadores Registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[2,3,4,5,6,7,8]}}],w=[{data:null,render:function(o,t,p,x){return""}},{data:null,render:function(o,t,p,x){return`<input type="checkbox" class="operador-checkboxes" data-id="${p.idOperador}" ">`}},{data:null,render:function(o,t,p,x){return x.row+1}},{data:"apellidoP"},{data:"apellidoM"},{data:"nombre"},{data:"idTipoOperador",render:function(o,t,p,x){const b=l.tipoOperador.find(f=>f.idTipoOperador===o);return b?b.tipOperador:""}},{data:"idEstado",render:function(o,t,p,x){const b=l.estado.find(f=>f.idEstado===o);return b?b.estado:""}},{data:"idDirectivo",render:function(o,t,p,x){const b=l.directivo.find(f=>f.idDirectivo===o);return b?b.nombre_completo:""}},{data:null,render:function(o,t,p,x){return`<button class="editar-button" data-id="${p.idOperador}" style="display: flex; justify-content: center;"><i class="fa fa-pencil"></i></button>`}}],y=h(!1),v=h(!1),c=h([]),T=G({_method:"DELETE"});var O={};const _=o=>{O=o,v.value=!0},M=()=>{y.value=!1},P=()=>{v.value=!1},N=o=>{c.value.includes(o)?c.value=c.value.filter(p=>p!==o):c.value.push(o);const t=document.getElementById("eliminarABtn");c.value.length>0?t.removeAttribute("disabled"):t.setAttribute("disabled","")};re(()=>{V(()=>{document.getElementById("operadoresTablaId").addEventListener("click",o=>{const t=o.target;if(t.classList.contains("operador-checkboxes")){const p=parseInt(t.getAttribute("data-id"));if(l.operador){const x=l.operador.find(b=>b.idOperador===p);x?N(x):console.log("No se tiene operador")}}}),$("#operadoresTablaId").on("click",".editar-button",function(){const o=$(this).data("id"),t=l.operador.find(p=>p.idOperador===o);_(t)})})});const d=()=>{const o=W.mixin({buttonsStyling:!0}),t=c.value.map(p=>p.nombre_completo).join(", ");o.fire({title:"¿Estas seguro que deseas eliminar al operador seleccionado?",html:`Operadores seleccionados: ${t}`,icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i> Confirmar',cancelButtonText:'<i class="fa-solid fa-ban"></i> Cancelar'}).then(async p=>{if(p.isConfirmed)try{const b=c.value.map(U=>U.idOperador).join(",");await T.post(route("principal.eliminarOperador",b)),c.value=[];const f=document.getElementById("eliminarABtn");c.value.length>0?f.removeAttribute("disabled"):f.setAttribute("disabled",""),W.fire({title:"Operador(es) eliminado(s) correctamente",icon:"success"}),window.flash={message:"Operador(es) eliminado(s) correctamente",color:"green"}}catch(x){console.log("Error al eliminar varias operadores: "+x),W.fire({title:"Error",text:"Hubo un error al eliminar al operador. Por favor, inténtalo de nuevo más tarde.",icon:"error"})}})};return(o,t)=>(i(),H(te,{title:"Operadores",usuario:l.usuario},{default:z(()=>[e("div",Io,[t[4]||(t[4]=e("h2",{class:"font-bold text-center text-xl pt-0"},"Operadores",-1)),t[5]||(t[5]=e("div",{class:"my-1"},null,-1)),t[6]||(t[6]=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-3"},null,-1)),R(se),e("div",Ao,[e("button",{class:"bg-green-500 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded",onClick:t[0]||(t[0]=p=>y.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},t[1]||(t[1]=[e("i",{class:"fa fa-plus mr-2"},null,-1),m("Agregar Operador ")])),e("button",{id:"eliminarABtn",disabled:"",class:"bg-red-500 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded",onClick:d},t[2]||(t[2]=[e("i",{class:"fa fa-trash mr-2"},null,-1),m(" Eliminar Operador ")]))]),e("div",null,[R(a(L),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"operadoresTablaId",name:"operadoresTablaId",columns:w,data:s.operador,options:{responsive:!0,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:[r]}},{default:z(()=>t[3]||(t[3]=[e("thead",null,[e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," ID "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Tipo de operador "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Estado "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Jefe ")])],-1)])),_:1},8,["data","options"])])]),R(We,{show:y.value,"max-width":K,closeable:Q,onClose:M,title:"Añadir operador",modal:"modalCreate",operador:l.operador,tipoOperador:l.tipoOperador,estado:l.estado,directivo:l.directivo},null,8,["show","operador","tipoOperador","estado","directivo"]),R(Do,{show:v.value,"max-width":K,closeable:Q,onClose:P,title:"Editar operador",modal:"modalEdit",tipoOperador:l.tipoOperador,estado:l.estado,directivo:l.directivo,operador:a(O)},null,8,["show","tipoOperador","estado","directivo","operador"])]),_:1},8,["usuario"]))}};export{Lo as default};
