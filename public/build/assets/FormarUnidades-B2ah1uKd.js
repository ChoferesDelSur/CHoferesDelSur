import{e as Z,c as he,x as z,r as O,o as b,a as Q,w as K,b as e,g as oe,t as h,j as M,u as n,v as W,d as L,G as Y,h as S,i as H,B as ue,k as f,E as P,n as ce,F as J,y as ae,z as ge,I as Oe,M as ye,C as ve,D as Re,J as Je,A as ke}from"./app-CYjsmDsa.js";import"./buttons.print-8pZtUom-.js";import{_ as Ke}from"./Mensaje-DuPWzEgi.js";import"./jspdf.plugin.autotable-Xt2Ils1H.js";import{S as se}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{u as xe,w as Xe}from"./xlsx-DjuO7_Ju.js";import{_ as Ye}from"./ServicioLayout-U0_O4Lk5.js";import{_ as ie}from"./Modal-oql39c5a.js";/* empty css                   *//* empty css                                                */const Ze={class:"mt-2 bg-white p-4 shadow rounded-lg"},Qe={class:"border-b border-gray-900/10 pb-12"},et={class:"text-base font-semibold leading-7 text-gray-900"},tt={class:"flex flex-wrap -mx-4"},at={class:"md:col-span-2"},ot={class:"sm:col-span-2",hidden:""},it={class:"mt-1"},rt=["id"],dt={class:"sm:col-span-2 w-56 px-4"},st={class:"mt-2"},nt={key:0,class:"text-red-500 text-xs mt-1"},lt={class:"sm:col-span-2 px-4"},ut={class:"mt-2"},ct=["id"],mt={key:0,class:"text-red-500 text-xs"},gt={class:"sm:col-span-2 px-4"},pt={class:"mt-2"},bt={key:0,class:"text-red-500 text-xs"},ft={class:"sm:col-span-2 px-4"},vt={class:"mt-2"},xt={class:"block w-72 rounded-md border border-gray-300 px-1.5 py-1.5 text-gray-900 bg-gray-100 shadow-sm sm:text-sm sm:leading-6"},ht={class:"sm:col-span-2 px-4"},yt={class:"mt-2"},Ct={class:"block w-72 rounded-md border border-gray-300 px-1.5 py-1.5 text-gray-900 bg-gray-100 shadow-sm sm:text-sm sm:leading-6"},Ut={class:"mt-6 flex items-center justify-end gap-x-6"},$t=["id"],St=["disabled"],wt={__name:"FormularioRegHoraEntrada",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},entrada:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},operador:{type:Object,default:()=>({})},ruta:{type:Object,default:()=>({})},unidadesConOperador:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({idEntrada:d.entrada.idEntrada,unidad:d.entrada.idUnidad,horaEntrada:d.entrada.horaEntrada,extremo:d.entrada.extremo}),_=he(()=>{const a=d.unidadesConOperador.find(s=>s.idUnidad===t.unidad);return a&&a.ruta?a.ruta.nombreRuta:"Nombre de ruta"}),k=he(()=>{const a=d.unidadesConOperador.find(s=>s.idUnidad===t.unidad);return a&&a.operador?a.operador.nombre_completo:"Nombre de operador"});z(()=>d.entrada,async a=>{t.idEntrada=a.idEntrada,t.unidad=a.unidad,t.horaEntrada=a.horaEntrada,t.extremo=a.extremo},{deep:!0});const E=a=>a!=null,I=a=>a!=null,C=O(""),F=O(""),m=O(""),v=async()=>{T("close"),t.reset()},c=async()=>{F.value=E(t.horaEntrada)?"":"Seleccione la hora de entrada",C.value=E(t.unidad)?"":"Seleccione una unidad",m.value=I(t.extremo)?"":"Seleccione una opción",!(F.value||C.value||m.value)&&t.post(P("servicio.registarHoraEntrada"),{onSuccess:()=>{v(),F.value="",C.value="",m.value=""}})};return(a,s)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:v},{default:K(()=>[e("div",Ze,[e("form",{onSubmit:s[5]||(s[5]=oe(D=>o.op==="1"?c():a.update(),["prevent"]))},[e("div",Qe,[e("h2",et,h(o.title),1),s[14]||(s[14]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Rellene todos los campos para poder registrar la hora de Entrada de una unidad ",-1)),e("div",tt,[e("div",at,[e("div",ot,[s[6]||(s[6]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idEntrada",-1)),e("div",it,[M(e("input",{type:"number",name:"idEntrada","onUpdate:modelValue":s[0]||(s[0]=D=>n(t).idEntrada=D),placeholder:"Ingrese id de hora de entrada",id:"idEntrada"+o.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,rt),[[W,n(t).idEntrada]])])])]),e("div",dt,[s[7]||(s[7]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",st,[L(n(Y),{modelValue:n(t).unidad,"onUpdate:modelValue":s[1]||(s[1]=D=>n(t).unidad=D),options:o.unidadesConOperador.map(D=>({label:D.numeroUnidad,value:D.idUnidad})),placeholder:"Seleccione la unidad",reduce:D=>D.value,class:"w-full"},null,8,["modelValue","options","reduce"])]),C.value!=""?(b(),S("div",nt,h(C.value),1)):H("",!0)]),e("div",lt,[s[8]||(s[8]=e("label",{for:"horaEntrada",class:"block text-sm font-medium leading-6 text-gray-900"},"Hora de entrada",-1)),e("div",ut,[M(e("input",{type:"time",name:"horaEntrada",id:"horaEntrada"+o.op,"onUpdate:modelValue":s[2]||(s[2]=D=>n(t).horaEntrada=D),placeholder:"Seleccione la hora de entrada",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ct),[[W,n(t).horaEntrada]])]),F.value!=""?(b(),S("div",mt,h(F.value),1)):H("",!0)]),e("div",gt,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium leading-6 text-gray-900"},"¿Es de extremo?",-1)),e("div",pt,[M(e("input",{type:"radio",id:"si",value:"SI","onUpdate:modelValue":s[3]||(s[3]=D=>n(t).extremo=D)},null,512),[[ue,n(t).extremo]]),s[9]||(s[9]=e("label",{for:"si",class:"radio-label"}," Sí",-1)),M(e("input",{type:"radio",id:"no",value:"NO","onUpdate:modelValue":s[4]||(s[4]=D=>n(t).extremo=D)},null,512),[[ue,n(t).extremo]]),s[10]||(s[10]=e("label",{for:"no",class:"radio-label"}," No",-1))]),m.value!=""?(b(),S("div",bt,h(m.value),1)):H("",!0)]),e("div",ft,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium leading-6 text-gray-900"},"Operador",-1)),e("div",vt,[e("span",xt,h(k.value),1)])]),e("div",ht,[s[13]||(s[13]=e("label",{for:"ruta",class:"block text-sm font-medium leading-6 text-gray-900"},"Ruta",-1)),e("div",yt,[e("span",Ct,h(_.value),1)])])])]),e("div",Ut,[e("button",{type:"button",id:"cerrar"+o.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:v},s[15]||(s[15]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cancelar")]),8,$t),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},s[16]||(s[16]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),f("Guardar")]),8,St)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Et={class:"mt-2 bg-white p-4 shadow rounded-lg"},Rt={class:"border-b border-gray-900/10 pb-12"},kt={class:"text-base font-semibold leading-7 text-gray-900"},Ot={class:"flex flex-wrap -mx-4"},Ft={class:"sm:col-span-2 w-56 px-4"},Dt={class:"mt-2"},It={key:0,class:"text-red-500 text-xs mt-1"},jt={class:"sm:col-span-2 px-4"},_t={class:"mt-2"},Tt=["id"],Ht={key:0,class:"text-red-500 text-xs"},Nt={class:"sm:col-span-2 px-4"},At={class:"mt-2"},Mt=["id"],Bt={key:0,class:"text-red-500 text-xs mt-1"},Lt={class:"sm:col-span-2 px-4"},zt={class:"mt-2"},Vt=["id"],Wt={class:"mt-6 flex items-center justify-end gap-x-6"},Gt=["id"],Pt=["disabled"],qt={__name:"FormularioRegCorte",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},corte:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},unidadesConOperador:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({idCorte:d.corte.idCorte,unidad:d.corte.idUnidad,horaCorte:d.corte.horaCorte,causa:d.corte.corte,horaRegreso:d.corte.horaRegreso});z(()=>d.corte,async v=>{t.idCorte=v.idCorte,t.unidad=v.unidad,t.horaCorte=v.horaCorte,t.causa=v.causa,t.horaRegreso=v.horaRegreso},{deep:!0});const _=v=>v!=null,k=v=>typeof v=="string"&&v.trim()!=="",E=O(""),I=O(""),C=O("");O("");const F=async()=>{T("close"),t.reset()},m=async()=>{I.value=_(t.horaCorte)?"":"Seleccione la hora de corte",E.value=_(t.unidad)?"":"Seleccione una unidad",C.value=k(t.causa)?"":"Ingrese la causa del corte",!(I.value||E.value||C.value)&&t.post(P("servicio.registarCorte"),{onSuccess:()=>{F(),I.value="",E.value="",C.value=""}})};return(v,c)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:F},{default:K(()=>[e("div",Et,[e("form",{onSubmit:c[4]||(c[4]=oe(a=>o.op==="1"?m():v.update(),["prevent"]))},[e("div",Rt,[e("h2",kt,h(o.title),1),c[9]||(c[9]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[f("Rellene el formulario para poder registrar la hora de corte de una unidad. Los campos con "),e("span",{class:"text-red-500"},"*"),f(" son obligatorios. ")],-1)),e("div",Ot,[e("div",Ft,[c[5]||(c[5]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",Dt,[L(n(Y),{modelValue:n(t).unidad,"onUpdate:modelValue":c[0]||(c[0]=a=>n(t).unidad=a),options:o.unidadesConOperador.map(a=>({label:a.numeroUnidad,value:a.idUnidad})),placeholder:"Seleccione la unidad",reduce:a=>a.value,class:"w-full"},null,8,["modelValue","options","reduce"])]),E.value!=""?(b(),S("div",It,h(E.value),1)):H("",!0)]),e("div",jt,[c[6]||(c[6]=e("label",{for:"horaCorte",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Hora de corte "),e("span",{class:"text-red-500"},"*")],-1)),e("div",_t,[M(e("input",{type:"time",name:"horaCorte",id:"horaCorte"+o.op,"onUpdate:modelValue":c[1]||(c[1]=a=>n(t).horaCorte=a),placeholder:"Seleccione la hora de corte",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Tt),[[W,n(t).horaCorte]])]),I.value!=""?(b(),S("div",Ht,h(I.value),1)):H("",!0)]),e("div",Nt,[c[7]||(c[7]=e("label",{for:"causa",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Causa "),e("span",{class:"text-red-500"},"*")],-1)),e("div",At,[M(e("input",{type:"text",name:"causa",id:"causa"+o.op,"onUpdate:modelValue":c[2]||(c[2]=a=>n(t).causa=a),placeholder:"Ingrese la causa del corte",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Mt),[[W,n(t).causa]])]),C.value!=""?(b(),S("div",Bt,h(C.value),1)):H("",!0)]),e("div",Lt,[c[8]||(c[8]=e("label",{for:"horaRegreso",class:"block text-sm font-medium leading-6 text-gray-900"},"Hora de regreso",-1)),e("div",zt,[M(e("input",{type:"time",name:"horaRegreso",id:"horaRegreso"+o.op,"onUpdate:modelValue":c[3]||(c[3]=a=>n(t).horaRegreso=a),placeholder:"Seleccione la hora de regreso",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Vt),[[W,n(t).horaRegreso]])])])])]),e("div",Wt,[e("button",{type:"button",id:"cerrar"+o.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:F},c[10]||(c[10]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cancelar")]),8,Gt),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},c[11]||(c[11]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),f("Guardar")]),8,Pt)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Jt={class:"mt-2 bg-white p-4 shadow rounded-lg"},Kt={class:"border-b border-gray-900/10 pb-12"},Xt={class:"text-base font-semibold leading-7 text-gray-900"},Yt={class:"flex flex-wrap -mx-4"},Zt={class:"sm:col-span-2 w-56 px-4"},Qt={class:"mt-2"},ea={key:0,class:"text-red-500 text-xs mt-1"},ta={class:"sm:col-span-2 px-4"},aa={class:"mt-2"},oa=["id"],ia={key:0,class:"text-red-500 text-xs mt-1"},ra={class:"mt-6 flex items-center justify-end gap-x-6"},da=["id"],sa=["disabled"],na={__name:"FormularioRegRegreso",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},corte:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},unidadesConOperador:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({idCorte:d.corte.idCorte,unidad:d.corte.idUnidad,horaRegreso:d.corte.horaRegreso});z(()=>d.corte,async F=>{t.idCorte=F.idCorte,t.unidad=F.unidad,t.horaRegreso=d.corte.horaRegreso},{deep:!0});const _=F=>F!=null,k=O(""),E=O(""),I=async()=>{T("close"),t.reset()},C=async()=>{E.value=_(t.horaRegreso)?"":"Seleccione la hora de regreso",k.value=_(t.unidad)?"":"Seleccione una unidad",!(E.value||k.value)&&t.post(P("servicio.registrarHoraRegreso"),{onSuccess:()=>{I(),E.value="",k.value=""}})};return(F,m)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:I},{default:K(()=>[e("div",Jt,[e("form",{onSubmit:m[2]||(m[2]=oe(v=>o.op==="1"?C():F.update(),["prevent"]))},[e("div",Kt,[e("h2",Xt,h(o.title),1),m[5]||(m[5]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Rellene el formulario para poder registrar la hora de regreso del corte de una unidad. ",-1)),e("div",Yt,[e("div",Zt,[m[3]||(m[3]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",Qt,[L(n(Y),{modelValue:n(t).unidad,"onUpdate:modelValue":m[0]||(m[0]=v=>n(t).unidad=v),options:o.unidadesConOperador.map(v=>({label:v.numeroUnidad,value:v.idUnidad})),placeholder:"Seleccione la unidad",reduce:v=>v.value,class:"w-full"},null,8,["modelValue","options","reduce"])]),k.value!=""?(b(),S("div",ea,h(k.value),1)):H("",!0)]),e("div",ta,[m[4]||(m[4]=e("label",{for:"horaRegreso",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Hora de regreso "),e("span",{class:"text-red-500"},"*")],-1)),e("div",aa,[M(e("input",{type:"time",name:"horaRegreso",id:"horaRegreso"+o.op,"onUpdate:modelValue":m[1]||(m[1]=v=>n(t).horaRegreso=v),placeholder:"Seleccione la hora de regreso",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,oa),[[W,n(t).horaRegreso]])]),E.value!=""?(b(),S("div",ia,h(E.value),1)):H("",!0)])])]),e("div",ra,[e("button",{type:"button",id:"cerrar"+o.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:I},m[6]||(m[6]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cancelar")]),8,da),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},m[7]||(m[7]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),f("Guardar")]),8,sa)])],32)])]),_:1},8,["show","max-width","closeable"]))}},la={class:"mt-2 bg-white p-4 shadow rounded-lg"},ua={class:"border-b border-gray-900/10 pb-12"},ca={class:"text-base font-semibold leading-7 text-gray-900"},ma={class:"flex flex-wrap -mx-4"},ga={class:"sm:col-span-2 w-56 px-4"},pa={class:"mt-2"},ba={key:0,class:"text-red-500 text-xs mt-1"},fa={class:"sm:col-span-2 px-4"},va={class:"mt-2"},xa=["id"],ha={key:0,class:"text-red-500 text-xs mt-1"},ya={class:"sm:col-span-2 px-4"},Ca={class:"mt-2"},Ua=["id"],$a={key:0,class:"text-red-500 text-xs"},Sa={class:"sm:col-span-2 px-4"},wa={class:"mt-2"},Ea=["id"],Ra={key:0,class:"text-red-500 text-xs"},ka={class:"sm:col-span-2 px-4"},Oa={class:"mt-2"},Fa=["id"],Da={class:"mt-6 flex items-center justify-end gap-x-6"},Ia=["id"],ja=["disabled"],_a={__name:"FormularioCastigo",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},unidad:{type:Object,default:()=>({})},unidadesConOperador:{type:Object,default:()=>({})},castigo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({idCastigo:d.castigo.idCastigo,castigo:d.castigo.castigo,observaciones:d.castigo.observaciones,horaInicio:d.castigo.horaInicio,horaFin:d.castigo.horaFin,unidad:d.castigo.idUnidad});z(()=>d.castigo,async c=>{t.idCastigo=c.idCastigo,t.castigo=c.castigo,t.observaciones=c.observaciones,t.horaInicio=c.horaInicio,t.horaFin=d.horaFin,t.unidad=d.unidad},{deep:!0});const _=c=>c!=null,k=c=>typeof c=="string"&&c.trim()!=="",E=O(""),I=O(""),C=O(""),F=O(""),m=async()=>{T("close"),t.reset()},v=async()=>{I.value=_(t.horaInicio)?"":"Seleccione la hora de inicio del castigo",E.value=_(t.unidad)?"":"Seleccione una unidad",C.value=k(t.castigo)?"":"Ingrese motivo del castigo",!(I.value||E.value||C.value)&&t.post(P("servicio.registrarCastigo"),{onSuccess:()=>{m(),I.value="",E.value="",C.value=""}})};return(c,a)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:m},{default:K(()=>[e("div",la,[e("form",{onSubmit:a[5]||(a[5]=oe(s=>o.op==="1"?v():c.update(),["prevent"]))},[e("div",ua,[e("h2",ca,h(o.title),1),a[11]||(a[11]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[f("Rellene el formulario para poder registrar el castigo. Los campos con "),e("span",{class:"text-red-500"},"*"),f(" son obligatorios. ")],-1)),e("div",ma,[e("div",ga,[a[6]||(a[6]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Unidad "),e("span",{class:"text-red-500"},"*")],-1)),e("div",pa,[L(n(Y),{options:o.unidad,modelValue:n(t).unidad,"onUpdate:modelValue":a[0]||(a[0]=s=>n(t).unidad=s),reduce:s=>s.idUnidad,label:"numeroUnidad",placeholder:"Seleccione la unidad",class:ce({"border-red-500":E.value})},null,8,["options","modelValue","reduce","class"])]),E.value!=""?(b(),S("div",ba,h(E.value),1)):H("",!0)]),e("div",fa,[a[7]||(a[7]=e("label",{for:"castigo",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Castigo "),e("span",{class:"text-red-500"},"*")],-1)),e("div",va,[M(e("input",{type:"text",name:"castigo",id:"castigo"+o.op,"onUpdate:modelValue":a[1]||(a[1]=s=>n(t).castigo=s),placeholder:"Ingrese el motivo del castigo",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,xa),[[W,n(t).castigo]])]),C.value!=""?(b(),S("div",ha,h(C.value),1)):H("",!0)]),e("div",ya,[a[8]||(a[8]=e("label",{for:"horaInicio",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Hora de inicio "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ca,[M(e("input",{type:"time",name:"horaInicio",id:"horaInicio"+o.op,"onUpdate:modelValue":a[2]||(a[2]=s=>n(t).horaInicio=s),placeholder:"Seleccione la hora de inicio",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ua),[[W,n(t).horaInicio]])]),I.value!=""?(b(),S("div",$a,h(I.value),1)):H("",!0)]),e("div",Sa,[a[9]||(a[9]=e("label",{for:"horaFin",class:"block text-sm font-medium leading-6 text-gray-900"},"Hora fin ",-1)),e("div",wa,[M(e("input",{type:"time",name:"horaFin",id:"horaFin"+o.op,"onUpdate:modelValue":a[3]||(a[3]=s=>n(t).horaFin=s),placeholder:"Seleccione la horade finalización",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ea),[[W,n(t).horaFin]])]),F.value!=""?(b(),S("div",Ra,h(F.value),1)):H("",!0)]),e("div",ka,[a[10]||(a[10]=e("label",{for:"observaciones",class:"block text-sm font-medium leading-6 text-gray-900"},"Observaciones",-1)),e("div",Oa,[M(e("input",{type:"text",name:"observaciones",id:"observaciones"+o.op,"onUpdate:modelValue":a[4]||(a[4]=s=>n(t).observaciones=s),placeholder:"Ingrese sus observaciones",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Fa),[[W,n(t).observaciones]])])])])]),e("div",Da,[e("button",{type:"button",id:"cerrar"+o.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:m},a[12]||(a[12]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cancelar")]),8,Ia),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},a[13]||(a[13]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),f("Guardar")]),8,ja)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Ta={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ha={class:"border-b border-gray-900/10 pb-12"},Na={class:"text-base font-semibold leading-7 text-gray-900"},Aa={class:"flex flex-wrap -mx-4"},Ma={class:"sm:col-span-2 w-56 px-4"},Ba={class:"mt-2"},La={key:0,class:"text-red-500 text-xs mt-1"},za={class:"sm:col-span-2 px-4"},Va={class:"mt-2"},Wa=["id"],Ga=["value"],Pa={key:0,class:"text-red-500 text-xs mt-1"},qa={class:"sm:col-span-2 px-4"},Ja={class:"mt-2"},Ka=["id"],Xa={key:0,class:"text-red-500 text-xs"},Ya={class:"sm:col-span-2 px-4"},Za={class:"mt-2"},Qa=["id"],eo={class:"mt-6 flex items-center justify-end gap-x-6"},to=["id"],ao=["disabled"],oo={__name:"FormularioRegUC",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},ultimaCorrida:{type:Object,default:()=>({})},tipoUltimaCorrida:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({idUltimaCorrida:d.ultimaCorrida.idUltimaCorrida,unidad:d.ultimaCorrida.idUnidad,tipoUltimaCorrida:d.ultimaCorrida.idTipoUltimaCorrida,horaInicioUC:d.ultimaCorrida.horaInicioUC,horaFinUC:d.ultimaCorrida.horaFinUC});z(()=>d.ultimaCorrida,async v=>{t.idUltimaCorrida=v.idUltimaCorrida,t.tipoUltimaCorrida=v.tipoUltimaCorrida,t.horaInicioUC=v.horaInicioUC,t.horaFinUC=v.horaFinUC},{deep:!0});const _=v=>v!=null,k=v=>v!=null,E=O(""),I=O(""),C=O(""),F=async()=>{T("close"),t.reset()},m=async()=>{I.value=_(t.horaInicioUC)?"":"Seleccione la hora de inicio de la última corrida",E.value=_(t.unidad)?"":"Seleccione una unidad",C.value=k(t.tipoUltimaCorrida)?"":"Seleccione al un tipo de corrida",!(I.value||E.value||C.value)&&t.post(P("servicio.registrarUC"),{onSuccess:()=>{F(),I.value="",E.value="",C.value=""}})};return(v,c)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:F},{default:K(()=>[e("div",Ta,[e("form",{onSubmit:c[4]||(c[4]=oe(a=>o.op==="1"?m():v.update(),["prevent"]))},[e("div",Ha,[e("h2",Na,h(o.title),1),c[10]||(c[10]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[f("Rellene el formulario para poder registrar la última corrida de una unidad. Los campos con "),e("span",{class:"text-red-500"},"*"),f(" son obligatorios. ")],-1)),e("div",Aa,[e("div",Ma,[c[5]||(c[5]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Unidad "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ba,[L(n(Y),{options:o.unidad,modelValue:n(t).unidad,"onUpdate:modelValue":c[0]||(c[0]=a=>n(t).unidad=a),reduce:a=>a.idUnidad,label:"numeroUnidad",placeholder:"Seleccione la unidad",class:ce({"border-red-500":E.value})},null,8,["options","modelValue","reduce","class"])]),E.value?(b(),S("div",La,h(E.value),1)):H("",!0)]),e("div",za,[c[7]||(c[7]=e("label",{for:"tipoCorrida",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Tipo de corrida "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Va,[M(e("select",{name:"tipoCorrida",id:"tipoCorrida"+o.op,"onUpdate:modelValue":c[1]||(c[1]=a=>n(t).tipoUltimaCorrida=a),placeholder:"Seleccione el tipo de la ultima corrida",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[c[6]||(c[6]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de corrida",-1)),(b(!0),S(J,null,ae(o.tipoUltimaCorrida,a=>(b(),S("option",{key:a.idTipoUltimaCorrida,value:a.idTipoUltimaCorrida},h(a.tipoUltimaCorrida),9,Ga))),128))],8,Wa),[[ge,n(t).tipoUltimaCorrida]])]),C.value!=""?(b(),S("div",Pa,h(C.value),1)):H("",!0)]),e("div",qa,[c[8]||(c[8]=e("label",{for:"horaInicioUC",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Hora de inicio "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ja,[M(e("input",{type:"time",name:"horaInicioUC",id:"horaInicioUC"+o.op,"onUpdate:modelValue":c[2]||(c[2]=a=>n(t).horaInicioUC=a),placeholder:"Seleccione la hora de inicio",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ka),[[W,n(t).horaInicioUC]])]),I.value!=""?(b(),S("div",Xa,h(I.value),1)):H("",!0)]),e("div",Ya,[c[9]||(c[9]=e("label",{for:"horaFinUC",class:"block text-sm font-medium leading-6 text-gray-900"},"Hora fin",-1)),e("div",Za,[M(e("input",{type:"time",name:"horaFinUC",id:"horaFinUC"+o.op,"onUpdate:modelValue":c[3]||(c[3]=a=>n(t).horaFinUC=a),placeholder:"Seleccione la hora de finalización",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Qa),[[W,n(t).horaFinUC]])])])])]),e("div",eo,[e("button",{type:"button",id:"cerrar"+o.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:F},c[11]||(c[11]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cancelar")]),8,to),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},c[12]||(c[12]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),f("Guardar")]),8,ao)])],32)])]),_:1},8,["show","max-width","closeable"]))}},io={class:"mt-2 bg-white p-4 shadow rounded-lg"},ro={class:"border-b border-gray-900/10 pb-12"},so={class:"text-base font-semibold leading-7 text-gray-900"},no={class:"flex flex-wrap -mx-4"},lo={class:"sm:col-span-2 w-56 px-4"},uo={class:"mt-2"},co={key:0,class:"text-red-500 text-xs mt-1"},mo={class:"sm:col-span-2 px-4"},go={class:"mt-2"},po=["id"],bo={key:0,class:"text-red-500 text-xs mt-1"},fo={class:"mt-6 flex items-center justify-end gap-x-6"},vo=["id"],xo=["disabled"],ho={__name:"FormularioRegresoUC",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},ultimaCorrida:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({idUltimaCorrida:d.ultimaCorrida.idUltimaCorrida,unidad:d.ultimaCorrida.idUnidad,horaFinUC:d.ultimaCorrida.horaFinUC});z(()=>d.ultimaCorrida,async F=>{t.idUltimaCorrida=F.idUltimaCorrida,t.horaFinUC=F.horaFinUC},{deep:!0});const _=F=>F!=null,k=O(""),E=O(""),I=async()=>{T("close"),t.reset()},C=async()=>{E.value=_(t.horaFinUC)?"":"Seleccione la hora de finalizacion de la última corrida",k.value=_(t.unidad)?"":"Seleccione una unidad",!(E.value||k.value)&&t.post(P("servicio.regresoUC"),{onSuccess:()=>{I(),E.value="",k.value=""}})};return(F,m)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:I},{default:K(()=>[e("div",io,[e("form",{onSubmit:m[2]||(m[2]=oe(v=>o.op==="1"?C():F.update(),["prevent"]))},[e("div",ro,[e("h2",so,h(o.title),1),m[5]||(m[5]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[f("Rellene el formulario para poder registrar la hora de regreso de la última corrida de la unidad. Los campos con "),e("span",{class:"text-red-500"},"*"),f(" son obligatorios. ")],-1)),e("div",no,[e("div",lo,[m[3]||(m[3]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Unidad "),e("span",{class:"text-red-500"},"*")],-1)),e("div",uo,[L(n(Y),{options:o.unidad,modelValue:n(t).unidad,"onUpdate:modelValue":m[0]||(m[0]=v=>n(t).unidad=v),label:"numeroUnidad",reduce:v=>v.idUnidad,class:ce({"border-red-500":k.value}),placeholder:"Seleccione la unidad"},null,8,["options","modelValue","reduce","class"])]),k.value!==""?(b(),S("div",co,h(k.value),1)):H("",!0)]),e("div",mo,[m[4]||(m[4]=e("label",{for:"horaFinUC",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Hora fin "),e("span",{class:"text-red-500"},"*")],-1)),e("div",go,[M(e("input",{type:"time",name:"horaFinUC",id:"horaFinUC"+o.op,"onUpdate:modelValue":m[1]||(m[1]=v=>n(t).horaFinUC=v),placeholder:"Seleccione la hora de finalización",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,po),[[W,n(t).horaFinUC]])]),k.value!=""?(b(),S("div",bo,h(k.value),1)):H("",!0)])])]),e("div",fo,[e("button",{type:"button",id:"cerrar"+o.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:I},m[6]||(m[6]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cancelar")]),8,vo),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},m[7]||(m[7]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),f("Guardar")]),8,xo)])],32)])]),_:1},8,["show","max-width","closeable"]))}},yo={class:"mt-2 bg-white p-4 shadow rounded-lg"},Co={class:"text-base font-semibold leading-7 text-gray-900"},Uo={class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},$o={class:"sm:col-span-2 px-4"},So={class:"mt-2"},wo=["value"],Eo={class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},Ro={class:"sm:col-span-2 px-4"},ko={class:"mt-2"},Oo=["value"],Fo={key:0,class:"text-red-500 text-xs mt-1 mb-4"},Do={class:"mt-6 flex items-center justify-end gap-x-6"},Io=["id"],jo=["disabled"],_o={__name:"FormularioDomingo",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},rolServicio:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({idRolServicio:d.rolServicio.idRolServicio,unidad:[],trabajaDomingo:d.rolServicio.trabajaDomingo,unidadesSi:[],unidadesNo:[]});z(()=>d.rolServicio,async a=>{t.idRolServicio=a.idRolServicio,t.trabajaDomingo=a.trabajaDomingo},{deep:!0});const _=async()=>{T("close"),t.reset()},k=(a,s)=>a.length>0||s.length>0,E=O(""),I=async()=>{E.value=k(t.unidadesSi,t.unidadesNo)?"":"Seleccione al menos una unidad en cualquiera de las opciones.",!E.value&&t.post(P("servicio.trabDomingo"),{data:t.data,onSuccess:()=>{_(),E.value=""}})},C=()=>{const a=new Date,s=a.getDay(),D=s===0?7:s,G=new Date(a);return G.setDate(a.getDate()-D),G.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},F=()=>{const a=new Date,D=7-a.getDay(),G=new Date(a);return G.setDate(a.getDate()+D),G.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},m=C(),v=F();function c(a){return a.sort((s,D)=>{const G=parseInt(s.numeroUnidad.split("-")[1],10),p=parseInt(D.numeroUnidad.split("-")[1],10);return G-p})}return z(()=>d.unidad,a=>{t.unidad=c([...a])},{immediate:!0}),(a,s)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:_},{default:K(()=>[e("div",yo,[e("form",{onSubmit:s[2]||(s[2]=oe(D=>o.op==="1"?I():a.update(),["prevent"]))},[e("h2",Co,h(o.title),1),e("p",Uo,[s[3]||(s[3]=f("Seleccione las unidades que trabajaron el : ")),e("strong",null,h(n(m)),1),s[4]||(s[4]=f(". "))]),e("div",$o,[s[6]||(s[6]=e("label",{for:"unidadesNo",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",So,[M(e("select",{name:"unidadesNo",id:"unidadesNo","onUpdate:modelValue":s[0]||(s[0]=D=>n(t).unidadesNo=D),multiple:"",size:"10",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[s[5]||(s[5]=e("option",{disabled:""},"Seleccione una o más unidades",-1)),(b(!0),S(J,null,ae(n(t).unidad,D=>(b(),S("option",{key:D.idUnidad,value:D.idUnidad},h(D.numeroUnidad),9,wo))),128))],512),[[ge,n(t).unidadesNo]])])]),e("p",Eo,[s[7]||(s[7]=f("Seleccione las unidades que trabajarán el próximo: ")),e("strong",null,h(n(v)),1),s[8]||(s[8]=f(". "))]),e("div",Ro,[s[10]||(s[10]=e("label",{for:"unidadesSi",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",ko,[M(e("select",{name:"unidadesSi",id:"unidadesSi","onUpdate:modelValue":s[1]||(s[1]=D=>n(t).unidadesSi=D),multiple:"",size:"10",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[s[9]||(s[9]=e("option",{disabled:""},"Seleccione una o más unidades",-1)),(b(!0),S(J,null,ae(n(t).unidad,D=>(b(),S("option",{key:D.idUnidad,value:D.idUnidad},h(D.numeroUnidad),9,Oo))),128))],512),[[ge,n(t).unidadesSi]])])]),E.value?(b(),S("div",Fo,h(E.value),1)):H("",!0),e("div",Do,[e("button",{type:"button",id:"cerrar"+o.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:_},s[11]||(s[11]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cancelar")]),8,Io),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},s[12]||(s[12]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),f("Guardar")]),8,jo)])],32)])]),_:1},8,["show","max-width","closeable"]))}},To={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ho={class:"border-b border-gray-900/10 pb-12"},No={class:"text-base font-semibold leading-7 text-gray-900"},Ao={class:"flex flex-wrap -mx-4"},Mo={class:"sm:col-span-2 w-56 px-4"},Bo={class:"mt-2"},Lo={key:0,class:"text-red-500 text-xs mt-1"},zo={class:"sm:col-span-2 px-4"},Vo={class:"mt-2"},Wo=["id"],Go={key:0,class:"text-red-500 text-xs"},Po={class:"mt-6 flex items-center justify-end gap-x-6"},qo=["id"],Jo=["disabled"],Ko={__name:"FormularioFinCastigo",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},unidad:{type:Object,default:()=>({})},unidadesConOperador:{type:Object,default:()=>({})},castigo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({idCastigo:d.castigo.idCastigo,horaFin:d.castigo.horaFin,unidad:d.castigo.idUnidad});z(()=>d.castigo,async F=>{t.idCastigo=F.idCastigo,t.horaFin=d.horaFin,t.unidad=d.unidad},{deep:!0});const _=F=>F!=null,k=O(""),E=O(""),I=async()=>{T("close"),t.reset()},C=async()=>{k.value=_(t.unidad)?"":"Seleccione una unidad",E.value=_(t.horaFin)?"":"Seleccione la hora de fin del castigo",!(k.value||E.value)&&t.post(P("servicio.registrarFinCastigo"),{onSuccess:()=>{I(),k.value="",E.value=""}})};return(F,m)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:I},{default:K(()=>[e("div",To,[e("form",{onSubmit:m[2]||(m[2]=oe(v=>o.op==="1"?C():F.update(),["prevent"]))},[e("div",Ho,[e("h2",No,h(o.title),1),m[5]||(m[5]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[f("Rellene el formulario para poder registrar el castigo. Los campos con "),e("span",{class:"text-red-500"},"*"),f(" son obligatorios. ")],-1)),e("div",Ao,[e("div",Mo,[m[3]||(m[3]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},[f("Unidad "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Bo,[L(n(Y),{options:o.unidad,modelValue:n(t).unidad,"onUpdate:modelValue":m[0]||(m[0]=v=>n(t).unidad=v),reduce:v=>v.idUnidad,label:"numeroUnidad",placeholder:"Seleccione la unidad",class:ce({"border-red-500":k.value})},null,8,["options","modelValue","reduce","class"])]),k.value!=""?(b(),S("div",Lo,h(k.value),1)):H("",!0)]),e("div",zo,[m[4]||(m[4]=e("label",{for:"horaFin",class:"block text-sm font-medium leading-6 text-gray-900"},"Hora fin ",-1)),e("div",Vo,[M(e("input",{type:"time",name:"horaFin",id:"horaFin"+o.op,"onUpdate:modelValue":m[1]||(m[1]=v=>n(t).horaFin=v),placeholder:"Seleccione la horade finalización",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Wo),[[W,n(t).horaFin]])]),E.value!=""?(b(),S("div",Go,h(E.value),1)):H("",!0)])])]),e("div",Po,[e("button",{type:"button",id:"cerrar"+o.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:I},m[6]||(m[6]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cancelar")]),8,qo),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},m[7]||(m[7]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),f("Guardar")]),8,Jo)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Xo={class:"mt-2 bg-white p-4 shadow rounded-lg"},Yo={class:"border-b border-gray-900/10 pb-12"},Zo={class:"text-base font-bold leading-7 text-gray-900"},Qo={class:"flex flex-wrap -mx-4"},ei={class:"sm:col-span-2 w-64 px-4"},ti={class:"mt-2"},ai={key:0,class:"text-sm text-red-600"},oi={class:"sm:col-span-2 w-72 px-4"},ii={class:"mt-2"},ri={key:0,class:"text-sm text-red-600"},di={key:0,class:"mt-4"},si=["value"],ni={class:"mt-4"},li={key:0},ui=["for"],ci={class:"mt-2"},mi=["onUpdate:modelValue"],gi=["onUpdate:modelValue"],pi={key:2},bi=["value","onUpdate:modelValue"],fi=["onUpdate:modelValue"],vi=["value"],xi={class:"mt-6 flex items-center justify-end gap-x-6"},hi=["disabled"],yi={__name:"FormularioEditarRegistro",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},entrada:{type:Object,default:()=>({})},corte:{type:Object,default:()=>({})},castigo:{type:Object,default:()=>({})},ultimaCorrida:{type:Object,default:()=>({})},unidadesConOperador:{type:Object,default:()=>({})},tipoUltimaCorrida:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({_method:"PUT",idEntrada:d.entrada.idEntrada,horaEntrada:d.entrada.horaEntrada,extremo:d.entrada.extremo,idCorte:d.corte.idCorte,horaCorte:d.corte.horaCorte,causa:d.corte.causa,horaRegreso:d.corte.horaRegreso,idCastigo:d.castigo.idCastigo,castigo:d.castigo.castigo,observaciones:d.castigo.observaciones,horaInicio:d.castigo.horaInicio,horaFin:d.castigo.horaFin,idUltimaCorrida:d.ultimaCorrida.idUltimaCorrida,horaInicioUC:d.ultimaCorrida.horaInicioUC,horaFinUC:d.ultimaCorrida.horaFinUC,tipoUltimaCorrida:d.ultimaCorrida.idTipoUltimaCorrida}),_=O(null),k=O(null),E=O([]);O({});const I=O([]),C=O(null),F=p=>{switch(p){case"entradas":return{horaEntrada:{label:"Hora de Entrada",type:"time"},extremo:{label:"Extremo",type:"radio",options:["SI","NO"]}};case"cortes":return{horaCorte:{label:"Hora de Corte",type:"time"},causa:{label:"Causa",type:"text"},horaRegreso:{label:"Hora de Regreso",type:"time"}};case"castigos":return{castigo:{label:"Motivo",type:"text"},observaciones:{label:"Observaciones",type:"text"},horaInicio:{label:"Hora de Inicio",type:"time"},horaFin:{label:"Hora de Fin",type:"time"}};case"ultima_corrida":return{horaInicioUC:{label:"Hora de Inicio de Última Corrida",type:"time"},horaFinUC:{label:"Hora de Fin de Última Corrida",type:"time"},tipoUltimaCorrida:{label:"Tipo de Última Corrida",type:"select",options:d.tipoUltimaCorrida.map(u=>({value:u.idTipoUltimaCorrida,label:u.tipoUltimaCorrida}))}}}};z(()=>C.value,p=>{p&&(m(p),console.log("Registro seleccionado:",C.value))});const m=p=>{t.idEntrada=p.idEntrada,t.horaEntrada=p.horaEntrada,t.extremo=p.extremo,t.idCorte=p.idCorte,t.horaCorte=p.horaCorte,t.causa=p.causa,t.horaRegreso=p.horaRegreso,t.idCastigo=p.idCastigo,t.castigo=p.castigo,t.observaciones=p.observaciones,t.horaInicio=p.horaInicio,t.horaFin=p.horaFin,t.idUltimaCorrida=p.idUltimaCorrida,t.horaInicioUC=p.horaInicioUC,t.horaFinUC=p.horaFinUC,t.tipoUltimaCorrida=p.idTipoUltimaCorrida};z(()=>d.entrada,async p=>{t.idEntrada=p.idEntrada,t.horaEntrada=p.horaEntrada,t.extremo=p.extremo},{deep:!0}),z(()=>d.corte,async p=>{t.idCorte=p.idCorte,t.horaCorte=p.horaCorte,t.causa=p.causa,t.horaRegreso=p.horaRegreso}),z(()=>d.castigo,async p=>{t.idCastigo=p.idCastigo,t.castigo=p.castigo,t.observaciones=p.observaciones,t.horaInicio=p.horaInicio,t.horaFin=p.horaFin}),z(()=>d.ultimaCorrida,async p=>{t.idUltimaCorrida=p.idUltimaCorrida,t.horaInicioUC=p.horaInicioUC,t.horaFinUC=p.horaFinUC,t.tipoUltimaCorrida=p.idTipoUltimaCorrida}),z(()=>k,p=>{p&&(E.value=F(p))});const v=[{label:"Entrada",value:"entradas"},{label:"Corte",value:"cortes"},{label:"Castigo",value:"castigos"},{label:"Ultima Corrida",value:"ultima_corrida"}],c=async()=>{T("close"),t.reset()},a=async()=>{if(_.value&&k.value)try{const p=await Oe.get(P("servicio.obtenerRegistros",{tipoRegistro:k.value.value}),{params:{idUnidad:_.value.value}});I.value=p.data,I.value.length===1?(C.value=I.value[0],m(C.value)):(C.value=null,t.reset()),E.value=F(k.value.value)}catch(p){console.error("Error fetching records:",p)}},s=O(""),D=O(""),G=async()=>{if(s.value="",D.value="",_.value||(s.value="La unidad es obligatoria"),k.value||(D.value="El tipo de registro es obligatorio"),s.value||D.value)return;let p;switch(k.value.value){case"entradas":p=P("servicio.actualizarEntrada",{id:t.idEntrada});break;case"cortes":p=P("servicio.actualizarCorte",{id:t.idCorte});break;case"castigos":p=P("servicio.actualizarCastigo",{id:t.idCastigo});break;case"ultima_corrida":p=P("servicio.actualizarUltimaCorrida",{id:t.idUltimaCorrida});break;default:console.error("Tipo de registro no válido");return}try{t.post(p,{onSuccess:()=>{c()}})}catch(x){console.error("Error al actualizar el registro:",x)}};return(p,u)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:c},{default:K(()=>[e("div",Xo,[e("form",{onSubmit:oe(G,["prevent"])},[e("div",Yo,[e("h2",Zo,h(o.title),1),e("div",Qo,[e("div",ei,[u[3]||(u[3]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",ti,[L(n(Y),{modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=x=>_.value=x),options:o.unidadesConOperador.map(x=>({label:x.numeroUnidad,value:x.idUnidad})),placeholder:"Seleccione la unidad",onChange:a,class:"w-full"},null,8,["modelValue","options"]),s.value?(b(),S("span",ai,h(s.value),1)):H("",!0)])]),e("div",oi,[u[4]||(u[4]=e("label",{for:"tipoRegistro",class:"block text-sm font-medium leading-6 text-gray-900"},"Tipo de Registro",-1)),e("div",ii,[L(n(Y),{modelValue:k.value,"onUpdate:modelValue":u[1]||(u[1]=x=>k.value=x),options:v,placeholder:"Seleccione un tipo de registro",onChange:a,class:"w-full"},null,8,["modelValue"]),D.value?(b(),S("span",ri,h(D.value),1)):H("",!0)])])])]),I.value.length>1?(b(),S("div",di,[u[5]||(u[5]=e("label",{class:"block text-md font-bold leading-6 text-gray-900"},"Registros Disponibles",-1)),(b(!0),S(J,null,ae(I.value,x=>(b(),S("div",{key:x.idEntrada,class:"flex items-center mb-2"},[M(e("input",{type:"radio",value:x,"onUpdate:modelValue":u[2]||(u[2]=R=>C.value=R),class:"mr-2"},null,8,si),[[ue,C.value]]),e("span",null,h(x.horaCorte)+" - "+h(x.causa),1)]))),128))])):H("",!0),e("div",ni,[E.value?(b(),S("div",li,[(b(!0),S(J,null,ae(E.value,(x,R)=>(b(),S("div",{key:R,class:"mb-4"},[e("label",{for:R,class:"block text-sm font-medium leading-6 text-gray-900"},h(x.label),9,ui),e("div",ci,[x.type==="time"?M((b(),S("input",{key:0,type:"time","onUpdate:modelValue":V=>n(t)[R]=V,class:"border rounded p-1 w-full"},null,8,mi)),[[W,n(t)[R]]]):H("",!0),x.type==="text"?M((b(),S("input",{key:1,type:"text","onUpdate:modelValue":V=>n(t)[R]=V,class:"border rounded p-1 w-full"},null,8,gi)),[[W,n(t)[R]]]):H("",!0),x.type==="radio"?(b(),S("div",pi,[(b(!0),S(J,null,ae(x.options,V=>(b(),S("div",{key:V,class:"flex items-center"},[M(e("input",{type:"radio",value:V,"onUpdate:modelValue":pe=>n(t)[R]=pe,class:"mr-2"},null,8,bi),[[ue,n(t)[R]]]),e("label",null,h(V),1)]))),128))])):H("",!0),x.type==="select"?M((b(),S("select",{key:3,"onUpdate:modelValue":V=>n(t)[R]=V,class:"border rounded p-1 w-full"},[(b(!0),S(J,null,ae(x.options,V=>(b(),S("option",{key:V.value,value:V.value},h(V.label),9,vi))),128))],8,fi)),[[ge,n(t)[R]]]):H("",!0)])]))),128))])):H("",!0)]),e("div",xi,[e("button",{type:"button",class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded",onClick:c},u[6]||(u[6]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cancelar ")])),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},u[7]||(u[7]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),f("Guardar ")]),8,hi)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Ci={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ui={class:"border-b border-gray-900/10 pb-12"},$i={class:"text-base font-bold leading-7 text-gray-900"},Si={class:"flex flex-wrap -mx-4"},wi={class:"sm:col-span-2 w-64 px-4"},Ei={class:"mt-2"},Ri={key:0,class:"text-sm text-red-600"},ki={class:"sm:col-span-2 w-72 px-4"},Oi={class:"mt-2"},Fi={key:0,class:"text-sm text-red-600"},Di={class:"mt-4"},Ii={key:0},ji=["value"],_i={key:1},Ti={__name:"FormularioEliminarRegistro",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},entrada:{type:Object,default:()=>({})},corte:{type:Object,default:()=>({})},castigo:{type:Object,default:()=>({})},ultimaCorrida:{type:Object,default:()=>({})},unidadesConOperador:{type:Object,default:()=>({})},tipoUltimaCorrida:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(o,{emit:i}){const d=o,T=i,t=Z({_method:"DELETE",idEntrada:d.entrada.idEntrada,horaEntrada:d.entrada.horaEntrada,extremo:d.entrada.extremo,idCorte:d.corte.idCorte,horaCorte:d.corte.horaCorte,causa:d.corte.causa,horaRegreso:d.corte.horaRegreso,idCastigo:d.castigo.idCastigo,castigo:d.castigo.castigo,observaciones:d.castigo.observaciones,horaInicio:d.castigo.horaInicio,horaFin:d.castigo.horaFin,idUltimaCorrida:d.ultimaCorrida.idUltimaCorrida,horaInicioUC:d.ultimaCorrida.horaInicioUC,horaFinUC:d.ultimaCorrida.horaFinUC,tipoUltimaCorrida:d.ultimaCorrida.idTipoUltimaCorrida}),_=O(null),k=O(null),E=O([]);O({});const I=O([]),C=O(null),F=u=>{switch(u){case"entradas":return{horaEntrada:{label:"Hora de Entrada",type:"time"},extremo:{label:"Extremo",type:"radio",options:["SI","NO"]}};case"cortes":return{horaCorte:{label:"Hora de Corte",type:"time"},causa:{label:"Causa",type:"text"},horaRegreso:{label:"Hora de Regreso",type:"time"}};case"castigos":return{castigo:{label:"Motivo",type:"text"},observaciones:{label:"Observaciones",type:"text"},horaInicio:{label:"Hora de Inicio",type:"time"},horaFin:{label:"Hora de Fin",type:"time"}};case"ultima_corrida":return{horaInicioUC:{label:"Hora de Inicio de Última Corrida",type:"time"},horaFinUC:{label:"Hora de Fin de Última Corrida",type:"time"},tipoUltimaCorrida:{label:"Tipo de Última Corrida",type:"select",options:d.tipoUltimaCorrida.map(x=>({value:x.idTipoUltimaCorrida,label:x.tipoUltimaCorrida}))}}}};z(()=>C.value,u=>{u&&(m(u),console.log("Registro seleccionado:",C.value))});const m=u=>{t.idEntrada=u.idEntrada,t.horaEntrada=u.horaEntrada,t.extremo=u.extremo,t.idCorte=u.idCorte,t.horaCorte=u.horaCorte,t.causa=u.causa,t.horaRegreso=u.horaRegreso,t.idCastigo=u.idCastigo,t.castigo=u.castigo,t.observaciones=u.observaciones,t.horaInicio=u.horaInicio,t.horaFin=u.horaFin,t.idUltimaCorrida=u.idUltimaCorrida,t.horaInicioUC=u.horaInicioUC,t.horaFinUC=u.horaFinUC,t.tipoUltimaCorrida=u.idTipoUltimaCorrida};z(()=>d.entrada,async u=>{t.idEntrada=u.idEntrada,t.horaEntrada=u.horaEntrada,t.extremo=u.extremo},{deep:!0}),z(()=>d.corte,async u=>{t.idCorte=u.idCorte,t.horaCorte=u.horaCorte,t.causa=u.causa,t.horaRegreso=u.horaRegreso}),z(()=>d.castigo,async u=>{t.idCastigo=u.idCastigo,t.castigo=u.castigo,t.observaciones=u.observaciones,t.horaInicio=u.horaInicio,t.horaFin=u.horaFin}),z(()=>d.ultimaCorrida,async u=>{t.idUltimaCorrida=u.idUltimaCorrida,t.horaInicioUC=u.horaInicioUC,t.horaFinUC=u.horaFinUC,t.tipoUltimaCorrida=u.idTipoUltimaCorrida}),z(()=>k,u=>{u&&(E.value=F(u))});const v=[{label:"Entrada",value:"entradas"},{label:"Corte",value:"cortes"},{label:"Castigo",value:"castigos"},{label:"Ultima Corrida",value:"ultima_corrida"}],c=async()=>{T("close"),t.reset(),_.value=null,k.value=null,I.value=[]},a=async()=>{if(_.value&&k.value)try{const u=await Oe.get(P("servicio.obtenerRegistros",{tipoRegistro:k.value.value}),{params:{idUnidad:_.value.value}});console.log(u.data),I.value=u.data,u.data.length,C.value=null}catch(u){console.error("Error fetching records:",u)}},s=O(""),D=O(""),G=async()=>{if(!C.value){alert("Debes seleccionar un registro para eliminar.");return}se.fire({title:"¿Estás seguro de que deseas eliminar este registro?",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(async u=>{if(u.isConfirmed)try{let x=null,R=null;if(C.value.idCorte?(x=C.value.idCorte,R="cortes"):C.value.idCastigo?(x=C.value.idCastigo,R="castigos"):C.value.idEntrada?(x=C.value.idEntrada,R="entradas"):C.value.idUltimaCorrida&&(x=C.value.idUltimaCorrida,R="ultima_corrida"),!x||!R){console.error("No se pudo determinar el ID o tipo de registro");return}console.log("ID del registro:",x),console.log("Tipo de registro:",R),await ye.Inertia.post(P("servicio.eliminarRegistro",{id:x}),{tipoRegistro:R,_method:"DELETE"}),se.fire({title:"Registro eliminado exitosamente",icon:"success"}),C.value=null,a()}catch(x){console.error("Error al eliminar el registro:",x),se.fire({title:"Error",text:"Ocurrió un error al eliminar el registro",icon:"error"})}})},p=u=>{if(!u)return"";const x=u.split(":");return x.length<2?"Formato de hora inválido":`${x[0]}:${x[1]}`};return(u,x)=>(b(),Q(ie,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:c},{default:K(()=>[e("div",Ci,[e("form",{onSubmit:x[3]||(x[3]=oe((...R)=>u.editarRegistro&&u.editarRegistro(...R),["prevent"]))},[e("div",Ui,[e("h2",$i,h(o.title),1),e("div",Si,[e("div",wi,[x[4]||(x[4]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",Ei,[L(n(Y),{modelValue:_.value,"onUpdate:modelValue":x[0]||(x[0]=R=>_.value=R),options:o.unidadesConOperador.map(R=>({label:R.numeroUnidad,value:R.idUnidad})),placeholder:"Seleccione la unidad",onChange:a,class:"w-full"},null,8,["modelValue","options"]),s.value?(b(),S("span",Ri,h(s.value),1)):H("",!0)])]),e("div",ki,[x[5]||(x[5]=e("label",{for:"tipoRegistro",class:"block text-sm font-medium leading-6 text-gray-900"},"Tipo de Registro",-1)),e("div",Oi,[L(n(Y),{modelValue:k.value,"onUpdate:modelValue":x[1]||(x[1]=R=>k.value=R),options:v,placeholder:"Seleccione un tipo de registro",onChange:a,class:"w-full"},null,8,["modelValue"]),D.value?(b(),S("span",Fi,h(D.value),1)):H("",!0)])])])]),e("div",Di,[x[7]||(x[7]=e("label",{class:"block text-md font-bold leading-6 text-gray-900"},"Registros Disponibles",-1)),I.value.length?(b(),S("div",Ii,[(b(!0),S(J,null,ae(I.value,R=>(b(),S("div",{key:R.idEntrada||R.idCorte||R.idCastigo||R.idUltimaCorrida},[M(e("input",{type:"radio",value:R,"onUpdate:modelValue":x[2]||(x[2]=V=>C.value=V),class:"mr-2"},null,8,ji),[[ue,C.value]]),e("span",null,[R.idCorte?(b(),S(J,{key:0},[f(h(p(R.horaCorte))+" - "+h(R.causa),1)],64)):R.idCastigo?(b(),S(J,{key:1},[f(h(R.castigo)+" - Inicio: "+h(p(R.horaInicio))+", Fin: "+h(p(R.horaFin)),1)],64)):R.idUltimaCorrida?(b(),S(J,{key:2},[f(" Última Corrida: Inicio: "+h(p(R.horaInicioUC))+", Fin: "+h(p(R.horaFinUC))+", Tipo: "+h(R.idTipoUltimaCorrida),1)],64)):R.idEntrada?(b(),S(J,{key:3},[f(" Entrada: "+h(p(R.horaEntrada))+" - Extremo: "+h(R.extremo),1)],64)):H("",!0)])]))),128))])):(b(),S("div",_i,x[6]||(x[6]=[e("p",null,"No hay registros disponibles.",-1)])))]),e("div",{class:"mt-6 flex items-center justify-end gap-x-6"},[e("button",{type:"button",class:"text-sm font-semibold leading-6 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded",onClick:c},x[8]||(x[8]=[e("i",{class:"fa-solid fa-ban"},null,-1),f(" Cerrar Formulario ")])),e("button",{type:"button",class:"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded",onClick:G},x[9]||(x[9]=[e("i",{class:"fa-solid fa-trash mr-2"},null,-1),f(" Eliminar ")]))])],32)])]),_:1},8,["show","max-width","closeable"]))}},Hi={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},Ni={class:"py-0 flex flex-col md:flex-row md:items-start md:space-x-3 space-y-3 md:space-y-0 mb-2"},Ai={class:"py-1 flex flex-col md:flex-row md:items-start md:space-x-3 space-y-3 md:space-y-0 mb-1"},Mi={class:"overflow-x-auto"},Bi={class:"text-center"},Li={class:"py-2 text-center text-sm font-semibold bg-gray-100 rounded mb-2"},zi={class:"overflow-x-auto py-2"},Vi={class:"checkbox-container"},Wi=["onUpdate:modelValue"],Gi={class:"text-sm leading-normal border-b border-gray-300"},ee="xl",te=!0,ar={__name:"FormarUnidades",props:{message:{String,default:""},color:{String,default:""},ruta:{type:Object},unidad:{type:Object},unidadesConOperador:{type:Object},operador:{type:Object},directivo:{type:Object},rolServicio:{type:Object},castigo:{type:Object},entrada:{type:Object},corte:{type:Object},ultimaCorrida:{type:Object},tipoUltimaCorrida:{type:Object},usuario:{type:Object}},setup(o){ve.use(Re),ve.use(Re);const i=o;function d(U){const l=new Date(U),j=new Date(l.setDate(l.getDate()-l.getDay()+1)),A=new Date(l.getFullYear(),0,1),y=Math.floor((j-A)/(24*60*60*1e3));return Math.ceil((y+A.getDay()+1)/7)}const T=new Date().toLocaleDateString(),t=k(new Date().getDay()),_=d(new Date);function k(U){return["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"][U]}const E=()=>{ke(()=>{const l=$("#formacionTablaId").DataTable().rows({search:"applied",page:"current"}).data();if(!l.length){console.warn("No hay datos para exportar.");return}const j=new Date().toISOString().split("T")[0],A=Object.fromEntries(i.ruta.map(w=>[w.idRuta,w.nombreRuta])),y=Object.fromEntries(i.rolServicio.map(w=>[w.idUnidad,w.trabajaDomingo])),r=Object.fromEntries(i.unidad.map(w=>[w.idUnidad,w.numeroUnidad])),g=Object.fromEntries(i.directivo.map(w=>[w.idDirectivo,w.nombre_completo])),B=Object.fromEntries(i.entrada.map(w=>[w.idUnidad,{horaEntrada:w.horaEntrada,tipoEntrada:w.tipoEntrada,extremo:w.extremo,created_at:w.created_at}]));Object.fromEntries(i.corte.map(w=>[w.idUnidad,[]]));const X=Object.fromEntries(i.ultimaCorrida.map(w=>[w.idUnidad,{tipoCorrida:w.idTipoUltimaCorrida,horaInicioUC:w.horaInicioUC,horaFinUC:w.horaFinUC,created_at:w.created_at}]));Object.fromEntries(i.castigo.map(w=>[w.idUnidad,[]]));const re=Object.fromEntries(i.operador.map(w=>[w.idOperador,{nombre_completo:w.nombre_completo,numLicencia:w.numLicencia}])),Ce=Object.fromEntries(i.tipoUltimaCorrida.map(w=>[w.idTipoUltimaCorrida,w.tipoUltimaCorrida])),de=w=>{if(!w)return"";const[N,ne]=w.split(":");return`${N}:${ne}`},ze=l.toArray().reduce((w,N)=>{var Se,we,Ee;const ne=B[N.idUnidad]||{},Pe=i.corte.filter(q=>q.idUnidad===N.idUnidad&&q.created_at.split("T")[0]===j),le=X[N.idUnidad],$e=i.castigo.filter(q=>q.idUnidad===N.idUnidad&&q.created_at.split("T")[0]===j),qe=y[N.idUnidad]||"Sin Asignar",be=((Se=ne.created_at)==null?void 0:Se.split("T")[0])===j,fe=((we=le==null?void 0:le.created_at)==null?void 0:we.split("T")[0])===j;return $e.length>0,w[N.idUnidad]||(w[N.idUnidad]={ID:N.idUnidad,Ruta:A[N.idRuta]||"N/A","Trab. Domingo":qe||"Sin Asignar",Unidad:r[N.idUnidad]||"","Socio/Prestador":g[N.idDirectivo]||"","Hr. Entrada":be?de(ne.horaEntrada):"","Tipo Entrada":be?ne.tipoEntrada:"",Extremo:be?ne.extremo:"","Hr. Corte":"",Causa:"","Hr. Regreso":"","Tipo De Corrida":fe&&Ce[le.tipoCorrida]||"","Hr. Inicio UC":fe?de(le.horaInicioUC):"","Hr. Regreso UC":fe?de(le.horaFinUC):"","Hr. Inicio":"","Hr. Finaliza":"",Motivo:"","Otras Observaciones":"",Operador:((Ee=re[N.idOperador])==null?void 0:Ee.nombre_completo)||"Sin Asignar","Num. Licencia":re[N.idOperador]?re[N.idOperador].numLicencia:""}),Pe.forEach(q=>{w[N.idUnidad]["Hr. Corte"]+=(w[N.idUnidad]["Hr. Corte"]?", ":"")+de(q.horaCorte),w[N.idUnidad].Causa+=(w[N.idUnidad].Causa?", ":"")+q.causa,w[N.idUnidad]["Hr. Regreso"]+=(w[N.idUnidad]["Hr. Regreso"]?", ":"")+de(q.horaRegreso)}),$e.forEach(q=>{w[N.idUnidad]["Hr. Inicio"]+=(w[N.idUnidad]["Hr. Inicio"]?", ":"")+de(q.horaInicio),w[N.idUnidad]["Hr. Finaliza"]+=(w[N.idUnidad]["Hr. Finaliza"]?", ":"")+de(q.horaFin),w[N.idUnidad].Motivo+=(w[N.idUnidad].Motivo?", ":"")+q.castigo,w[N.idUnidad]["Otras Observaciones"]+=(w[N.idUnidad]["Otras Observaciones"]?", ":"")+q.observaciones}),w},{}),Ve=Object.values(ze),We=xe.json_to_sheet(Ve),Ue=xe.book_new();xe.book_append_sheet(Ue,We,"Formación De Unidades");const Ge=new Date().toISOString().split("T")[0];Xe(Ue,`Formación_De_Unidades_${Ge}.xlsx`)})},I=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Formación De Unidades",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>E()},{title:"Formación De Unidades",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]}}],C=[{data:null,render:function(U,l,j,A){return`<span class="bg-sky-200 text-black py-1 px-2 rounded">${A.row+1}</span>`},visible:!0},{data:"idUnidad",title:"RUTA",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);return y?`<div class="bg-sky-200 text-black py-1 px-2 rounded">${i.ruta.find(g=>g.idRuta===y.idRuta).nombreRuta}</div>`:""},visible:!0},{data:"idUnidad",title:"DOM",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.rolServicio.filter(g=>g.idUnidad===y.idUnidad);return r.length>0?(r.sort((g,B)=>new Date(B.created_at)-new Date(g.created_at)),`<div class="bg-sky-200 text-black py-1 px-2 rounded">${r[0].trabajaDomingo}</div>`):'<div class="bg-sky-200 text-red-600 py-1 px-2 rounded"><span>Sin asignar</span></div>'}else return"Unidad no encontrada"},visible:!0},{data:"idUnidad",title:"UNIDAD",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);return`<div class="bg-sky-200 text-black py-1 px-2 rounded">${y?y.numeroUnidad:""}</div>`},visible:!0},{data:"idUnidad",title:"SOCIO/PRESTADOR",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.directivo.find(g=>g.idDirectivo===y.idDirectivo);return`<div class="bg-sky-200 text-black py-1 px-2 rounded">${r?r.nombre_completo:""}</div>`}else return""},visible:!0},{data:"idUnidad",title:"HORA ENTRADA",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.entrada.filter(g=>g.idUnidad===y.idUnidad&&new Date(g.created_at).toLocaleDateString()===T);if(r.length>0)return`<div class="bg-green-200 text-black py-1 px-2 rounded">${r.map(B=>B.horaEntrada.substring(0,5)).join(", ")}</div>`}return""},visible:!0},{data:"idUnidad",title:"TIPO ENTRADA",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.entrada.filter(g=>g.idUnidad===y.idUnidad&&new Date(g.created_at).toLocaleDateString()===T);if(r.length>0)return`<div class="bg-green-200 text-black py-1 px-2 rounded">${r.map(B=>B.tipoEntrada).join(", ")}</div>`}return""},visible:!0},{data:"idUnidad",title:"EXTREMO",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.entrada.filter(g=>g.idUnidad===y.idUnidad&&new Date(g.created_at).toLocaleDateString()===T);if(r.length>0)return`<div class="bg-green-200 text-black py-1 px-2 rounded" style="width: 100%; height: 100%;">${r.map(B=>B.extremo).join(", ")}</div>`}return""},visible:!0},{data:"idUnidad",title:"HORA CORTE",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.corte.filter(g=>g.idUnidad===y.idUnidad&&new Date(g.created_at).toLocaleDateString()===T);if(r.length>0)return`<div style="background-color: #f5c6cb; padding: 0.5rem;">${r.map((B,X)=>`
            <div style="${r.length>1&&X!==r.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
              <div>${B.horaCorte.substring(0,5)}</div>
            </div>
          `).join("")}</div>`}return""},visible:!0},{data:"idUnidad",title:"CAUSA",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.corte.filter(g=>g.idUnidad===y.idUnidad&&new Date(g.created_at).toLocaleDateString()===T);if(r.length>0)return`<div style="background-color: #f5c6cb; padding: 0.5rem;">${r.map((B,X)=>`
            <div style="${r.length>1&&X!==r.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
              <div>${B.causa}</div>
            </div>
          `).join("")}</div>`}return""},visible:!0},{data:"idUnidad",title:"HORA REGRESO",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.corte.filter(g=>g.idUnidad===y.idUnidad&&new Date(g.created_at).toLocaleDateString()===T);if(r.length>0)return`<div style="background-color: #f5c6cb; padding: 0.5rem;">${r.map((B,X)=>{const re=B.horaRegreso?B.horaRegreso.substring(0,5):"";return`
            <div style="${r.length>1&&X!==r.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
              <div>${re}</div>
            </div>
          `}).join("")}</div>`}return""},visible:!0},{data:"idUnidad",title:"TIPO",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.ultimaCorrida.filter(g=>g.idUnidad===y.idUnidad&&new Date(g.created_at).toLocaleDateString()===T);if(r.length>0){const g=i.tipoUltimaCorrida.find(B=>B.idTipoUltimaCorrida===r[0].idTipoUltimaCorrida);if(g)return`<div class="bg-purple-200 text-black py-1 px-2 rounded">${g.tipoUltimaCorrida}</div>`}}return""},visible:!0},{data:"idUnidad",title:"HORA INICIO",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.ultimaCorrida.filter(g=>g.idUnidad===y.idUnidad&&new Date(g.created_at).toLocaleDateString()===T);if(r.length>0){const g=r[0].horaInicioUC;return`<div class="bg-purple-200 text-black py-1 px-2 rounded">${g?g.substring(0,5):""}</div>`}}return""},visible:!0},{data:"idUnidad",title:"HORA REGRESO",className:"text-center",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.ultimaCorrida.filter(g=>g.idUnidad===y.idUnidad&&new Date(g.created_at).toLocaleDateString()===T);if(r.length>0){const g=r[0].horaFinUC;if(g)return`<div class="bg-purple-200 text-black py-1 px-2 rounded">${g.substring(0,5)}</div>`}}return""},visible:!0},{data:"idUnidad",title:"HORA INICIO CASTIGO",className:"text-center",render:function(U,l,j,A){const y=i.castigo.filter(r=>r.idUnidad===U&&new Date(r.created_at).toLocaleDateString()===T);if(y.length>0){const r=y.map(g=>({horaInicio:g.horaInicio?g.horaInicio.substring(0,5):""}));return r.map((g,B)=>`
          <div style="background-color: #fff3b0; ${r.length>1&&B!==r.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
            <div>${g.horaInicio}</div>
          </div>
        `).join("")}return""},visible:!0},{data:"idUnidad",title:"HORA FIN CASTIGO",className:"text-center",render:function(U,l,j,A){const y=i.castigo.filter(r=>r.idUnidad===U&&new Date(r.created_at).toLocaleDateString()===T);if(y.length>0){const r=y.map(g=>({horaFin:g.horaFin?g.horaFin.substring(0,5):""}));return r.map((g,B)=>`
          <div style="background-color: #fff3b0; ${r.length>1&&B!==r.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
            <div>${g.horaFin}</div>
          </div>
        `).join("")}return""},visible:!0},{data:"idUnidad",title:"MOTIVO",className:"text-center",render:function(U,l,j,A){const y=i.castigo.filter(r=>r.idUnidad===U&&new Date(r.created_at).toLocaleDateString()===T);if(y.length>0){const r=y.map(g=>g.castigo||"");return r.map((g,B)=>`<div style="background-color: #fff3b0; ${r.length>1&&B!==r.length-1?"border-bottom: 1px solid #b2b2b2;":""}">${g}</div>`).join("")}return""},visible:!0},{data:"idUnidad",title:"OBSERVACIONES",className:"text-center",render:function(U,l,j,A){const y=i.castigo.filter(r=>r.idUnidad===U&&new Date(r.created_at).toLocaleDateString()===T);if(y.length>0){const r=y.map(g=>g.observaciones||"");return r.map((g,B)=>`<div style="background-color: #fff3b0; ${r.length>1&&B!==r.length-1?"border-bottom: 1px solid #b2b2b2;":""}">${g}</div>`).join("")}return""},visible:!0},{data:"idUnidad",title:"OPERADOR",render:function(U,l,j,A){const y=i.unidad.find(r=>r.idUnidad===U);if(y){const r=i.operador.find(g=>g.idOperador===y.idOperador);return r?`<div class="bg-sky-200 text-black py-1 px-2 rounded">${r.nombre_completo}</div>`:'<div class="bg-sky-200 text-red-600 py-1 px-2 rounded"><span>Sin asignar</span></div>'}else return""},visible:!0}],F=O(!1),m=O(!1),v=O(!1),c=O(!1),a=O(!1),s=O(!1),D=O(!1),G=O(!1);O(!1);const p=O(!1),u=O(!1);Z({});const x=()=>{p.value=!1},R=()=>{u.value=!1},V=()=>{F.value=!1},pe=()=>{m.value=!1},Fe=()=>{v.value=!1},De=()=>{c.value=!1},Ie=()=>{a.value=!1},je=()=>{s.value=!1},_e=()=>{D.value=!1},Te=()=>{G.value=!1},He=()=>{se.fire({title:"¿Seguro de actualizar el Rol de Domingo?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#d33",confirmButtonText:"Sí, Actualizar",cancelButtonText:"Cancelar"}).then(U=>{U.isConfirmed&&ye.Inertia.post(route("servicio.cambiarRolServicio"),{},{onError:l=>{se.fire({icon:"error",title:"Error",text:"Ocurrió un error al actualizar el rol de servicio",confirmButtonText:"OK"}),console.error("Error al actualizar el rol de servicio:",l)}})})},Ne=()=>{se.fire({title:"¿Seguro de actualizar el Rol de Ruta?",text:'Las unidades que están en la ruta "LIBRAMIENTO - PLAZA DEL VALLE" se cambiarán a la ruta "ESMERALDA - COL. JARDIN" y viceversa',icon:"warning",showCancelButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#d33",confirmButtonText:"Sí, Actualizar",cancelButtonText:"Cancelar"}).then(U=>{U.isConfirmed&&ye.Inertia.post(route("servicio.actualizarRolRuta"),{_method:"PUT"},{onError:l=>{se.fire({icon:"error",title:"Error",text:"Ocurrió un error al actualizar el rol de rutas",confirmButtonText:"OK"}),console.error("Error al actualizar el rol de rutas:",l)}})})},Ae=()=>i.entrada.filter(U=>U.horaEntrada&&new Date(U.created_at).toLocaleDateString()===T).length,Me={responsive:!1,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)"},buttons:[I],paging:!1},Be=O([]),me=he(()=>C.filter(U=>U.visible)),Le=()=>{ke(()=>{const U=$("#formacionTablaId").DataTable();me.value.forEach((l,j)=>{U.column(j).visible(l.visible)}),U.ajax.reload()})};return(U,l)=>(b(),Q(Ye,{title:"Formar Unidades",usuario:i.usuario},{default:K(()=>[e("div",Hi,[l[24]||(l[24]=e("h3",{class:"font-bold text-center text-xl pt-0"}," Formar Unidades",-1)),l[25]||(l[25]=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-1.5"},null,-1)),L(Ke),e("div",Ni,[e("button",{class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",onClick:l[0]||(l[0]=j=>F.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[11]||(l[11]=[e("i",{class:"fa fa-check-circle","aria-hidden":"true"},null,-1),f(" Registrar Entrada ")])),e("button",{class:"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded",onClick:l[1]||(l[1]=j=>m.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[12]||(l[12]=[e("i",{class:"fa fa-scissors","aria-hidden":"true"},null,-1),f(" Registrar Corte ")])),e("button",{class:"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded",onClick:l[2]||(l[2]=j=>a.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[13]||(l[13]=[e("i",{class:"fa fa-history","aria-hidden":"true"},null,-1),f(" Registrar Regreso ")])),e("button",{class:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded",onClick:l[3]||(l[3]=j=>v.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[14]||(l[14]=[e("i",{class:"fa fa-bullhorn","aria-hidden":"true"},null,-1),f(" Registrar castigo ")])),e("button",{class:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded",onClick:l[4]||(l[4]=j=>c.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[15]||(l[15]=[e("i",{class:"fa fa-bullhorn","aria-hidden":"true"},null,-1),f(" Registrar Fin Castigo ")])),e("button",{class:"bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded",onClick:l[5]||(l[5]=j=>s.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[16]||(l[16]=[e("i",{class:"fa fa-arrow-circle-right","aria-hidden":"true"},null,-1),f(" Registrar UC ")])),e("button",{class:"bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded",onClick:l[6]||(l[6]=j=>D.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[17]||(l[17]=[e("i",{class:"fa fa-arrow-circle-left","aria-hidden":"true"},null,-1),f(" Regreso UC ")]))]),e("div",Ai,[e("button",{class:"bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded",onClick:l[7]||(l[7]=j=>G.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[18]||(l[18]=[e("i",{class:"fa fa-calendar","aria-hidden":"true"},null,-1),f(" Rol Domingo ")])),e("button",{class:"bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded",onClick:He},l[19]||(l[19]=[e("i",{class:"fa fa-calendar","aria-hidden":"true"},null,-1),f(" Actualizar Rol Servicio ")])),e("button",{class:"bg-cyan-500 hover:bg-cyan-600 text-white font-semibold py-2 px-4 rounded",onClick:Ne},l[20]||(l[20]=[e("i",{class:"fa fa-map","aria-hidden":"true"},null,-1),f(" Actualizar Rol Rutas ")])),e("button",{class:"bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2 px-4 rounded",onClick:l[8]||(l[8]=j=>p.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[21]||(l[21]=[e("i",{class:"fa fa-pencil","aria-hidden":"true"},null,-1),f(" Editar Registro ")])),e("button",{class:"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded",onClick:l[9]||(l[9]=j=>u.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},l[22]||(l[22]=[e("i",{class:"fa fa-trash","aria-hidden":"true"},null,-1),f(" Eliminar Registro ")]))]),e("div",Mi,[e("h1",Bi,[l[23]||(l[23]=f("Formaciones registradas: ")),e("strong",null,h(Ae()),1)]),e("div",Li,[e("span",null,"FECHA: "+h(n(t)+", "+n(T))+" -- SEMANA: "+h(n(_)),1)]),e("div",zi,[e("div",Vi,[(b(!0),S(J,null,ae(me.value,(j,A)=>(b(),S("label",{key:A,class:"checkbox-label"},[M(e("input",{type:"checkbox","onUpdate:modelValue":y=>j.visible=y,onChange:Le},null,40,Wi),[[Je,j.visible]]),f(" "+h(j.title),1)]))),128))])]),L(n(ve),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"formacionTablaId",name:"formacionTablaId",columns:me.value,data:o.unidad,options:Me},{default:K(()=>[e("thead",null,[e("tr",Gi,[Be.value.visible?(b(!0),S(J,{key:0},ae(me.value,j=>(b(),S("th",{key:j.title,class:ce([j.class,"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"])},[f(h(j.title)+" ",1),e("div",null,[M(e("input",{type:"text","onUpdate:modelValue":l[10]||(l[10]=A=>U.filters[U.columna.key]=A),placeholder:"Filtrar",class:"mt-1 p-1 text-xs w-full border rounded"},null,512),[[W,U.filters[U.columna.key]]])])],2))),128)):H("",!0)])])]),_:1},8,["columns","data"])])]),L(wt,{show:F.value,"max-width":ee,closeable:te,onClose:V,title:"Registrar hora de entrada",op:"1",modal:"modalCreate",entrada:i.entrada,unidad:i.unidad,unidadesConOperador:i.unidadesConOperador,ruta:i.ruta,operador:i.operador},null,8,["show","entrada","unidad","unidadesConOperador","ruta","operador"]),L(qt,{show:m.value,"max-width":ee,closeable:te,onClose:pe,title:"Registrar hora de corte",op:"1",modal:"modalCreate",corte:i.corte,unidad:i.unidad,unidadesConOperador:i.unidadesConOperador},null,8,["show","corte","unidad","unidadesConOperador"]),L(na,{show:a.value,"max-width":ee,closeable:te,onClose:Ie,title:"Registrar hora de regreso de corte",op:"1",modal:"modalCreate",unidad:i.unidad,unidadesConOperador:i.unidadesConOperador,corte:i.corte},null,8,["show","unidad","unidadesConOperador","corte"]),L(_a,{show:v.value,"max-width":ee,closeable:te,onClose:Fe,title:"Registrar un castigo",op:"1",modal:"modalCreate",unidad:i.unidad,unidadesConOperador:i.unidadesConOperador,castigo:i.castigo},null,8,["show","unidad","unidadesConOperador","castigo"]),L(Ko,{show:c.value,"max-width":ee,closeable:te,onClose:De,title:"Registrar Fin De Castigo",op:"1",modal:"modalCreate",unidad:i.unidad,unidadesConOperador:i.unidadesConOperador,castigo:i.castigo},null,8,["show","unidad","unidadesConOperador","castigo"]),L(oo,{show:s.value,"max-width":ee,closeable:te,onClose:je,title:"Registrar última corrida",op:"1",modal:"modalCreate",ultimaCorrida:i.ultimaCorrida,tipoUltimaCorrida:i.tipoUltimaCorrida,unidad:i.unidad},null,8,["show","ultimaCorrida","tipoUltimaCorrida","unidad"]),L(ho,{show:D.value,"max-width":ee,closeable:te,onClose:_e,title:"Registrar hora de regreso de última corrida",op:"1",modal:"modalCreate",ultimaCorrida:i.ultimaCorrida,unidad:i.unidad},null,8,["show","ultimaCorrida","unidad"]),L(_o,{show:G.value,"max-width":ee,closeable:te,onClose:Te,title:"Registrar las unidades que trabajaran domingo",op:"1",modal:"modalCreate",rolServicio:i.rolServicio,unidad:i.unidad},null,8,["show","rolServicio","unidad"]),L(yi,{show:p.value,"max-width":ee,closeable:te,onClose:x,title:"Editar Registro",op:"1",modal:"modalCreate",unidadesConOperador:i.unidadesConOperador,entrada:i.entrada,corte:i.corte,castigo:i.castigo,ultimaCorrida:i.ultimaCorrida,tipoUltimaCorrida:i.tipoUltimaCorrida},null,8,["show","unidadesConOperador","entrada","corte","castigo","ultimaCorrida","tipoUltimaCorrida"]),L(Ti,{show:u.value,"max-width":ee,closeable:te,onClose:R,title:"Eliminar Registro",op:"1",modal:"modalCreate",unidadesConOperador:i.unidadesConOperador,entrada:i.entrada,corte:i.corte,castigo:i.castigo,ultimaCorrida:i.ultimaCorrida,tipoUltimaCorrida:i.tipoUltimaCorrida},null,8,["show","unidadesConOperador","entrada","corte","castigo","ultimaCorrida","tipoUltimaCorrida"])]),_:1},8,["usuario"]))}};export{ar as default};
