import{e as T,r as p,c as v,f as Z,a as D,w as q,o as C,b as s,d as t,g as F,u,n,h as k,t as P,i as A,j as G,v as O,k as H}from"./app-DKY7pHet.js";import{_ as d,a as c}from"./InputLabel-BRa-Ujvx.js";import{_ as J}from"./Mensaje-DAM774KY.js";import{_ as K}from"./RHLayout-CJCzfuSD.js";/* empty css                                                */import"./jspdf.plugin.autotable-CneeF7WA.js";const Q={class:"bg-white p-4 shadow rounded-lg h-5/6 mt-10 sm:mt-0"},R={class:"md:grid md:grid-cols-8"},W={class:"col-span-4 m-2 md:grid md:grid-4"},X={class:"col-span-3 sm:col-span-4 mt-2"},Y={class:"col-span-6 sm:col-span-4 mt-2"},ss={class:"col-span-6 sm:col-span-4 mt-2"},as={class:"col-span-6 sm:col-span-4 mt-2"},es={class:"md:grid md:grid-cols-8"},os={class:"col-span-4 m-2 md:grid md:grid-4"},ts={class:"col-span-3 sm:col-span-4 mt-2"},ls={class:"relative"},ns={key:0,class:"text-red-500 text-xs mt-1"},rs={class:"col-span-6 sm:col-span-4 mt-2"},is={class:"relative"},us={class:"flex items-center mt-1"},ds={class:"flex items-center mt-1"},cs={class:"flex items-center mt-1"},ms={class:"flex items-center mt-1"},ps={class:"flex items-center mt-1"},vs={key:0,class:"text-red-500 text-xs mt-1"},fs={class:"col-span-6 sm:col-span-4 mt-2"},gs={class:"relative"},_s={key:1,class:"text-red-500 text-xs mt-1"},ws={class:"col-span-6 sm:col-span-4 mt-2",hidden:""},ys={class:"mt-6 flex items-center justify-end gap-x-6"},bs=["disabled"],Ps={__name:"Perfil",props:{usuario:{type:Object}},setup($){const r=$,e=T({_method:"PUT",password_actual:"",password_nueva:"",password_confirmacion:"",idUsuario:r.usuario.idUsuario}),f=p(""),i=p(""),m=p(""),U=l=>typeof l=="string"&&l.trim()!=="",M=(l,a)=>l===a&&l.trim()!==""&&a.trim()!=="",N=l=>typeof l=="string"&&l.length>=8,z=l=>{const a=/[A-Z]/.test(l),o=/[a-z]/.test(l),B=/[0-9]/.test(l),I=/[@$!%*?&#]/.test(l);return a&&o&&B&&I},g=v(()=>N(e.password_nueva)),_=v(()=>/[A-Z]/.test(e.password_nueva)),w=v(()=>/[a-z]/.test(e.password_nueva)),y=v(()=>/[0-9]/.test(e.password_nueva)),b=v(()=>/[@$!%*?&#]/.test(e.password_nueva)),L=()=>{f.value=U(e.password_actual)?"":"Ingrese la contraseña actual",i.value=U(e.password_nueva)?"":"Ingrese la nueva contraseña",m.value=U(e.password_confirmacion)?"":"Ingrese nuevamente la contraseña creada",i.value===""&&(i.value=M(e.password_nueva,e.password_confirmacion)?"":"Las contraseñas no coinciden"),m.value===""&&(m.value=M(e.password_nueva,e.password_confirmacion)?"":"Las contraseñas no coinciden"),i.value===""&&(i.value=N(e.password_nueva)?"":"La contraseña tiene que ser igual o mayor a 8 dígitos"),i.value===""&&!z(e.password_nueva)&&(i.value="La contraseña no cumple con las características necesarias"),!(f.value||i.value||m.value)&&e.post(route("rh.actualizarContrasenia",e.idUsuario),{onSuccess:()=>{e.password_actual="",e.password_nueva="",e.password_confirmacion=""}})};Z(async()=>{e.idUsuario=r.usuario.idUsuario});const x=p(!1),h=p(!1),V=p(!1),j=()=>{x.value=!x.value},S=()=>{h.value=!h.value},E=()=>{V.value=!V.value};return(l,a)=>(C(),D(K,{title:"Perfil",usuario:r.usuario},{default:q(()=>[s("div",Q,[a[12]||(a[12]=s("h2",{class:"text-black text-2xl text-center font-semibold p-5"},"Perfil",-1)),a[13]||(a[13]=s("div",{class:"my-1"},null,-1)),a[14]||(a[14]=s("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-6"},null,-1)),s("div",null,[s("form",null,[s("div",null,[s("div",R,[a[9]||(a[9]=s("div",{class:"col-span-4"},[s("h3",{class:"m-3 text-lg font-medium text-gray-900"}," Informacion de la cuenta "),s("p",{class:"m-3 text-sm text-gray-600 text-justify"}," Para realizar modificaciones a este tipo de informacion, es necesario comunicarse con el administrador. ")],-1)),s("div",W,[s("div",X,[t(d,{for:"nombre",value:"Nombre"}),t(c,{id:"nombre",modelValue:r.usuario.nombre,"onUpdate:modelValue":a[0]||(a[0]=o=>r.usuario.nombre=o),type:"text",class:"mt-1 block w-full",disabled:""},null,8,["modelValue"])]),s("div",Y,[t(d,{for:"apellidoP",value:"Apellido Paterno"}),t(c,{id:"apellidoP",modelValue:r.usuario.apellidoP,"onUpdate:modelValue":a[1]||(a[1]=o=>r.usuario.apellidoP=o),type:"text",class:"mt-1 block w-full",disabled:""},null,8,["modelValue"])]),s("div",ss,[t(d,{for:"apellidoM",value:"Apellido Materno"}),t(c,{id:"apellidoM",modelValue:r.usuario.apellidoM,"onUpdate:modelValue":a[2]||(a[2]=o=>r.usuario.apellidoM=o),type:"text",class:"mt-1 block w-full",disabled:""},null,8,["modelValue"])]),s("div",as,[t(d,{for:"usuario",value:"Usuario"}),t(c,{id:"usuario",modelValue:r.usuario.usuario,"onUpdate:modelValue":a[3]||(a[3]=o=>r.usuario.usuario=o),type:"text",class:"mt-1 block w-full",disabled:""},null,8,["modelValue"])])])])])])]),a[15]||(a[15]=s("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-6 mt-5"},null,-1)),t(J),s("div",null,[s("form",{onSubmit:a[8]||(a[8]=F(o=>L(),["prevent"]))},[s("div",null,[s("div",es,[a[10]||(a[10]=s("div",{class:"col-span-4"},[s("h3",{class:"m-3 text-lg font-medium text-gray-900"}," Cambiar contraseña "),s("p",{class:"m-3 text-sm text-gray-600 text-justify"}," Para realizar el cambio de contraseña es necesario recordar la contraseña actual, en caso de haberlo olvidado, es necesario comunicarse con el administrador para su recuperación. ")],-1)),s("div",os,[s("div",ts,[t(d,{for:"password_actual",value:"Contraseña actual"}),s("div",ls,[t(c,{id:"password_actual",modelValue:u(e).password_actual,"onUpdate:modelValue":a[4]||(a[4]=o=>u(e).password_actual=o),type:x.value?"text":"password",class:"mt-1 block w-full",autocomplete:"current-password"},null,8,["modelValue","type"]),s("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center focus:outline-none",onClick:j},[s("i",{class:n(["fa",x.value?"fa-eye-slash":"fa-eye"])},null,2)])])]),f.value!=""?(C(),k("div",ns,P(f.value),1)):A("",!0),s("div",rs,[t(d,{for:"password_nueva",value:"Contraseña nueva"}),s("div",is,[t(c,{id:"password_nueva",modelValue:u(e).password_nueva,"onUpdate:modelValue":a[5]||(a[5]=o=>u(e).password_nueva=o),type:h.value?"text":"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue","type"]),s("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center focus:outline-none",onClick:S},[s("i",{class:n(["fa",h.value?"fa-eye-slash":"fa-eye"])},null,2)])]),s("div",us,[s("div",{class:n(["h-3 w-3 rounded-full mr-2",{"bg-green-500":g.value,"bg-gray-300":!g.value}])},null,2),s("span",{class:n(["text-sm",{"text-green-500":g.value,"text-gray-600":!g.value}])}," Mínimo 8 caracteres ",2)]),s("div",ds,[s("div",{class:n(["h-3 w-3 rounded-full mr-2",{"bg-green-500":_.value,"bg-gray-300":!_.value}])},null,2),s("span",{class:n(["text-sm",{"text-green-500":_.value,"text-gray-600":!_.value}])}," Al menos una mayúscula (A-Z) ",2)]),s("div",cs,[s("div",{class:n(["h-3 w-3 rounded-full mr-2",{"bg-green-500":w.value,"bg-gray-300":!w.value}])},null,2),s("span",{class:n(["text-sm",{"text-green-500":w.value,"text-gray-600":!w.value}])}," Al menos una minúscula (a-z) ",2)]),s("div",ms,[s("div",{class:n(["h-3 w-3 rounded-full mr-2",{"bg-green-500":y.value,"bg-gray-300":!y.value}])},null,2),s("span",{class:n(["text-sm",{"text-green-500":y.value,"text-gray-600":!y.value}])}," Al menos un número (0-9) ",2)]),s("div",ps,[s("div",{class:n(["h-3 w-3 rounded-full mr-2",{"bg-green-500":b.value,"bg-gray-300":!b.value}])},null,2),s("span",{class:n(["text-sm",{"text-green-500":b.value,"text-gray-600":!b.value}])}," Al menos un símbolo (@$!%*?&#) ",2)]),i.value?(C(),k("div",vs,P(i.value),1)):A("",!0)]),s("div",fs,[t(d,{for:"password_confirmacion",value:"Confirmar contraseña"}),s("div",gs,[t(c,{id:"password_confirmacion",modelValue:u(e).password_confirmacion,"onUpdate:modelValue":a[6]||(a[6]=o=>u(e).password_confirmacion=o),type:V.value?"text":"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue","type"]),s("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center focus:outline-none",onClick:E},[s("i",{class:n(["fa",V.value?"fa-eye-slash":"fa-eye"])},null,2)])])]),m.value!=""?(C(),k("div",_s,P(m.value),1)):A("",!0),s("div",ws,[t(d,{for:"idUsuario",value:"idUsuario"}),G(s("input",{id:"idUsuario","onUpdate:modelValue":a[7]||(a[7]=o=>u(e).idUsuario=o),type:"number",class:"mt-1 block w-full"},null,512),[[O,u(e).idUsuario]])])])]),s("div",ys,[s("button",{type:"submit",class:n(["bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded right",{"opacity-25":u(e).processing}]),disabled:u(e).processing},a[11]||(a[11]=[s("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),H("Guardar")]),10,bs)])])],32)])])]),_:1},8,["usuario"]))}};export{Ps as default};
