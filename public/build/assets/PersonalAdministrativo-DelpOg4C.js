import{r as g,u as ke,i as J,s as Ne,E as K,o as l,j as we,e as ie,a as e,g as Se,t as c,w as m,d as n,k as p,c as d,l as x,F as V,m as T,p as j,G as Ce,f as k,L as _e,D as Ie,b as ne,x as Fe}from"./app-Bd-6RRHH.js";import"./buttons.print-Cb1mVhcS.js";import{S as Ee}from"./sweetalert2.all-BhTDwvhH.js";import{_ as Ue}from"./Mensaje-DbXFvnMS.js";import{_ as Me}from"./RHLayout-C7DVwb0k.js";import{_ as Re}from"./Modal-DGtmsox8.js";import"./jspdf.plugin.autotable-DV0TmZX6.js";import{u as $e,w as Ve}from"./xlsx-769MyM77.js";/* empty css                                                */const Te={class:"mt-2 bg-white p-4 shadow rounded-lg"},je={class:"pb-0"},Oe={class:"text-2xl font-semibold leading-7 text-gray-900"},Be=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},[k("Rellene el formulario para poder registrar a un nuevo personal. Los campos con "),e("span",{class:"text-red-500"},"*"),k(" son obligatorios. ")],-1),Ye={class:"p-3 border-b border-gray-300"},Le=e("h2",{class:"text-md font-semibold mb-1"},"Información Personal",-1),Xe={class:"flex flex-wrap"},We={class:"md:col-span-2"},Ze={class:"sm:col-span-2",hidden:""},qe=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1),ze={class:"mt-1"},Ge=["id"],He={class:"md:col-span-2 px-2"},Je=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Apellido Paterno "),e("span",{class:"text-red-500"},"*")],-1),Ke={class:"mt-2"},Qe=["id"],et={key:0,class:"text-red-500 text-xs mt-1"},tt={class:"sm:col-span-2 px-2"},st=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Apellido Materno "),e("span",{class:"text-red-500"},"*")],-1),ot={class:"mt-2"},at=["id"],nt={key:0,class:"text-red-500 text-xs mt-1"},it={class:"sm:col-span-2 px-2"},lt=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Nombre(s) "),e("span",{class:"text-red-500"},"*")],-1),dt={class:"mt-2"},rt=["id"],ct={key:0,class:"text-red-500 text-xs mt-1"},mt={class:"sm:col-span-2 px-2"},ut=e("label",{for:"fechaNacimiento",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Fecha de Nacimiento "),e("span",{class:"text-red-500"},"*")],-1),gt={class:"mt-2"},pt=["id"],xt={key:0,class:"text-red-500 text-xs mt-1"},ft={class:"sm:col-span-2 px-2"},ht=e("label",{for:"edad",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Edad "),e("span",{class:"text-red-500"},"*")],-1),bt={class:"mt-2"},yt=["id"],vt={key:0,class:"text-red-500 text-xs mt-1"},_t={class:"sm:col-span-2 px-2"},Et=e("label",{for:"CURP",class:"block text-sm font-medium leading-6 text-gray-900"},[k("CURP "),e("span",{class:"text-red-500"},"*")],-1),$t={class:"mt-2"},kt=["id"],Nt={key:0,class:"text-red-500 text-xs mt-1"},wt={class:"sm:col-span-2 px-2"},It=e("label",{for:"RFC",class:"block text-sm font-medium leading-6 text-gray-900"},[k("RFC "),e("span",{class:"text-red-500"},"*")],-1),Pt={class:"mt-2"},Dt=["id"],St={key:0,class:"text-red-500 text-xs mt-1"},Ct={class:"sm:col-span-2 px-2"},Rt=e("label",{for:"numTelefono",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Teléfono "),e("span",{class:"text-red-500"},"*")],-1),At={class:"mt-2"},Ft=["id"],Ut={key:0,class:"text-red-500 text-xs mt-1"},Mt={class:"sm:col-span-2 px-2"},Vt=e("label",{for:"telEmergencia",class:"block text-sm font-medium leading-6 text-gray-900"},"Tel. de Emergencia ",-1),Tt={class:"mt-2"},jt=["id"],Ot={key:0,class:"text-red-500 text-xs mt-1"},Bt={class:"sm:col-span-2 px-2"},Yt=e("label",{for:"NSS",class:"block text-sm font-medium leading-6 text-gray-900"},[k("NSS "),e("span",{class:"text-red-500"},"*")],-1),Lt={class:"mt-2"},Xt=["id"],Wt={key:0,class:"text-red-500 text-xs mt-1"},Zt={class:"sm:col-span-2 px-2"},qt=e("label",{for:"escolaridad",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Escolaridad "),e("span",{class:"text-red-500"},"*")],-1),zt={class:"mt-2"},Gt=["id"],Ht=e("option",{value:"",disabled:"",selected:""},"Seleccione la escolaridad",-1),Jt=["value"],Kt={key:0,class:"text-red-500 text-xs mt-1"},Qt={class:"p-3 border-b border-gray-300"},es=e("h2",{class:"text-md font-semibold mb-1"},"Información Laboral",-1),ts={class:"flex flex-wrap"},ss={class:"sm:col-span-2 px-2"},os=e("label",{for:"fechaAlta",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Fecha de Alta "),e("span",{class:"text-red-500"},"*")],-1),as={class:"mt-2"},ns=["id"],is={key:0,class:"text-red-500 text-xs mt-1"},ls={class:"sm:col-span-2 px-2"},ds=e("label",{for:"fechaBaja",class:"block text-sm font-medium leading-6 text-gray-900"},"Fecha de Baja",-1),rs={class:"mt-2"},cs=["id"],ms={class:"sm:col-span-2 px-2"},us=e("label",{for:"empresa",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Empresa "),e("span",{class:"text-red-500"},"*")],-1),gs={class:"mt-2"},ps=["id"],xs=e("option",{value:"",disabled:"",selected:""},"Seleccione la empresa",-1),fs=["value"],hs={key:0,class:"text-red-500 text-xs mt-1"},bs={class:"sm:col-span-2 px-2"},ys=e("label",{for:"antiguedad",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Antiguedad "),e("span",{class:"text-red-500"},"*")],-1),vs={class:"mt-2"},_s=["id"],Es={key:0,class:"text-red-500 text-xs mt-1"},$s={class:"p-3 border-b border-gray-300"},ks=e("h2",{class:"text-md font-semibold mb-1"},"Información de Domicilio",-1),Ns={class:"flex flex-wrap"},ws={class:"sm:col-span-2 px-2"},Is=e("label",{for:"codigoPostal",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Código Postal "),e("span",{class:"text-red-500"},"*")],-1),Ps={class:"mt-2"},Ds=["id"],Ss={key:0,class:"text-red-500 text-xs mt-1"},Cs={class:"sm:col-span-2 px-2"},Rs=e("label",{for:"entidad",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Estado "),e("span",{class:"text-red-500"},"*")],-1),As={class:"mt-2"},Fs=["id"],Us=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado",-1),Ms=["value"],Vs={class:"sm:col-span-2 px-2"},Ts=e("label",{for:"municipio",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Municipio "),e("span",{class:"text-red-500"},"*")],-1),js={class:"mt-2"},Os=["id"],Bs=e("option",{value:"",disabled:"",selected:""},"Seleccione el municipio",-1),Ys=["value"],Ls={class:"sm:col-span-2 px-2"},Xs=e("label",{for:"asentamiento",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Asentamiento / Localidad "),e("span",{class:"text-red-500"},"*")],-1),Ws={class:"mt-2"},Zs=["id"],qs=e("option",{value:"",disabled:"",selected:""},"Seleccione el asentamiento",-1),zs=["value"],Gs={class:"sm:col-span-2 px-2"},Hs=e("label",{for:"calle",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Calle "),e("span",{class:"text-red-500"},"*")],-1),Js={class:"mt-2"},Ks=["id"],Qs={key:0,class:"text-red-500 text-xs mt-1"},eo={class:"sm:col-span-2 px-2"},to=e("label",{for:"numero",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Número de Casa "),e("span",{class:"text-red-500"},"*")],-1),so={class:"mt-2"},oo=["id"],ao={key:0,class:"text-red-500 text-xs mt-1"},no={class:"sm:col-span-3",hidden:""},io=e("label",{for:"idDireccion",class:"block text-sm font-medium leading-6 text-gray-900"},"idDomicilio",-1),lo={class:"mt-2"},ro=["id"],co={class:"p-3 border-b border-gray-300"},mo=e("h2",{class:"text-md font-semibold mb-1"},"Información de Documentación",-1),uo={class:"flex flex-wrap"},go={class:"sm:col-span-2 px-2"},po=e("label",{for:"numINE",class:"block text-sm font-medium leading-6 text-gray-900"},"Número de INE",-1),xo={class:"mt-2"},fo=["id"],ho={key:0,class:"text-red-500 text-xs mt-1"},bo={class:"sm:col-span-2 px-2"},yo=e("label",{for:"vigenciaINE",class:"block text-sm font-medium leading-6 text-gray-900"},"Vigencia del INE ",-1),vo={class:"mt-2"},_o=["id"],Eo=e("option",{value:""},"Seleccione el año",-1),$o=["value"],ko={key:0,class:"text-red-500 text-xs mt-1"},No={class:"sm:col-span-2 px-2"},wo=e("label",{for:"constanciaSF",class:"block text-sm font-medium leading-6 text-gray-900"},"Constancia de Situación Fiscal",-1),Io={class:"mt-2 flex items-center"},Po=["id"],Do=e("span",{class:"ml-2 text-sm text-gray-600"},"Cuenta con la Constancia de Situación Fiscal",-1),So={class:"p-3 border-b border-gray-300"},Co=e("h2",{class:"text-md font-semibold mb-1"},"Información Vacacional",-1),Ro={class:"flex flex-wrap"},Ao={class:"sm:col-span-2 px-2"},Fo=e("label",{for:"totalDiasVac",class:"block text-sm font-medium leading-6 text-gray-900"},[k("Total de Días "),e("span",{class:"text-red-500"},"*")],-1),Uo={class:"mt-2"},Mo=["id"],Vo={key:0,class:"text-red-500 text-xs mt-1"},To={class:"sm:col-span-2 px-2"},jo=e("label",{for:"diasVacRestantes",class:"block text-sm font-medium leading-6 text-gray-900"},"Días Restantes",-1),Oo={class:"mt-2"},Bo=["id"],Yo={key:0,class:"text-red-500 text-xs mt-1"},Lo={class:"mt-6 flex items-center justify-end gap-x-6"},Xo=["id"],Wo=e("i",{class:"fa-solid fa-ban"},null,-1),Zo=["disabled"],qo=e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),zo={__name:"FormularioPersonal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},personal:{type:Object,default:()=>({})},escolaridad:{type:Object,default:()=>({})},empresa:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(i,{emit:P}){const r=i,L=g([]),X=g([]),C=g([]),W=g([]),ee=P,t=ke({idPersonal:r.personal.idPersonal,nombre:r.personal.nombre,apellidoP:r.personal.apellidoP,apellidoM:r.personal.apellidoM,fechaNacimiento:r.personal.fechaNacimiento,edad:r.personal.edad,CURP:r.personal.CURP,RFC:r.personal.RFC,numTelefono:r.personal.numTelefono,telEmergencia:r.personal.telEmergencia,NSS:r.personal.NSS,escolaridadd:r.personal.idEscolaridad,direccion:r.personal.idDireccion,codigoPostal:r.personal.codigoPos,entidad:r.personal.idEntidad,municipio:r.personal.idMunicipio,asentamiento:r.personal.idAsentamiento,calle:r.personal.calle,numero:r.personal.numero,idDireccion:r.personal.idDireccion,numINE:r.personal.numINE,vigenciaINE:r.personal.vigenciaINE,antiguedad:r.personal.antiguedad,fechaAlta:r.personal.fechaAlta,fechaBaja:r.personal.fechaBaja,empresaa:r.personal.idEmpresa,constanciaSF:r.personal.constanciaSF,totalDiasVac:r.personal.totalDiasVac,diasVacRestantes:r.personal.diasVacRestantes});J(()=>r.personal,async s=>{t.idPersonal=s.idPersonal,t.nombre=s.nombre,t.apellidoP=s.apellidoP,t.apellidoM=s.apellidoM,t.fechaNacimiento=s.fechaNacimiento,t.edad=s.edad,t.CURP=s.CURP,t.telefono=s.telefono,t.NSS=s.NSS,t.domicilio=s.idDomicilio},{deep:!0}),J([()=>t.numeroDias,()=>t.fechaInicio],([s,o])=>{if(s&&o){const a=new Date(o),v=new Date(a);v.setDate(a.getDate()+parseInt(s,10)),t.fechaFin=v.toISOString().split("T")[0]}});const D=g(""),R=g(""),A=g(""),F=g(""),U=g(""),M=g(""),u=g(""),h=g(""),b=g(""),_=g(""),y=g(""),E=g(""),N=g(""),w=g(""),f=g(""),S=g(""),I=g(""),O=g(""),q=g(""),B=g(""),Y=g(""),Q=async()=>{ee("close"),t.reset()},Z=s=>typeof s=="string"&&s.trim()!=="",te=s=>s!=null,le=s=>new Date(s)<new Date,z=s=>s==null?!1:Number.isInteger(s)&&s>=0,de=s=>/^[A-Z]{4}\d{6}[HM]{1}[A-Z]{5}[A-Z0-9]{1}\d{1}$/.test(s),re=s=>s.trim()!=="",ce=s=>/^\d{10}$/.test(s),me=s=>{const o=/^(\d{10})?$/,a=s?s.trim():"";return a===""||o.test(a)},se=s=>/^\d{5}$/.test(s),ue=s=>!(typeof s!="string"||s.trim()===""||s.length>11||!/^\d{1,11}$/.test(s)),ge=s=>{if(s==null)return!0;const o=new Date().getFullYear(),a=parseInt(s);return!(isNaN(a)||a<o)},pe=s=>s==null?!0:typeof s=="string"&&s.trim()!==""&&s.length===13,xe=s=>!(s==null||((typeof s=="string"||s instanceof String)&&(s=new Date(s)),!(s instanceof Date))||isNaN(s.getTime())),fe=(s,o)=>typeof s!="number"||typeof o!="number"||s<0||o<0?!1:o<=s,G=async()=>{try{var s=t.entidad;const o=await K.get(route("consMunicipiosXIdEstado",s));X.value=o.data}catch(o){console.error("Error al obtener municipios:",o)}},H=async()=>{try{var s=t.municipio;const o=await K.get(route("consAsentamientosXIdMunicipio",s));C.value=await o.data}catch(o){console.error("Error al obtener asentamientos:",o)}},ae=async()=>{var o;try{var s=t.codigoPostal;if(se(s)){const v=(await K.get(route("consDatosXCodigoPostal",s))).data;if(v.length<=0){I.value="Codigo postal no existente";return}v.entidad&&(t.entidad=await v.entidad.idEntidad,await G()),v.municipio&&(t.municipio=await v.municipio.idMunicipio,await H(),t.asentamiento=(o=C.value[0])==null?void 0:o.idAsentamiento),I.value=""}else I.value="Ingrese el codigo postal completo"}catch(a){console.error("Error al obtener datos por código postal:",a)}},he=()=>{const s=new Date().getFullYear(),o=[];for(let a=s;a<=s+30;a++)o.push(a);W.value=o};Ne(async()=>{var s,o,a;he();try{const v=await K.get(route("consEstados"));L.value=v.data,t.entidad=(s=L.value[19])==null?void 0:s.idEntidad,await G(),t.municipio=(o=X.value[0])==null?void 0:o.idMunicipio,await H(),t.asentamiento=(a=C.value[0])==null?void 0:a.idAsentamiento}catch(v){console.log("Error generado en onMounted: "+v)}});const be=()=>{const s=new Date(t.fechaNacimiento),o=new Date;let a=o.getFullYear()-s.getFullYear();const v=o.getMonth()-s.getMonth();(v<0||v===0&&o.getDate()<s.getDate())&&a--,t.edad=a},ye=s=>{if(!s){t.antiguedad="";return}const o=new Date(s),a=new Date;let v=a.getFullYear()-o.getFullYear();const oe=a.getMonth()-o.getMonth();(oe<0||oe===0&&a.getDate()<o.getDate())&&v--,t.antiguedad=v};J(()=>t.fechaAlta,s=>{ye(s)}),J(()=>t.antiguedad,()=>{const s=parseInt(t.antiguedad,10);if(isNaN(s)||s<0){w.value="Por favor ingrese una antigüedad válida.",t.totalDiasVac="";return}w.value="";let o=0;s===1?o=12:s===2?o=14:s===3?o=16:s===4?o=18:s===5?o=20:s>=6&&s<=10?o=22:s>=11&&s<=15?o=24:s>=16&&s<=20?o=26:s>=21&&s<=25?o=28:s>=26&&s<=30?o=30:s>=31&&s<=35&&(o=32),t.totalDiasVac=o});const ve=async()=>{console.log("Formulario antes de validar (dentro del save):",t),D.value=Z(t.nombre)?"":"Ingrese el nombre(s)",R.value=Z(t.apellidoP)?"":"Ingrese el apellido paterno",A.value=Z(t.apellidoM)?"":"Ingrese el apellido materno",F.value=le(t.fechaNacimiento)?"":"Fecha de nacimiento no válido",U.value=z(t.edad)?"":"Edad no válido",M.value=de(t.CURP)?"":"CURP no válido",u.value=re(t.RFC)?"":"RFC no válido",h.value=ce(t.numTelefono)?"":"Número de telefono no válido",b.value=me(t.telEmergencia)?"":"Número de telefono no válido",_.value=ue(t.NSS)?"":"NSS no válido",y.value=te(t.escolaridadd)?"":"Seleccione la escolaridad",f.value=xe(t.fechaAlta)?"":"Fecha de alta no válido",S.value=te(t.empresaa)?"":"Seleccione la empresa",w.value=z(t.antiguedad)?"":"Ingrese los años de antiguedad",I.value=se(t.codigoPostal)?"":"Ingrese el codigo postal",O.value=Z(t.calle)?"":"Ingrese el nombre de la calle",q.value=z(t.numero)?"":"Número de casa no válido",E.value=pe(t.numINE)?"":"Número de INE no válido",N.value=ge(t.vigenciaINE)?"":"Vigencia de INE no válido",B.value=z(t.totalDiasVac)?"":"Número de días no válido",Y.value=fe(t.totalDiasVac,t.diasVacRestantes)?"":"Número de días no válido",!(D.value||R.value||A.value||F.value||U.value||M.value||u.value||h.value||b.value||y.value||_.value||E.value||w.value||f.value||S.value|I.value||O.value||q.value||N.value||B.value||Y.value)&&(console.log("Formulario listo para enviar:",t),t.post(route("rh.addPersonal"),{onSuccess:()=>{console.log("Formulario enviado exitosamente."),Q(),D.value="",R.value="",A.value="",F.value="",U.value="",M.value="",u.value="",h.value="",b.value="",y.value="",_.value="",E.value="",w.value="",f.value="",S.value="",I.value="",O.value="",q.value="",N.value="",B.value="",Y.value=""},onError:s=>{console.log("Errores de envío:",s)}}))};return(s,o)=>(l(),we(Re,{show:i.show,"max-width":i.maxWidth,closeable:i.closeable,onClose:Q},{default:ie(()=>[e("div",Te,[e("form",{onSubmit:Se(ve,["prevent"])},[e("div",je,[e("h1",Oe,c(i.title),1),Be,e("div",Ye,[Le,e("div",Xe,[e("div",We,[e("div",Ze,[qe,e("div",ze,[m(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":o[0]||(o[0]=a=>n(t).idOperador=a),placeholder:"Ingrese id del operador",id:"idOperador"+i.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ge),[[p,n(t).idOperador]])])])]),e("div",He,[Je,e("div",Ke,[m(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+i.op,"onUpdate:modelValue":o[1]||(o[1]=a=>n(t).apellidoP=a),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Qe),[[p,n(t).apellidoP]])]),R.value!=""?(l(),d("div",et,c(R.value),1)):x("",!0)]),e("div",tt,[st,e("div",ot,[m(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+i.op,"onUpdate:modelValue":o[2]||(o[2]=a=>n(t).apellidoM=a),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,at),[[p,n(t).apellidoM]])]),A.value!=""?(l(),d("div",nt,c(A.value),1)):x("",!0)]),e("div",it,[lt,e("div",dt,[m(e("input",{type:"text",name:"nombre",id:"nombre"+i.op,"onUpdate:modelValue":o[3]||(o[3]=a=>n(t).nombre=a),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,rt),[[p,n(t).nombre]])]),D.value!=""?(l(),d("div",ct,c(D.value),1)):x("",!0)]),e("div",mt,[ut,e("div",gt,[m(e("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento"+i.op,"onUpdate:modelValue":o[4]||(o[4]=a=>n(t).fechaNacimiento=a),onChange:be,placeholder:"Ingrese la fecha de nacimiento",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,40,pt),[[p,n(t).fechaNacimiento]])]),F.value!=""?(l(),d("div",xt,c(F.value),1)):x("",!0)]),e("div",ft,[ht,e("div",bt,[m(e("input",{type:"number",name:"edad",id:"edad"+i.op,"onUpdate:modelValue":o[5]||(o[5]=a=>n(t).edad=a),placeholder:"Años ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,yt),[[p,n(t).edad]])]),U.value!=""?(l(),d("div",vt,c(U.value),1)):x("",!0)]),e("div",_t,[Et,e("div",$t,[m(e("input",{type:"text",name:"CURP",id:"CURP"+i.op,"onUpdate:modelValue":o[6]||(o[6]=a=>n(t).CURP=a),placeholder:"Ingrese la CURP",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,kt),[[p,n(t).CURP]])]),M.value!=""?(l(),d("div",Nt,c(M.value),1)):x("",!0)]),e("div",wt,[It,e("div",Pt,[m(e("input",{type:"text",name:"RFC",id:"RFC"+i.op,"onUpdate:modelValue":o[7]||(o[7]=a=>n(t).RFC=a),placeholder:"Ingrese la RFC",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Dt),[[p,n(t).RFC]])]),u.value!=""?(l(),d("div",St,c(u.value),1)):x("",!0)]),e("div",Ct,[Rt,e("div",At,[m(e("input",{type:"text",name:"numTelefono",id:"numTelefono"+i.op,"onUpdate:modelValue":o[8]||(o[8]=a=>n(t).numTelefono=a),placeholder:"Ingrese número de telefono",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ft),[[p,n(t).numTelefono]])]),h.value!=""?(l(),d("div",Ut,c(h.value),1)):x("",!0)]),e("div",Mt,[Vt,e("div",Tt,[m(e("input",{type:"text",name:"telEmergencia",id:"telEmergencia"+i.op,"onUpdate:modelValue":o[9]||(o[9]=a=>n(t).telEmergencia=a),placeholder:"Ingrese número de telefono",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,jt),[[p,n(t).telEmergencia]])]),b.value!=""?(l(),d("div",Ot,c(b.value),1)):x("",!0)]),e("div",Bt,[Yt,e("div",Lt,[m(e("input",{type:"text",name:"NSS",id:"NSS"+i.op,"onUpdate:modelValue":o[10]||(o[10]=a=>n(t).NSS=a),placeholder:"Ingrese el NSS",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Xt),[[p,n(t).NSS]])]),_.value!=""?(l(),d("div",Wt,c(_.value),1)):x("",!0)]),e("div",Zt,[qt,e("div",zt,[m(e("select",{name:"escolaridad",id:"escolaridad"+i.op,"onUpdate:modelValue":o[11]||(o[11]=a=>n(t).escolaridadd=a),placeholder:"Seleccione la escolaridad",class:"block rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Ht,(l(!0),d(V,null,T(i.escolaridad,a=>(l(),d("option",{key:a.idEscolaridad,value:a.idEscolaridad},c(a.escolaridad),9,Jt))),128))],8,Gt),[[j,n(t).escolaridadd]])]),y.value!=""?(l(),d("div",Kt,c(y.value),1)):x("",!0)])])]),e("div",Qt,[es,e("div",ts,[e("div",ss,[os,e("div",as,[m(e("input",{type:"date",name:"fechaAlta",id:"fechaAlta"+i.op,"onUpdate:modelValue":o[12]||(o[12]=a=>n(t).fechaAlta=a),placeholder:" ",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ns),[[p,n(t).fechaAlta]])]),f.value!=""?(l(),d("div",is,c(f.value),1)):x("",!0)]),e("div",ls,[ds,e("div",rs,[m(e("input",{type:"date",name:"fechaBaja",id:"fechaBaja"+i.op,"onUpdate:modelValue":o[13]||(o[13]=a=>n(t).fechaBaja=a),placeholder:" ",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,cs),[[p,n(t).fechaBaja]])])]),e("div",ms,[us,e("div",gs,[m(e("select",{name:"empresa",id:"empresa"+i.op,"onUpdate:modelValue":o[14]||(o[14]=a=>n(t).empresaa=a),placeholder:"Seleccione la empresa a la que pertenece",class:"block rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[xs,(l(!0),d(V,null,T(i.empresa,a=>(l(),d("option",{key:a.idEmpresa,value:a.idEmpresa},c(a.empresa),9,fs))),128))],8,ps),[[j,n(t).empresaa]])]),S.value!=""?(l(),d("div",hs,c(S.value),1)):x("",!0)]),e("div",bs,[ys,e("div",vs,[m(e("input",{type:"number",name:"antiguedad",id:"antiguedad"+i.op,"onUpdate:modelValue":o[15]||(o[15]=a=>n(t).antiguedad=a),placeholder:"Años ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,_s),[[p,n(t).antiguedad]])]),w.value!=""?(l(),d("div",Es,c(w.value),1)):x("",!0)])])]),e("div",$s,[ks,e("div",Ns,[e("div",ws,[Is,e("div",Ps,[m(e("input",{type:"number",name:"codigoPostal",id:"codigoPostal"+i.op,"onUpdate:modelValue":o[16]||(o[16]=a=>n(t).codigoPostal=a),placeholder:"Ingrese el CP",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",maxlength:"5",minlength:"5",onBlur:ae},null,40,Ds),[[p,n(t).codigoPostal]])]),I.value!=""?(l(),d("div",Ss,c(I.value),1)):x("",!0)]),e("div",Cs,[Rs,e("div",As,[m(e("select",{name:"entidad",id:"entidad"+i.op,"onUpdate:modelValue":o[17]||(o[17]=a=>n(t).entidad=a),onChange:G,class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Us,(l(!0),d(V,null,T(L.value,a=>(l(),d("option",{key:a.idEntidad,value:a.idEntidad},c(a.entidad),9,Ms))),128))],40,Fs),[[j,n(t).entidad]])])]),e("div",Vs,[Ts,e("div",js,[m(e("select",{name:"municipio",id:"municipio"+i.op,"onUpdate:modelValue":o[18]||(o[18]=a=>n(t).municipio=a),onChange:H,class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Bs,(l(!0),d(V,null,T(X.value,a=>(l(),d("option",{key:a.idMunicipio,value:a.idMunicipio},c(a.municipio),9,Ys))),128))],40,Os),[[j,n(t).municipio]])])]),e("div",Ls,[Xs,e("div",Ws,[m(e("select",{name:"asentamiento",id:"asentamiento"+i.op,"onUpdate:modelValue":o[19]||(o[19]=a=>n(t).asentamiento=a),class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[qs,(l(!0),d(V,null,T(C.value,a=>(l(),d("option",{key:a.idAsentamiento,value:a.idAsentamiento},c(a.asentamiento),9,zs))),128))],8,Zs),[[j,n(t).asentamiento]])])]),e("div",Gs,[Hs,e("div",Js,[m(e("input",{type:"text",name:"calle",id:"calle"+i.op,"onUpdate:modelValue":o[20]||(o[20]=a=>n(t).calle=a),placeholder:"Ingrese el nombre de la calle",class:"block w-72 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ks),[[p,n(t).calle]])]),O.value!=""?(l(),d("div",Qs,c(O.value),1)):x("",!0)]),e("div",eo,[to,e("div",so,[m(e("input",{type:"number",name:"numero",id:"numero"+i.op,"onUpdate:modelValue":o[21]||(o[21]=a=>n(t).numero=a),placeholder:" Núm. casa",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,oo),[[p,n(t).numero]])]),q.value!=""?(l(),d("div",ao,c(q.value),1)):x("",!0)]),e("div",no,[io,e("div",lo,[m(e("input",{type:"text",name:"idDireccion",id:"idDireccion"+i.op,"onUpdate:modelValue":o[22]||(o[22]=a=>n(t).idDireccion=a),placeholder:"Ingrese la Direccion",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ro),[[p,n(t).idDireccion]])])])])]),e("div",co,[mo,e("div",uo,[e("div",go,[po,e("div",xo,[m(e("input",{type:"text",name:"numINE",id:"numINE"+i.op,"onUpdate:modelValue":o[23]||(o[23]=a=>n(t).numINE=a),placeholder:"Ingrese el número del INE",class:"block w-72 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,fo),[[p,n(t).numINE]])]),E.value!=""?(l(),d("div",ho,c(E.value),1)):x("",!0)]),e("div",bo,[yo,e("div",vo,[m(e("select",{name:"vigenciaINE",id:"vigenciaINE"+i.op,"onUpdate:modelValue":o[24]||(o[24]=a=>n(t).vigenciaINE=a),class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Eo,(l(!0),d(V,null,T(W.value,a=>(l(),d("option",{key:a,value:a},c(a),9,$o))),128))],8,_o),[[j,n(t).vigenciaINE]])]),N.value!=""?(l(),d("div",ko,c(N.value),1)):x("",!0)]),e("div",No,[wo,e("div",Io,[m(e("input",{type:"checkbox",name:"constanciaSF",id:"constanciaSF"+i.op,"onUpdate:modelValue":o[25]||(o[25]=a=>n(t).constanciaSF=a),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,Po),[[Ce,n(t).constanciaSF]]),Do])])])]),e("div",So,[Co,e("div",Ro,[e("div",Ao,[Fo,e("div",Uo,[m(e("input",{type:"number",name:"totalDiasVac",id:"totalDiasVac"+i.op,"onUpdate:modelValue":o[26]||(o[26]=a=>n(t).totalDiasVac=a),placeholder:"Días ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Mo),[[p,n(t).totalDiasVac]])]),B.value!=""?(l(),d("div",Vo,c(B.value),1)):x("",!0)]),e("div",To,[jo,e("div",Oo,[m(e("input",{type:"number",name:"diasVacRestantes",id:"diasVacRestantes"+i.op,"onUpdate:modelValue":o[27]||(o[27]=a=>n(t).diasVacRestantes=a),placeholder:"Días ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Bo),[[p,n(t).diasVacRestantes]])]),Y.value!=""?(l(),d("div",Yo,c(Y.value),1)):x("",!0)])])])]),e("div",Lo,[e("button",{type:"button",id:"cerrar"+i.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-2 rounded","data-bs.dismiss":"modal",onClick:Q},[Wo,k(" Cancelar")],8,Xo),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-2 rounded",disabled:n(t).processing},[qo,k("Guardar")],8,Zo)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Go={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ho={class:"pb-0"},Jo={class:"text-2xl font-semibold leading-7 text-gray-900"},Ko=e("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Modifique el dato que desea y presione Guardar para aplicar los cambios. ",-1),Qo={class:"p-3 border-b border-gray-300"},ea=e("h2",{class:"text-md font-semibold mb-1"},"Información Personal",-1),ta={class:"flex flex-wrap"},sa={class:"md:col-span-2"},oa={class:"sm:col-span-2",hidden:""},aa=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1),na={class:"mt-1"},ia=["id"],la={class:"md:col-span-2 px-2"},da=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},"Apellido Paterno",-1),ra={class:"mt-2"},ca=["id"],ma={key:0,class:"text-red-500 text-xs mt-1"},ua={class:"sm:col-span-2 px-2"},ga=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},"Apellido Materno",-1),pa={class:"mt-2"},xa=["id"],fa={key:0,class:"text-red-500 text-xs mt-1"},ha={class:"sm:col-span-2 px-2"},ba=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},"Nombre(s)",-1),ya={class:"mt-2"},va=["id"],_a={key:0,class:"text-red-500 text-xs mt-1"},Ea={class:"sm:col-span-2 px-2"},$a=e("label",{for:"fechaNacimiento",class:"block text-sm font-medium leading-6 text-gray-900"},"Fecha de Nacimiento",-1),ka={class:"mt-2"},Na=["id"],wa={key:0,class:"text-red-500 text-xs mt-1"},Ia={class:"sm:col-span-2 px-2"},Pa=e("label",{for:"edad",class:"block text-sm font-medium leading-6 text-gray-900"},"Edad",-1),Da={class:"mt-2"},Sa=["id"],Ca={key:0,class:"text-red-500 text-xs mt-1"},Ra={class:"sm:col-span-2 px-2"},Aa=e("label",{for:"CURP",class:"block text-sm font-medium leading-6 text-gray-900"},"CURP",-1),Fa={class:"mt-2"},Ua=["id"],Ma={key:0,class:"text-red-500 text-xs mt-1"},Va={class:"sm:col-span-2 px-2"},Ta=e("label",{for:"RFC",class:"block text-sm font-medium leading-6 text-gray-900"},"RFC",-1),ja={class:"mt-2"},Oa=["id"],Ba={key:0,class:"text-red-500 text-xs mt-1"},Ya={class:"sm:col-span-2 px-2"},La=e("label",{for:"numTelefono",class:"block text-sm font-medium leading-6 text-gray-900"},"Teléfono",-1),Xa={class:"mt-2"},Wa=["id"],Za={key:0,class:"text-red-500 text-xs mt-1"},qa={class:"sm:col-span-2 px-2"},za=e("label",{for:"telEmergencia",class:"block text-sm font-medium leading-6 text-gray-900"},"Tel. de Emergencia ",-1),Ga={class:"mt-2"},Ha=["id"],Ja={key:0,class:"text-red-500 text-xs mt-1"},Ka={class:"sm:col-span-2 px-2"},Qa=e("label",{for:"NSS",class:"block text-sm font-medium leading-6 text-gray-900"},"NSS",-1),en={class:"mt-2"},tn=["id"],sn={key:0,class:"text-red-500 text-xs mt-1"},on={class:"sm:col-span-2 px-2"},an=e("label",{for:"escolaridad",class:"block text-sm font-medium leading-6 text-gray-900"},"Escolaridad",-1),nn={class:"mt-2"},ln=["id"],dn=e("option",{value:"",disabled:"",selected:""},"Seleccione la escolaridad",-1),rn=["value"],cn={key:0,class:"text-red-500 text-xs mt-1"},mn={class:"p-3 border-b border-gray-300"},un=e("h2",{class:"text-md font-semibold mb-1"},"Información Laboral",-1),gn={class:"flex flex-wrap"},pn={class:"sm:col-span-2 px-2"},xn=e("label",{for:"fechaAlta",class:"block text-sm font-medium leading-6 text-gray-900"},"Fecha de Alta",-1),fn={class:"mt-2"},hn=["id"],bn={key:0,class:"text-red-500 text-xs mt-1"},yn={class:"sm:col-span-2 px-2"},vn=e("label",{for:"fechaBaja",class:"block text-sm font-medium leading-6 text-gray-900"},"Fecha de Baja",-1),_n={class:"mt-2"},En=["id"],$n={class:"sm:col-span-2 px-2"},kn=e("label",{for:"empresa",class:"block text-sm font-medium leading-6 text-gray-900"},"Empresa",-1),Nn={class:"mt-2"},wn=["id"],In=e("option",{value:"",disabled:"",selected:""},"Seleccione la empresa",-1),Pn=["value"],Dn={key:0,class:"text-red-500 text-xs mt-1"},Sn={class:"sm:col-span-2 px-2"},Cn=e("label",{for:"antiguedad",class:"block text-sm font-medium leading-6 text-gray-900"},"Antiguedad",-1),Rn={class:"mt-2"},An=["id"],Fn={key:0,class:"text-red-500 text-xs mt-1"},Un={class:"p-3 border-b border-gray-300"},Mn=e("h2",{class:"text-md font-semibold mb-1"},"Información de Domicilio",-1),Vn={class:"flex flex-wrap"},Tn={class:"sm:col-span-2 px-2"},jn=e("label",{for:"codigoPostal",class:"block text-sm font-medium leading-6 text-gray-900"},"Código Postal",-1),On={class:"mt-2"},Bn=["id"],Yn={key:0,class:"text-red-500 text-xs mt-1"},Ln={class:"sm:col-span-2 px-2"},Xn=e("label",{for:"entidad",class:"block text-sm font-medium leading-6 text-gray-900"},"Estado",-1),Wn={class:"mt-2"},Zn=["id"],qn=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado",-1),zn=["value"],Gn={class:"sm:col-span-2 px-2"},Hn=e("label",{for:"municipio",class:"block text-sm font-medium leading-6 text-gray-900"},"Municipio",-1),Jn={class:"mt-2"},Kn=["id"],Qn=e("option",{value:"",disabled:"",selected:""},"Seleccione el municipio",-1),ei=["value"],ti={class:"sm:col-span-2 px-2"},si=e("label",{for:"asentamiento",class:"block text-sm font-medium leading-6 text-gray-900"},"Asentamiento / Localidad",-1),oi={class:"mt-2"},ai=["id"],ni=e("option",{value:"",disabled:"",selected:""},"Seleccione el asentamiento",-1),ii=["value"],li={class:"sm:col-span-2 px-2"},di=e("label",{for:"calle",class:"block text-sm font-medium leading-6 text-gray-900"},"Calle",-1),ri={class:"mt-2"},ci=["id"],mi={key:0,class:"text-red-500 text-xs mt-1"},ui={class:"sm:col-span-2 px-2"},gi=e("label",{for:"numero",class:"block text-sm font-medium leading-6 text-gray-900"},"Número de Casa",-1),pi={class:"mt-2"},xi=["id"],fi={key:0,class:"text-red-500 text-xs mt-1"},hi={class:"sm:col-span-3",hidden:""},bi=e("label",{for:"idDireccion",class:"block text-sm font-medium leading-6 text-gray-900"},"idDomicilio",-1),yi={class:"mt-2"},vi=["id"],_i={class:"p-3 border-b border-gray-300"},Ei=e("h2",{class:"text-md font-semibold mb-1"},"Información de Documentación",-1),$i={class:"flex flex-wrap"},ki={class:"sm:col-span-2 px-2"},Ni=e("label",{for:"numINE",class:"block text-sm font-medium leading-6 text-gray-900"},"Número de INE",-1),wi={class:"mt-2"},Ii=["id"],Pi={key:0,class:"text-red-500 text-xs mt-1"},Di={class:"sm:col-span-2 px-2"},Si=e("label",{for:"vigenciaINE",class:"block text-sm font-medium leading-6 text-gray-900"},"Vigencia del INE ",-1),Ci={class:"mt-2"},Ri=["id"],Ai=e("option",{value:""},"Seleccione el año",-1),Fi=["value"],Ui={key:0,class:"text-red-500 text-xs mt-1"},Mi={class:"sm:col-span-2 px-2"},Vi=e("label",{for:"constanciaSF",class:"block text-sm font-medium leading-6 text-gray-900"},"Constancia de Situación Fiscal",-1),Ti={class:"mt-2 flex items-center"},ji=["id"],Oi=e("span",{class:"ml-2 text-sm text-gray-600"},"Cuenta con la Constancia de Situación Fiscal",-1),Bi={class:"p-3 border-b border-gray-300"},Yi=e("h2",{class:"text-md font-semibold mb-1"},"Información Vacacional",-1),Li={class:"flex flex-wrap"},Xi={class:"sm:col-span-2 px-2"},Wi=e("label",{for:"totalDiasVac",class:"block text-sm font-medium leading-6 text-gray-900"},"Total de Días ",-1),Zi={class:"mt-2"},qi=["id"],zi={key:0,class:"text-red-500 text-xs mt-1"},Gi={class:"sm:col-span-2 px-2"},Hi=e("label",{for:"diasVacRestantes",class:"block text-sm font-medium leading-6 text-gray-900"},"Días Restantes",-1),Ji={class:"mt-2"},Ki=["id"],Qi={key:0,class:"text-red-500 text-xs mt-1"},el={class:"mt-6 flex items-center justify-end gap-x-6"},tl=["id"],sl=e("i",{class:"fa-solid fa-ban"},null,-1),ol=["disabled"],al=e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),nl={__name:"FormularioActualizarPersonal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},personal:{type:Object,default:()=>({})},escolaridad:{type:Object,default:()=>({})},empresa:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(i,{emit:P}){const r=i,L=g([]),X=g([]),C=g([]),W=g([]),ee=P,t=ke({_method:"PUT",idPersonal:r.personal.idPersonal,nombre:r.personal.nombre,apellidoP:r.personal.apellidoP,apellidoM:r.personal.apellidoM,fechaNacimiento:r.personal.fechaNacimiento,edad:r.personal.edad,CURP:r.personal.CURP,RFC:r.personal.RFC,numTelefono:r.personal.numTelefono,telEmergencia:r.personal.telEmergencia,NSS:r.personal.NSS,escolaridadd:r.personal.idEscolaridad,direccion:r.personal.idDireccion,codigoPostal:r.personal.codigoPos,entidad:r.personal.idEntidad,municipio:r.personal.idMunicipio,asentamiento:r.personal.idAsentamiento,calle:r.personal.calle,numero:r.personal.numero,idDireccion:r.personal.idDireccion,numINE:r.personal.numINE,vigenciaINE:r.personal.vigenciaINE,antiguedad:r.personal.antiguedad,fechaAlta:r.personal.fechaAlta,fechaBaja:r.personal.fechaBaja,empresaa:r.personal.idEmpresa,constanciaSF:r.personal.constanciaSF,totalDiasVac:r.personal.totalDiasVac,diasVacRestantes:r.personal.diasVacRestantes});J(()=>r.personal,async s=>{t.idPersonal=s.idPersonal,t.nombre=s.nombre,t.apellidoP=s.apellidoP,t.apellidoM=s.apellidoM,t.fechaNacimiento=s.fechaNacimiento,t.edad=s.edad,t.CURP=s.CURP,t.RFC=s.RFC,t.numTelefono=s.numTelefono,t.telEmergencia=s.telEmergencia,t.NSS=s.NSS,t.escolaridadd=s.idEscolaridad,t.calle=s.calle,t.numero=s.numero,t.codigoPostal=await s.codigoPostal,await ae(),t.entidad=await s.idEntidad,await G(),t.municipio=await s.idMunicipio,await H(),t.asentamiento=await s.idAsentamiento,t.numINE=s.numINE,t.vigenciaINE=s.vigenciaINE,t.antiguedad=s.antiguedad,t.fechaAlta=s.fechaAlta,t.fechaBaja=s.fechaBaja,t.empresaa=s.idEmpresa,t.constanciaSF=s.constanciaSF===1,t.totalDiasVac=s.totalDiasVac,t.diasVacRestantes=s.diasVacRestantes,t.idDireccion=s.idDireccion},{deep:!0}),J([()=>t.numeroDias,()=>t.fechaInicio],([s,o])=>{if(s&&o){const a=new Date(o),v=new Date(a);v.setDate(a.getDate()+parseInt(s,10)),t.fechaFin=v.toISOString().split("T")[0]}});const D=g(""),R=g(""),A=g(""),F=g(""),U=g(""),M=g(""),u=g(""),h=g(""),b=g(""),_=g(""),y=g(""),E=g(""),N=g(""),w=g(""),f=g(""),S=g(""),I=g(""),O=g(""),q=g(""),B=g(""),Y=g(""),Q=async()=>{ee("close"),t.reset()},Z=s=>typeof s=="string"&&s.trim()!=="",te=s=>s!=null,le=s=>new Date(s)<new Date,z=s=>s==null?!1:Number.isInteger(s)&&s>=0,de=s=>/^[A-Z]{4}\d{6}[HM]{1}[A-Z]{5}[A-Z0-9]{1}\d{1}$/.test(s),re=s=>s.trim()!=="",ce=s=>/^\d{10}$/.test(s),me=s=>{const o=/^(\d{10})?$/,a=s?s.trim():"";return a===""||o.test(a)},se=s=>/^\d{5}$/.test(s),ue=s=>!(typeof s!="string"||s.trim()===""||s.length>11||!/^\d{1,11}$/.test(s)),ge=s=>{if(s==null)return!0;const o=new Date().getFullYear(),a=parseInt(s);return!(isNaN(a)||a<o)},pe=s=>s==null?!0:typeof s=="string"&&s.trim()!==""&&s.length===13,xe=s=>!(s==null||((typeof s=="string"||s instanceof String)&&(s=new Date(s)),!(s instanceof Date))||isNaN(s.getTime())),fe=(s,o)=>typeof s!="number"||typeof o!="number"||s<0||o<0?!1:o<=s,G=async()=>{try{var s=t.entidad;const o=await K.get(route("consMunicipiosXIdEstado",s));X.value=o.data}catch(o){console.error("Error al obtener municipios:",o)}},H=async()=>{try{var s=t.municipio;const o=await K.get(route("consAsentamientosXIdMunicipio",s));C.value=await o.data}catch(o){console.error("Error al obtener asentamientos:",o)}},ae=async()=>{var o;try{var s=t.codigoPostal;if(se(s)){const v=(await K.get(route("consDatosXCodigoPostal",s))).data;if(v.length<=0){I.value="Codigo postal no existente";return}v.entidad&&(t.entidad=await v.entidad.idEntidad,await G()),v.municipio&&(t.municipio=await v.municipio.idMunicipio,await H(),t.asentamiento=(o=C.value[0])==null?void 0:o.idAsentamiento),I.value=""}else I.value="Ingrese el codigo postal completo"}catch(a){console.error("Error al obtener datos por código postal:",a)}},he=()=>{const s=new Date().getFullYear(),o=[];for(let a=s;a<=s+30;a++)o.push(a);W.value=o};Ne(async()=>{var s,o,a;he();try{const v=await K.get(route("consEstados"));L.value=v.data,t.entidad=(s=L.value[19])==null?void 0:s.idEntidad,await G(),t.municipio=(o=X.value[0])==null?void 0:o.idMunicipio,await H(),t.asentamiento=(a=C.value[0])==null?void 0:a.idAsentamiento}catch(v){console.log("Error generado en onMounted: "+v)}});const be=()=>{const s=new Date(t.fechaNacimiento),o=new Date;let a=o.getFullYear()-s.getFullYear();const v=o.getMonth()-s.getMonth();(v<0||v===0&&o.getDate()<s.getDate())&&a--,t.edad=a},ye=s=>{if(!s){t.antiguedad="";return}const o=new Date(s),a=new Date;let v=a.getFullYear()-o.getFullYear();const oe=a.getMonth()-o.getMonth();(oe<0||oe===0&&a.getDate()<o.getDate())&&v--,t.antiguedad=v};J(()=>t.fechaAlta,s=>{ye(s)}),J(()=>t.antiguedad,()=>{const s=parseInt(t.antiguedad,10);if(isNaN(s)||s<0){w.value="Por favor ingrese una antigüedad válida.",t.totalDiasVac="";return}w.value="";let o=0;s===1?o=12:s===2?o=14:s===3?o=16:s===4?o=18:s===5?o=20:s>=6&&s<=10?o=22:s>=11&&s<=15?o=24:s>=16&&s<=20?o=26:s>=21&&s<=25?o=28:s>=26&&s<=30?o=30:s>=31&&s<=35&&(o=32),t.totalDiasVac=o});const ve=async()=>{D.value=Z(t.nombre)?"":"Ingrese el nombre(s)",R.value=Z(t.apellidoP)?"":"Ingrese el apellido paterno",A.value=Z(t.apellidoM)?"":"Ingrese el apellido materno",F.value=le(t.fechaNacimiento)?"":"Fecha de nacimiento no válido",U.value=z(t.edad)?"":"Edad no válido",M.value=de(t.CURP)?"":"CURP no válido",u.value=re(t.RFC)?"":"RFC no válido",h.value=ce(t.numTelefono)?"":"Número de telefono no válido",b.value=me(t.telEmergencia)?"":"Número de telefono no válido",_.value=ue(t.NSS)?"":"NSS no válido",y.value=te(t.escolaridadd)?"":"Seleccione la escolaridad",f.value=xe(t.fechaAlta)?"":"Fecha de alta no válido",S.value=te(t.empresaa)?"":"Seleccione la empresa",w.value=z(t.antiguedad)?"":"Ingrese los años de antiguedad",I.value=se(t.codigoPostal)?"":"Ingrese el codigo postal",O.value=Z(t.calle)?"":"Ingrese el nombre de la calle",E.value=pe(t.numINE)?"":"Número de INE no válido",N.value=ge(t.vigenciaINE)?"":"Vigencia de INE no válido",B.value=z(t.totalDiasVac)?"":"Número de días no válido",Y.value=fe(t.totalDiasVac,t.diasVacRestantes)?"":"Número de días no válido",!(D.value||R.value||A.value||F.value||U.value||M.value||u.value||h.value||b.value||y.value||_.value||E.value||w.value||f.value||S.value|I.value||O.value||N.value||B.value||Y.value)&&t.post(route("rh.actualizarPersonal",t.idPersonal),{onSuccess:()=>{Q(),D.value="",R.value="",A.value="",F.value="",U.value="",M.value="",u.value="",h.value="",b.value="",y.value="",_.value="",E.value="",w.value="",f.value="",S.value="",I.value="",O.value="",N.value="",B.value="",Y.value=""},onError:s=>{console.log("Errores de envío:",s)}})};return(s,o)=>(l(),we(Re,{show:i.show,"max-width":i.maxWidth,closeable:i.closeable,onClose:Q},{default:ie(()=>[e("div",Go,[e("form",{onSubmit:Se(ve,["prevent"])},[e("div",Ho,[e("h1",Jo,c(i.title),1),Ko,e("div",Qo,[ea,e("div",ta,[e("div",sa,[e("div",oa,[aa,e("div",na,[m(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":o[0]||(o[0]=a=>n(t).idOperador=a),placeholder:"Ingrese id del operador",id:"idOperador"+i.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ia),[[p,n(t).idOperador]])])])]),e("div",la,[da,e("div",ra,[m(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+i.op,"onUpdate:modelValue":o[1]||(o[1]=a=>n(t).apellidoP=a),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ca),[[p,n(t).apellidoP]])]),R.value!=""?(l(),d("div",ma,c(R.value),1)):x("",!0)]),e("div",ua,[ga,e("div",pa,[m(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+i.op,"onUpdate:modelValue":o[2]||(o[2]=a=>n(t).apellidoM=a),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,xa),[[p,n(t).apellidoM]])]),A.value!=""?(l(),d("div",fa,c(A.value),1)):x("",!0)]),e("div",ha,[ba,e("div",ya,[m(e("input",{type:"text",name:"nombre",id:"nombre"+i.op,"onUpdate:modelValue":o[3]||(o[3]=a=>n(t).nombre=a),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,va),[[p,n(t).nombre]])]),D.value!=""?(l(),d("div",_a,c(D.value),1)):x("",!0)]),e("div",Ea,[$a,e("div",ka,[m(e("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento"+i.op,"onUpdate:modelValue":o[4]||(o[4]=a=>n(t).fechaNacimiento=a),onChange:be,placeholder:"Ingrese la fecha de nacimiento",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,40,Na),[[p,n(t).fechaNacimiento]])]),F.value!=""?(l(),d("div",wa,c(F.value),1)):x("",!0)]),e("div",Ia,[Pa,e("div",Da,[m(e("input",{type:"number",name:"edad",id:"edad"+i.op,"onUpdate:modelValue":o[5]||(o[5]=a=>n(t).edad=a),placeholder:"Años ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Sa),[[p,n(t).edad]])]),U.value!=""?(l(),d("div",Ca,c(U.value),1)):x("",!0)]),e("div",Ra,[Aa,e("div",Fa,[m(e("input",{type:"text",name:"CURP",id:"CURP"+i.op,"onUpdate:modelValue":o[6]||(o[6]=a=>n(t).CURP=a),placeholder:"Ingrese la CURP",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ua),[[p,n(t).CURP]])]),M.value!=""?(l(),d("div",Ma,c(M.value),1)):x("",!0)]),e("div",Va,[Ta,e("div",ja,[m(e("input",{type:"text",name:"RFC",id:"RFC"+i.op,"onUpdate:modelValue":o[7]||(o[7]=a=>n(t).RFC=a),placeholder:"Ingrese la RFC",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Oa),[[p,n(t).RFC]])]),u.value!=""?(l(),d("div",Ba,c(u.value),1)):x("",!0)]),e("div",Ya,[La,e("div",Xa,[m(e("input",{type:"text",name:"numTelefono",id:"numTelefono"+i.op,"onUpdate:modelValue":o[8]||(o[8]=a=>n(t).numTelefono=a),placeholder:"Ingrese número de telefono",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Wa),[[p,n(t).numTelefono]])]),h.value!=""?(l(),d("div",Za,c(h.value),1)):x("",!0)]),e("div",qa,[za,e("div",Ga,[m(e("input",{type:"text",name:"telEmergencia",id:"telEmergencia"+i.op,"onUpdate:modelValue":o[9]||(o[9]=a=>n(t).telEmergencia=a),placeholder:"Ingrese número de telefono",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ha),[[p,n(t).telEmergencia]])]),b.value!=""?(l(),d("div",Ja,c(b.value),1)):x("",!0)]),e("div",Ka,[Qa,e("div",en,[m(e("input",{type:"text",name:"NSS",id:"NSS"+i.op,"onUpdate:modelValue":o[10]||(o[10]=a=>n(t).NSS=a),placeholder:"Ingrese el NSS",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,tn),[[p,n(t).NSS]])]),_.value!=""?(l(),d("div",sn,c(_.value),1)):x("",!0)]),e("div",on,[an,e("div",nn,[m(e("select",{name:"escolaridad",id:"escolaridad"+i.op,"onUpdate:modelValue":o[11]||(o[11]=a=>n(t).escolaridadd=a),placeholder:"Seleccione la escolaridad",class:"block rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[dn,(l(!0),d(V,null,T(i.escolaridad,a=>(l(),d("option",{key:a.idEscolaridad,value:a.idEscolaridad},c(a.escolaridad),9,rn))),128))],8,ln),[[j,n(t).escolaridadd]])]),y.value!=""?(l(),d("div",cn,c(y.value),1)):x("",!0)])])]),e("div",mn,[un,e("div",gn,[e("div",pn,[xn,e("div",fn,[m(e("input",{type:"date",name:"fechaAlta",id:"fechaAlta"+i.op,"onUpdate:modelValue":o[12]||(o[12]=a=>n(t).fechaAlta=a),placeholder:" ",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,hn),[[p,n(t).fechaAlta]])]),f.value!=""?(l(),d("div",bn,c(f.value),1)):x("",!0)]),e("div",yn,[vn,e("div",_n,[m(e("input",{type:"date",name:"fechaBaja",id:"fechaBaja"+i.op,"onUpdate:modelValue":o[13]||(o[13]=a=>n(t).fechaBaja=a),placeholder:" ",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,En),[[p,n(t).fechaBaja]])])]),e("div",$n,[kn,e("div",Nn,[m(e("select",{name:"empresa",id:"empresa"+i.op,"onUpdate:modelValue":o[14]||(o[14]=a=>n(t).empresaa=a),placeholder:"Seleccione la empresa a la que pertenece",class:"block rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[In,(l(!0),d(V,null,T(i.empresa,a=>(l(),d("option",{key:a.idEmpresa,value:a.idEmpresa},c(a.empresa),9,Pn))),128))],8,wn),[[j,n(t).empresaa]])]),S.value!=""?(l(),d("div",Dn,c(S.value),1)):x("",!0)]),e("div",Sn,[Cn,e("div",Rn,[m(e("input",{type:"number",name:"antiguedad",id:"antiguedad"+i.op,"onUpdate:modelValue":o[15]||(o[15]=a=>n(t).antiguedad=a),placeholder:"Años ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,An),[[p,n(t).antiguedad]])]),w.value!=""?(l(),d("div",Fn,c(w.value),1)):x("",!0)])])]),e("div",Un,[Mn,e("div",Vn,[e("div",Tn,[jn,e("div",On,[m(e("input",{type:"number",name:"codigoPostal",id:"codigoPostal"+i.op,"onUpdate:modelValue":o[16]||(o[16]=a=>n(t).codigoPostal=a),placeholder:"Ingrese el CP",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",maxlength:"5",minlength:"5",onBlur:ae},null,40,Bn),[[p,n(t).codigoPostal]])]),I.value!=""?(l(),d("div",Yn,c(I.value),1)):x("",!0)]),e("div",Ln,[Xn,e("div",Wn,[m(e("select",{name:"entidad",id:"entidad"+i.op,"onUpdate:modelValue":o[17]||(o[17]=a=>n(t).entidad=a),onChange:G,class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[qn,(l(!0),d(V,null,T(L.value,a=>(l(),d("option",{key:a.idEntidad,value:a.idEntidad},c(a.entidad),9,zn))),128))],40,Zn),[[j,n(t).entidad]])])]),e("div",Gn,[Hn,e("div",Jn,[m(e("select",{name:"municipio",id:"municipio"+i.op,"onUpdate:modelValue":o[18]||(o[18]=a=>n(t).municipio=a),onChange:H,class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Qn,(l(!0),d(V,null,T(X.value,a=>(l(),d("option",{key:a.idMunicipio,value:a.idMunicipio},c(a.municipio),9,ei))),128))],40,Kn),[[j,n(t).municipio]])])]),e("div",ti,[si,e("div",oi,[m(e("select",{name:"asentamiento",id:"asentamiento"+i.op,"onUpdate:modelValue":o[19]||(o[19]=a=>n(t).asentamiento=a),class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[ni,(l(!0),d(V,null,T(C.value,a=>(l(),d("option",{key:a.idAsentamiento,value:a.idAsentamiento},c(a.asentamiento),9,ii))),128))],8,ai),[[j,n(t).asentamiento]])])]),e("div",li,[di,e("div",ri,[m(e("input",{type:"text",name:"calle",id:"calle"+i.op,"onUpdate:modelValue":o[20]||(o[20]=a=>n(t).calle=a),placeholder:"Ingrese el nombre de la calle",class:"block w-72 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ci),[[p,n(t).calle]])]),O.value!=""?(l(),d("div",mi,c(O.value),1)):x("",!0)]),e("div",ui,[gi,e("div",pi,[m(e("input",{type:"number",name:"numero",id:"numero"+i.op,"onUpdate:modelValue":o[21]||(o[21]=a=>n(t).numero=a),placeholder:" Núm. casa",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,xi),[[p,n(t).numero]])]),q.value!=""?(l(),d("div",fi,c(q.value),1)):x("",!0)]),e("div",hi,[bi,e("div",yi,[m(e("input",{type:"text",name:"idDireccion",id:"idDireccion"+i.op,"onUpdate:modelValue":o[22]||(o[22]=a=>n(t).idDireccion=a),placeholder:"Ingrese la Direccion",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,vi),[[p,n(t).idDireccion]])])])])]),e("div",_i,[Ei,e("div",$i,[e("div",ki,[Ni,e("div",wi,[m(e("input",{type:"text",name:"numINE",id:"numINE"+i.op,"onUpdate:modelValue":o[23]||(o[23]=a=>n(t).numINE=a),placeholder:"Ingrese el número del INE",class:"block w-72 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ii),[[p,n(t).numINE]])]),E.value!=""?(l(),d("div",Pi,c(E.value),1)):x("",!0)]),e("div",Di,[Si,e("div",Ci,[m(e("select",{name:"vigenciaINE",id:"vigenciaINE"+i.op,"onUpdate:modelValue":o[24]||(o[24]=a=>n(t).vigenciaINE=a),class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Ai,(l(!0),d(V,null,T(W.value,a=>(l(),d("option",{key:a,value:a},c(a),9,Fi))),128))],8,Ri),[[j,n(t).vigenciaINE]])]),N.value!=""?(l(),d("div",Ui,c(N.value),1)):x("",!0)]),e("div",Mi,[Vi,e("div",Ti,[m(e("input",{type:"checkbox",name:"constanciaSF",id:"constanciaSF"+i.op,"onUpdate:modelValue":o[25]||(o[25]=a=>n(t).constanciaSF=a),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,ji),[[Ce,n(t).constanciaSF]]),Oi])])])]),e("div",Bi,[Yi,e("div",Li,[e("div",Xi,[Wi,e("div",Zi,[m(e("input",{type:"number",name:"totalDiasVac",id:"totalDiasVac"+i.op,"onUpdate:modelValue":o[26]||(o[26]=a=>n(t).totalDiasVac=a),placeholder:"Días ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,qi),[[p,n(t).totalDiasVac]])]),B.value!=""?(l(),d("div",zi,c(B.value),1)):x("",!0)]),e("div",Gi,[Hi,e("div",Ji,[m(e("input",{type:"number",name:"diasVacRestantes",id:"diasVacRestantes"+i.op,"onUpdate:modelValue":o[27]||(o[27]=a=>n(t).diasVacRestantes=a),placeholder:"Días ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ki),[[p,n(t).diasVacRestantes]])]),Y.value!=""?(l(),d("div",Qi,c(Y.value),1)):x("",!0)])])])]),e("div",el,[e("button",{type:"button",id:"cerrar"+i.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-2 rounded","data-bs.dismiss":"modal",onClick:Q},[sl,k(" Cancelar")],8,tl),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-2 rounded",disabled:n(t).processing},[al,k("Guardar")],8,ol)])],32)])]),_:1},8,["show","max-width","closeable"]))}},il={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},ll=e("h2",{class:"font-bold text-center text-xl pt-0"},"Personal Administrativo",-1),dl=e("div",{class:"my-1"},null,-1),rl=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-6"},null,-1),cl={class:"py-3 flex flex-col md:flex-row md:items-start md:space-x-3 space-y-3 md:space-y-0"},ml=e("i",{class:"fa fa-plus mr-2"},null,-1),ul=e("i",{class:"fa fa-trash mr-2"},null,-1),gl={class:"overflow-x-auto"},pl=e("thead",null,[e("tr",{class:"text-sm leading-normal border-b border-gray-300"},[e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"11"},"INFORMACIÓN PERSONAL"),e("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"4"},"INFORMACIÓN LABORAL"),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," INFORMACIÓN DE DOMICILIO "),e("th",{class:"py-2 px-4 bg-yellow-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"3"},"INFORMACIÓN DE DOCUMENTACIÓN"),e("th",{class:"py-2 px-4 bg-orange-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"2"},"INFORMACIÓN VACACIONAL"),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"})]),e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," ID "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha de Nacimiento "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Edad "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," CURP "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," RFC "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Teléfono "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Teléfono de Emergencia "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," NSS "),e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Escolaridad "),e("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha Alta "),e("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha Baja "),e("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Empresa "),e("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Antiguedad "),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Dirección "),e("th",{class:"py-2 px-4 bg-yellow-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Número de INE "),e("th",{class:"py-2 px-4 bg-yellow-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Vigencia de INE "),e("th",{class:"py-2 px-4 bg-yellow-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Constancia de Situación Fiscal "),e("th",{class:"py-2 px-4 bg-orange-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Total de Días "),e("th",{class:"py-2 px-4 bg-orange-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Días Restantes "),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"})])],-1),Pe="xl",De=!0,kl={__name:"PersonalAdministrativo",props:{message:{String,default:""},color:{String,default:""},operador:{type:Object},tipoOperador:{type:Object},estado:{type:Object},directivo:{type:Object},usuario:{type:Object},incapacidad:{type:Object},empresa:{type:Object},convenioPago:{type:Object},direccion:{type:Object},escolaridad:{type:Object},personal:{type:Object}},setup(i){_e.use(Ie),_e.use(Ie);const P=i,r=()=>{Fe(()=>{const h=$("#personalTablaId").DataTable().rows({search:"applied"}).data(),b=new Map(P.empresa.map(f=>[f.idEmpresa,f.empresa])),_=new Map(P.personal.map(f=>[f.idPersonal,f.domicilio]));console.log("Direccion map",_);const y=new Map([[1,"SI"],[0,"NO"]]),E=h.toArray().map(f=>{var S;return{ID:f.idPersonal,"Apellido Paterno":f.apellidoP,"Apellido Materno":f.apellidoM,Nombre:f.nombre,"Fecha de Nacimiento":f.fechaNacimiento,Edad:`${f.edad} años`,CURP:f.CURP,RFC:f.RFC,"Número de Teléfono":f.numTelefono,"Tel. Emergencia":f.telEmergencia,NSS:f.NSS,Escolaridad:((S=P.escolaridad.find(I=>I.idEscolaridad===f.idEscolaridad))==null?void 0:S.escolaridad)||"","Fecha de Alta":f.fechaAlta,"Fecha de Baja":f.fechaBaja,Empresa:b.get(f.idEmpresa)||"",Antiguedad:`${f.antiguedad} años`,Direccion:_.get(f.idPersonal)||"","Número de INE":f.numINE,"Vigencia de INE":f.vigenciaINE,"Constancia de Situación Fiscal":y.get(f.constanciaSF)||"","Días de Vacaciones":f.totalDiasVac,"Días Restantes":f.diasVacRestantes}}),N=$e.json_to_sheet(E),w=$e.book_new();$e.book_append_sheet(w,N,"Personal Registrados"),Ve(w,"Personal Registrados.xlsx")})},L=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Directivos registrados",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>r()},{title:"Directivos registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[2,3,4,5,6]}}],X=[{data:null,render:function(u,h,b,_){return`<input type="checkbox" class="personal-checkboxes" data-id="${b.idPersonal}" ">`}},{data:null,render:function(u,h,b,_){return _.row+1}},{data:"apellidoP"},{data:"apellidoM"},{data:"nombre"},{data:"fechaNacimiento",render:function(u,h,b,_){if(u){const y=u.split("-"),E=y[0],N=y[1];return`${y[2]}-${N}-${E}`}return""}},{data:"edad",render:function(u,h,b,_){return u+" años"}},{data:"CURP"},{data:"RFC"},{data:"numTelefono"},{data:"telEmergencia"},{data:"NSS"},{data:"idEscolaridad",render:function(u,h,b,_){const y=P.escolaridad.find(E=>E.idEscolaridad===u);return y?y.escolaridad:""}},{data:"fechaAlta",render:function(u,h,b,_){if(u){const y=u.split("-"),E=y[0],N=y[1];return`${y[2]}-${N}-${E}`}return""}},{data:"fechaBaja",render:function(u,h,b,_){if(u){const y=u.split("-"),E=y[0],N=y[1];return`${y[2]}-${N}-${E}`}return""}},{data:"idEmpresa",render:function(u,h,b,_){const y=P.empresa.find(E=>E.idEmpresa===u);return y?y.empresa:""}},{data:"antiguedad",render:function(u,h,b,_){return u+" años"}},{data:"domicilio",render:function(u,h,b,_){return u||""}},{data:"numINE"},{data:"vigenciaINE",render:function(u,h,b,_){if(u){const y=new Date().getFullYear(),E=u<y;return`<div style="background-color: ${E?"#f56565":"transparent"}; color: ${E?"#ffffff":"inherit"}; width: 100%; height: 100%; box-sizing: border-box;">${u}</div>`}return""}},{data:"constanciaSF",render:function(u,h,b,_){return u?"SI":"NO"}},{data:"totalDiasVac"},{data:"diasVacRestantes"},{data:null,render:function(u,h,b,_){return`<button class="editar-button" data-id="${b.idPersonal}" style="display: flex; justify-content: center;"><i class="fa fa-pencil"></i></button>`}}],C=g(!1),W=g(!1),ee=ke({_method:"DELETE"}),t=g([]);var D={};const R=u=>{D=u,W.value=!0},A=()=>{C.value=!1},F=()=>{W.value=!1},U=u=>{t.value.includes(u)?t.value=t.value.filter(b=>b!==u):t.value.push(u);const h=document.getElementById("eliminarABtn");t.value.length>0?h.removeAttribute("disabled"):h.setAttribute("disabled","")};Ne(()=>{document.getElementById("personalTablaId").addEventListener("click",u=>{const h=u.target;if(h.classList.contains("personal-checkboxes")){const b=parseInt(h.getAttribute("data-id"));if(P.personal){const _=P.personal.find(y=>y.idPersonal===b);_?U(_):console.log("No se tiene personal")}}}),$("#personalTablaId").on("click",".editar-button",function(){const u=$(this).data("id"),h=P.personal.find(b=>b.idPersonal===u);R(h)})});const M=()=>{const u=Ee.mixin({buttonsStyling:!0}),h=t.value.map(b=>b.nombre_completo).join(", ");u.fire({title:"¿Estas seguro que deseas eliminar al directivo seleccionado?",html:`Directivo seleccionado: ${h}`,icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i> Confirmar',cancelButtonText:'<i class="fa-solid fa-ban"></i> Cancelar'}).then(async b=>{if(b.isConfirmed)try{const y=t.value.map(N=>N.idPersonal).join(",");await ee.post(route("rh.eliminarPersonal",y)),t.value=[];const E=document.getElementById("eliminarABtn");t.value.length>0?E.removeAttribute("disabled"):E.setAttribute("disabled",""),Ee.fire({title:"Personal eliminado correctamente",icon:"success"}),window.flash={message:"Personal eliminado correctamente",color:"green"}}catch(_){console.log("Error al eliminar varias personales: "+_),Ee.fire({title:"Error",text:"Hubo un error al eliminar al personal. Por favor, inténtalo de nuevo más tarde.",icon:"error"})}})};return(u,h)=>(l(),we(Me,{title:"Personal",usuario:P.usuario},{default:ie(()=>[e("div",il,[ll,dl,rl,ne(Ue),e("div",cl,[e("button",{class:"bg-green-500 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded",onClick:h[0]||(h[0]=b=>C.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},[ml,k("Agregar Personal ")]),e("button",{id:"eliminarABtn",disabled:"",class:"bg-red-500 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded",onClick:M},[ul,k("Borrar Personal ")])]),e("div",null,[e("div",gl,[ne(n(_e),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"personalTablaId",name:"personalTablaId",columns:X,data:i.personal,options:{responsive:!1,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:[L]}},{default:ie(()=>[pl]),_:1},8,["data","options"])])])]),ne(zo,{show:C.value,"max-width":Pe,closeable:De,onClose:A,title:"Añadir Personal",op:"1",modal:"modalCreate",personal:P.personal,escolaridad:P.escolaridad,empresa:P.empresa},null,8,["show","personal","escolaridad","empresa"]),ne(nl,{show:W.value,"max-width":Pe,closeable:De,onClose:F,title:"Editar Personal",op:"1",modal:"modalEdit",personal:n(D),escolaridad:P.escolaridad,empresa:P.empresa},null,8,["show","personal","escolaridad","empresa"])]),_:1},8,["usuario"]))}};export{kl as default};
