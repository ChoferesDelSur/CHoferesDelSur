import{e as V,x as Y,r as f,o as l,a as W,w as C,b as e,g as K,t as u,k as b,j as h,u as a,v as D,h as c,i as E,F as I,y as A,z as N,C as L,D as R,f as Z,d as q,A as G}from"./app-BIuP-68C.js";import"./buttons.print-Dn7pZMg1.js";import"./sweetalert2.esm.all-BGf-Fe8G.js";/* empty css                                                */import{_ as ee}from"./ServicioLayout-BvQuxq2k.js";import{_ as Q}from"./Modal-tIpQAGn-.js";import{E as oe}from"./jspdf.plugin.autotable-BzyeIiG6.js";import{u as z,w as te}from"./xlsx-DjuO7_Ju.js";const re={class:"mt-2 bg-white p-4 shadow rounded-lg"},se={class:"border-b border-gray-900/10 pb-12"},de={class:"text-base font-semibold leading-7 text-gray-900"},ae={class:"flex flex-wrap"},ie={class:"md:col-span-2"},le={class:"sm:col-span-2",hidden:""},ne={class:"mt-1"},pe=["id"],ce={class:"md:col-span-2 px-4"},ue={class:"mt-2"},me=["id"],ge={key:0,class:"text-red-500 text-xs mt-1"},be={class:"sm:col-span-2 px-4"},xe={class:"mt-2"},ye=["id"],fe={key:0,class:"text-red-500 text-xs mt-1"},ve={class:"sm:col-span-2 px-4"},he={class:"mt-2"},Oe=["id"],ke={key:0,class:"text-red-500 text-xs mt-1"},we={class:"sm:col-span-2 px-4"},$e={class:"mt-2"},Ee=["id"],_e=["value"],Me={key:0,class:"text-red-500 text-xs mt-1"},Se={class:"sm:col-span-2 px-4"},Pe={class:"mt-2"},Te=["id"],De=["value"],je={key:0,class:"text-red-500 text-xs mt-1"},Ie={class:"sm:col-span-2 px-4"},Ae={class:"mt-2"},Ne=["id"],Ue=["value"],Be={key:0,class:"text-red-500 text-xs mt-1"},Fe={class:"mt-6 flex items-center justify-end gap-x-6"},Ce=["id"],Le=["disabled"],qe={__name:"FormularioOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(d,{emit:n}){const m=d,U=n,r=V({idOperador:m.operador.idOperador,nombre:m.operador.nombre,apellidoP:m.operador.apellidoP,apellidoM:m.operador.apellidoM,tipoOperador:m.operador.idTipoOperador,estado:m.operador.idEstado,directivo:m.operador.idDirectivo});Y(()=>m.operador,async s=>{r.idOperador=s.idOperador,r.nombre=s.nombre,r.apellidoP=s.apellidoP,r.apellidoM=s.apellidoM,r.tipoOperador=s.idTipoOperador,r.estado=s.idEstado,r.directivo=s.idDirectivo},{deep:!0});const O=f(""),v=f(""),y=f(""),x=f(""),_=f(""),k=f(""),M=async()=>{U("close"),r.reset()},S=s=>typeof s=="string"&&s.trim()!=="",P=s=>s!=null,i=async()=>{O.value=S(r.nombre)?"":"Ingrese el nombre",v.value=S(r.apellidoP)?"":"Ingrese el apellido Paterno",y.value=S(r.apellidoM)?"":"Ingrese el apellido Materno",x.value=P(r.tipoOperador)?"":"Seleccione el tipo de operador",_.value=P(r.estado)?"":"Seleccione el estado",k.value=P(r.directivo)?"":"Seleccione para que socio trabaja",!(O.value||v.value||y.value||x.value||k.value)&&r.post(route("servicio.addOperador"),{onSuccess:()=>{M(),O.value="",v.value="",y.value="",x.value="",k.value=""}})};return(s,o)=>(l(),W(Q,{show:d.show,"max-width":d.maxWidth,closeable:d.closeable,onClose:M},{default:C(()=>[e("div",re,[e("form",{onSubmit:K(i,["prevent"])},[e("div",se,[e("h2",de,u(d.title),1),o[18]||(o[18]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[b("Rellene el formulario para poder registrar a un nuevo operador. Los campos con "),e("span",{class:"text-red-500"},"*"),b(" son obligatorios. ")],-1)),e("div",ae,[e("div",ie,[e("div",le,[o[7]||(o[7]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),e("div",ne,[h(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":o[0]||(o[0]=t=>a(r).idOperador=t),placeholder:"Ingrese id del operador",id:"idOperador"+d.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,pe),[[D,a(r).idOperador]])])])]),e("div",ce,[o[8]||(o[8]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",ue,[h(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+d.op,"onUpdate:modelValue":o[1]||(o[1]=t=>a(r).apellidoP=t),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,me),[[D,a(r).apellidoP]])]),v.value!=""?(l(),c("div",ge,u(v.value),1)):E("",!0)]),e("div",be,[o[9]||(o[9]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",xe,[h(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+d.op,"onUpdate:modelValue":o[2]||(o[2]=t=>a(r).apellidoM=t),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ye),[[D,a(r).apellidoM]])]),y.value!=""?(l(),c("div",fe,u(y.value),1)):E("",!0)]),e("div",ve,[o[10]||(o[10]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Nombres"),e("span",{class:"text-red-500"},"*")],-1)),e("div",he,[h(e("input",{type:"text",name:"nombre",id:"nombre"+d.op,"onUpdate:modelValue":o[3]||(o[3]=t=>a(r).nombre=t),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Oe),[[D,a(r).nombre]])]),O.value!=""?(l(),c("div",ke,u(O.value),1)):E("",!0)]),e("div",we,[o[12]||(o[12]=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1)),e("div",$e,[h(e("select",{name:"tipoOperador",id:"tipoOperador"+d.op,"onUpdate:modelValue":o[4]||(o[4]=t=>a(r).tipoOperador=t),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[11]||(o[11]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1)),(l(!0),c(I,null,A(d.tipoOperador,t=>(l(),c("option",{key:t.idTipoOperador,value:t.idTipoOperador},u(t.tipOperador),9,_e))),128))],8,Ee),[[N,a(r).tipoOperador]])]),x.value!=""?(l(),c("div",Me,u(x.value),1)):E("",!0)]),e("div",Se,[o[14]||(o[14]=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Estado"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Pe,[h(e("select",{name:"estado",id:"estado"+d.op,"onUpdate:modelValue":o[5]||(o[5]=t=>a(r).estado=t),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[13]||(o[13]=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1)),(l(!0),c(I,null,A(d.estado,t=>(l(),c("option",{key:t.idEstado,value:t.idEstado},u(t.estado),9,De))),128))],8,Te),[[N,a(r).estado]])]),_.value!=""?(l(),c("div",je,u(_.value),1)):E("",!0)]),o[17]||(o[17]=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1)),e("div",Ie,[o[16]||(o[16]=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Jefe"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ae,[h(e("select",{name:"directivo",id:"directivo"+d.op,"onUpdate:modelValue":o[6]||(o[6]=t=>a(r).directivo=t),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[15]||(o[15]=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1)),(l(!0),c(I,null,A(d.directivo,t=>(l(),c("option",{key:t.idDirectivo,value:t.idDirectivo},u(t.nombre_completo),9,Ue))),128))],8,Ne),[[N,a(r).directivo]])]),k.value!=""?(l(),c("div",Be,u(k.value),1)):E("",!0)])])]),e("div",Fe,[e("button",{type:"button",id:"cerrar"+d.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:M},o[19]||(o[19]=[e("i",{class:"fa-solid fa-ban"},null,-1),b(" Cancelar")]),8,Ce),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:a(r).processing},o[20]||(o[20]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),b("Guardar")]),8,Le)])],32)])]),_:1},8,["show","max-width","closeable"]))}},ze={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ve={class:"border-b border-gray-900/10 pb-12"},We={class:"text-base font-semibold leading-7 text-gray-900"},Je={class:"flex flex-wrap"},Re={class:"md:col-span-2"},Ge={class:"sm:col-span-2",hidden:""},He={class:"mt-1"},Xe=["id"],Ye={class:"md:col-span-2 px-4"},Ke={class:"mt-2"},Qe=["id"],Ze={key:0,class:"text-red-500 text-xs mt-1"},eo={class:"sm:col-span-2 px-4"},oo={class:"mt-2"},to=["id"],ro={key:0,class:"text-red-500 text-xs mt-1"},so={class:"sm:col-span-2 px-4"},ao={class:"mt-2"},io=["id"],lo={key:0,class:"text-red-500 text-xs mt-1"},no={class:"sm:col-span-2 px-4"},po={class:"mt-2"},co=["id"],uo=["value"],mo={key:0,class:"text-red-500 text-xs mt-1"},go={class:"sm:col-span-2 px-4"},bo={class:"mt-2"},xo=["id"],yo=["value"],fo={key:0,class:"text-red-500 text-xs mt-1"},vo={class:"sm:col-span-2 px-4"},ho={class:"mt-2"},Oo=["id"],ko=["value"],wo={key:0,class:"text-red-500 text-xs mt-1"},$o={class:"mt-6 flex items-center justify-end gap-x-6"},Eo=["id"],_o=["disabled"],Mo={__name:"FormularioActualizarOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(d,{emit:n}){const m=d,U=n,r=V({_method:"PUT",idOperador:m.operador.idOperador,nombre:m.operador.nombre,apellidoP:m.operador.apellidoP,apellidoM:m.operador.apellidoM,tipoOperador:m.operador.idTipoOperador,estado:m.operador.idEstado,directivo:m.operador.idDirectivo});Y(()=>m.operador,async s=>{r.idOperador=s.idOperador,r.nombre=s.nombre,r.apellidoP=s.apellidoP,r.apellidoM=s.apellidoM,r.tipoOperador=s.idTipoOperador,r.estado=s.idEstado,r.directivo=s.idDirectivo},{deep:!0});const O=f(""),v=f(""),y=f(""),x=f(""),_=f(""),k=f(""),M=async()=>{U("close"),r.reset()},S=s=>typeof s=="string"&&s.trim()!=="",P=s=>s!=null,i=async()=>{O.value=S(r.nombre)?"":"Ingrese el nombre",v.value=S(r.apellidoP)?"":"Ingrese el apellido Paterno",y.value=S(r.apellidoM)?"":"Ingrese el apellido Materno",x.value=P(r.tipoOperador)?"":"Selecciones el tipo de operador",k.value=P(r.directivo)?"":"Seleccione para que socio trabaja",!(O.value||v.value||y.value||x.value||k.value)&&r.post(route("servicio.actualizarOperador",r.idOperador),{onSuccess:()=>{M(),O.value="",v.value="",y.value="",x.value="",k.value=""}})};return(s,o)=>(l(),W(Q,{show:d.show,"max-width":d.maxWidth,closeable:d.closeable,onClose:M},{default:C(()=>[e("div",ze,[e("form",{onSubmit:K(i,["prevent"])},[e("div",Ve,[e("h2",We,u(d.title),1),o[18]||(o[18]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Modifique los datos según sea necesario y guarde los cambios. ",-1)),e("div",Je,[e("div",Re,[e("div",Ge,[o[7]||(o[7]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),e("div",He,[h(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":o[0]||(o[0]=t=>a(r).idOperador=t),placeholder:"Ingrese id del operador",id:"idOperador"+d.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Xe),[[D,a(r).idOperador]])])])]),e("div",Ye,[o[8]||(o[8]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ke,[h(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+d.op,"onUpdate:modelValue":o[1]||(o[1]=t=>a(r).apellidoP=t),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Qe),[[D,a(r).apellidoP]])]),v.value!=""?(l(),c("div",Ze,u(v.value),1)):E("",!0)]),e("div",eo,[o[9]||(o[9]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",oo,[h(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+d.op,"onUpdate:modelValue":o[2]||(o[2]=t=>a(r).apellidoM=t),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,to),[[D,a(r).apellidoM]])]),y.value!=""?(l(),c("div",ro,u(y.value),1)):E("",!0)]),e("div",so,[o[10]||(o[10]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Nombres"),e("span",{class:"text-red-500"},"*")],-1)),e("div",ao,[h(e("input",{type:"text",name:"nombre",id:"nombre"+d.op,"onUpdate:modelValue":o[3]||(o[3]=t=>a(r).nombre=t),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,io),[[D,a(r).nombre]])]),O.value!=""?(l(),c("div",lo,u(O.value),1)):E("",!0)]),e("div",no,[o[12]||(o[12]=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1)),e("div",po,[h(e("select",{name:"tipoOperador",id:"tipoOperador"+d.op,"onUpdate:modelValue":o[4]||(o[4]=t=>a(r).tipoOperador=t),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[11]||(o[11]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1)),(l(!0),c(I,null,A(d.tipoOperador,t=>(l(),c("option",{key:t.idTipoOperador,value:t.idTipoOperador},u(t.tipOperador),9,uo))),128))],8,co),[[N,a(r).tipoOperador]])]),x.value!=""?(l(),c("div",mo,u(x.value),1)):E("",!0)]),e("div",go,[o[14]||(o[14]=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Estado"),e("span",{class:"text-red-500"},"*")],-1)),e("div",bo,[h(e("select",{name:"estado",id:"estado"+d.op,"onUpdate:modelValue":o[5]||(o[5]=t=>a(r).estado=t),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[13]||(o[13]=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1)),(l(!0),c(I,null,A(d.estado,t=>(l(),c("option",{key:t.idEstado,value:t.idEstado},u(t.estado),9,yo))),128))],8,xo),[[N,a(r).estado]])]),_.value!=""?(l(),c("div",fo,u(_.value),1)):E("",!0)]),o[17]||(o[17]=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1)),e("div",vo,[o[16]||(o[16]=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[b("Jefe"),e("span",{class:"text-red-500"},"*")],-1)),e("div",ho,[h(e("select",{name:"directivo",id:"directivo"+d.op,"onUpdate:modelValue":o[6]||(o[6]=t=>a(r).directivo=t),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[15]||(o[15]=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1)),(l(!0),c(I,null,A(d.directivo,t=>(l(),c("option",{key:t.idDirectivo,value:t.idDirectivo},u(t.nombre_completo),9,ko))),128))],8,Oo),[[N,a(r).directivo]])]),k.value!=""?(l(),c("div",wo,u(k.value),1)):E("",!0)])])]),e("div",$o,[e("button",{type:"button",id:"cerrar"+d.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:M},o[19]||(o[19]=[e("i",{class:"fa-solid fa-ban"},null,-1),b(" Cancelar")]),8,Eo),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:a(r).processing},o[20]||(o[20]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),b("Guardar")]),8,_o)])],32)])]),_:1},8,["show","max-width","closeable"]))}},So={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},H="xl",X=!0,Bo={__name:"Operadores",props:{message:{String,default:""},color:{String,default:""},operador:{type:Object},tipoOperador:{type:Object},estado:{type:Object},directivo:{type:Object},usuario:{type:Object},incapacidad:{type:Object},empresa:{type:Object},convenioPago:{type:Object},direccion:{type:Object}},setup(d){L.use(R),L.use(R);const n=d,m=(i="Documento")=>{const s=new oe("landscape");s.setFontSize(12),s.text(i,14,22);const o=new Date().toLocaleDateString();s.setFontSize(8),s.text(`Fecha: ${o}`,260,22);const t=["ID","Apellido Paterno","Apellido Materno","Nombre","Tipo de Operador","Estado","Jefe"],p=[];G(()=>{$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().each(w=>{var B,T,J;p.push([w.idOperador,w.apellidoP,w.apellidoM,w.nombre,((B=n.tipoOperador.find(F=>F.idTipoOperador===w.idTipoOperador))==null?void 0:B.tipOperador)||"",((T=n.estado.find(F=>F.idEstado===w.idEstado))==null?void 0:T.estado)||"",((J=n.directivo.find(F=>F.idDirectivo===w.idDirectivo))==null?void 0:J.nombre_completo)||""])}),s.autoTable({head:[t],body:p,startY:24}),s.save(`${i}.pdf`)})},U=()=>{G(()=>{const o=$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().toArray().map(g=>{var j,w,B;return{ID:g.idOperador,"Apellido Paterno":g.apellidoP,"Apellido Materno":g.apellidoM,Nombre:g.nombre,"Tipo de Operador":((j=n.tipoOperador.find(T=>T.idTipoOperador===g.idTipoOperador))==null?void 0:j.tipOperador)||"",Estado:((w=n.estado.find(T=>T.idEstado===g.idEstado))==null?void 0:w.estado)||"",Jefe:((B=n.directivo.find(T=>T.idDirectivo===g.idDirectivo))==null?void 0:B.nombre_completo)||""}}),t=z.json_to_sheet(o),p=z.book_new();z.book_append_sheet(p,t,"Operadores Registrados"),te(p,"Operadores Registrados.xlsx")})},r=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Operadores registrados",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>U()},{title:"Operadores registrados",text:'<i class="fa-solid fa-file-pdf"></i> PDF',className:"bg-red-500 hover:bg-red-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",orientation:"landscape",action:()=>m(n.title||"Operadores registrados")},{title:"Operadores registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[1,2,3,4,5,6]}}],O=[{data:null,render:function(i,s,o,t){return t.row+1}},{data:"apellidoP"},{data:"apellidoM"},{data:"nombre"},{data:"idTipoOperador",render:function(i,s,o,t){const p=n.tipoOperador.find(g=>g.idTipoOperador===i);return p?p.tipOperador:""}},{data:"idEstado",render:function(i,s,o,t){const p=n.estado.find(g=>g.idEstado===i);return p?p.estado:""}},{data:"fechaAlta",render:function(i,s,o,t){if(i){const p=i.split("-"),g=p[0],j=p[1];return`${p[2]}-${j}-${g}`}return""}},{data:"fechaBaja",render:function(i,s,o,t){if(i){const p=i.split("-"),g=p[0],j=p[1];return`${p[2]}-${j}-${g}`}return""}},{data:"idDirectivo",render:function(i,s,o,t){const p=n.directivo.find(g=>g.idDirectivo===i);return p?p.nombre_completo:""}}],v=f(!1),y=f(!1),x=f([]);V({_method:"DELETE"});var _={};const k=i=>{_=i,y.value=!0},M=()=>{v.value=!1},S=()=>{y.value=!1},P=i=>{x.value.includes(i)?x.value=x.value.filter(o=>o!==i):x.value.push(i);const s=document.getElementById("eliminarABtn");x.value.length>0?s.removeAttribute("disabled"):s.setAttribute("disabled","")};return Z(()=>{document.getElementById("operadoresTablaId").addEventListener("click",i=>{const s=i.target;if(s.classList.contains("operador-checkboxes")){const o=parseInt(s.getAttribute("data-id"));if(n.operador){const t=n.operador.find(p=>p.idOperador===o);t?P(t):console.log("No se tiene operador")}}}),$("#operadoresTablaId").on("click",".editar-button",function(){const i=$(this).data("id"),s=n.operador.find(o=>o.idOperador===i);k(s)})}),(i,s)=>(l(),W(ee,{title:"Operadores",usuario:n.usuario},{default:C(()=>[e("div",So,[s[1]||(s[1]=e("h2",{class:"font-bold text-center text-xl pt-0"},"Operadores",-1)),s[2]||(s[2]=e("div",{class:"my-1"},null,-1)),s[3]||(s[3]=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-6"},null,-1)),e("div",null,[q(a(L),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"operadoresTablaId",name:"operadoresTablaId",columns:O,data:d.operador,options:{responsive:!0,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:[r],pageLength:23}},{default:C(()=>s[0]||(s[0]=[e("thead",null,[e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," ID "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Tipo de operador "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Estado "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha Alta "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha Baja "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Jefe ")])],-1)])),_:1},8,["data","options"])])]),q(qe,{show:v.value,"max-width":H,closeable:X,onClose:M,title:"Añadir operador",modal:"modalCreate",operador:n.operador,tipoOperador:n.tipoOperador,estado:n.estado,directivo:n.directivo},null,8,["show","operador","tipoOperador","estado","directivo"]),q(Mo,{show:y.value,"max-width":H,closeable:X,onClose:S,title:"Editar operador",modal:"modalEdit",tipoOperador:n.tipoOperador,estado:n.estado,directivo:n.directivo,operador:a(_)},null,8,["show","tipoOperador","estado","directivo","operador"])]),_:1},8,["usuario"]))}};export{Bo as default};
