import{e as V,x as Y,r as f,o as i,a as W,w as C,b as e,g as K,t as c,k as m,j as h,u as a,v as D,h as p,i as w,F as I,y as j,z as A,C as L,D as R,f as Z,d as q,A as G}from"./app-C5s5l_vN.js";import"./buttons.print-C_50YlCr.js";import"./sweetalert2.esm.all-BGf-Fe8G.js";/* empty css                                                */import{_ as ee}from"./ServicioLayout-BsLvSX8z.js";import{_ as Q}from"./Modal-DBie2LS3.js";import{E as oe}from"./jspdf.plugin.autotable-Bak4K-4T.js";import{u as z,w as te}from"./xlsx-DjuO7_Ju.js";const re={class:"mt-2 bg-white p-4 shadow rounded-lg"},se={class:"border-b border-gray-900/10 pb-12"},de={class:"text-base font-semibold leading-7 text-gray-900"},ae={class:"flex flex-wrap"},ie={class:"md:col-span-2"},le={class:"sm:col-span-2",hidden:""},ne={class:"mt-1"},pe=["id"],ce={class:"md:col-span-2 px-4"},ue={class:"mt-2"},me=["id"],ge={key:0,class:"text-red-500 text-xs mt-1"},be={class:"sm:col-span-2 px-4"},xe={class:"mt-2"},fe=["id"],ye={key:0,class:"text-red-500 text-xs mt-1"},ve={class:"sm:col-span-2 px-4"},he={class:"mt-2"},Oe=["id"],ke={key:0,class:"text-red-500 text-xs mt-1"},we={class:"sm:col-span-2 px-4"},Ee={class:"mt-2"},_e=["id"],$e=["value"],Me={key:0,class:"text-red-500 text-xs mt-1"},Se={class:"sm:col-span-2 px-4"},Pe={class:"mt-2"},Te=["id"],De=["value"],Ie={key:0,class:"text-red-500 text-xs mt-1"},je={class:"sm:col-span-2 px-4"},Ae={class:"mt-2"},Ne=["id"],Ue=["value"],Be={key:0,class:"text-red-500 text-xs mt-1"},Ce={class:"mt-6 flex items-center justify-end gap-x-6"},Fe=["id"],Le=["disabled"],qe={__name:"FormularioOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(d,{emit:l}){const u=d,N=l,t=V({idOperador:u.operador.idOperador,nombre:u.operador.nombre,apellidoP:u.operador.apellidoP,apellidoM:u.operador.apellidoM,tipoOperador:u.operador.idTipoOperador,estado:u.operador.idEstado,directivo:u.operador.idDirectivo});Y(()=>u.operador,async s=>{t.idOperador=s.idOperador,t.nombre=s.nombre,t.apellidoP=s.apellidoP,t.apellidoM=s.apellidoM,t.tipoOperador=s.idTipoOperador,t.estado=s.idEstado,t.directivo=s.idDirectivo},{deep:!0});const O=f(""),y=f(""),x=f(""),g=f(""),_=f(""),k=f(""),M=async()=>{N("close"),t.reset()},S=s=>typeof s=="string"&&s.trim()!=="",P=s=>s!=null,n=async()=>{O.value=S(t.nombre)?"":"Ingrese el nombre",y.value=S(t.apellidoP)?"":"Ingrese el apellido Paterno",x.value=S(t.apellidoM)?"":"Ingrese el apellido Materno",g.value=P(t.tipoOperador)?"":"Seleccione el tipo de operador",_.value=P(t.estado)?"":"Seleccione el estado",k.value=P(t.directivo)?"":"Seleccione para que socio trabaja",!(O.value||y.value||x.value||g.value||k.value)&&t.post(route("servicio.addOperador"),{onSuccess:()=>{M(),O.value="",y.value="",x.value="",g.value="",k.value=""}})};return(s,o)=>(i(),W(Q,{show:d.show,"max-width":d.maxWidth,closeable:d.closeable,onClose:M},{default:C(()=>[e("div",re,[e("form",{onSubmit:K(n,["prevent"])},[e("div",se,[e("h2",de,c(d.title),1),o[18]||(o[18]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[m("Rellene el formulario para poder registrar a un nuevo operador. Los campos con "),e("span",{class:"text-red-500"},"*"),m(" son obligatorios. ")],-1)),e("div",ae,[e("div",ie,[e("div",le,[o[7]||(o[7]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),e("div",ne,[h(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":o[0]||(o[0]=r=>a(t).idOperador=r),placeholder:"Ingrese id del operador",id:"idOperador"+d.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,pe),[[D,a(t).idOperador]])])])]),e("div",ce,[o[8]||(o[8]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",ue,[h(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+d.op,"onUpdate:modelValue":o[1]||(o[1]=r=>a(t).apellidoP=r),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,me),[[D,a(t).apellidoP]])]),y.value!=""?(i(),p("div",ge,c(y.value),1)):w("",!0)]),e("div",be,[o[9]||(o[9]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",xe,[h(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+d.op,"onUpdate:modelValue":o[2]||(o[2]=r=>a(t).apellidoM=r),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,fe),[[D,a(t).apellidoM]])]),x.value!=""?(i(),p("div",ye,c(x.value),1)):w("",!0)]),e("div",ve,[o[10]||(o[10]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres"),e("span",{class:"text-red-500"},"*")],-1)),e("div",he,[h(e("input",{type:"text",name:"nombre",id:"nombre"+d.op,"onUpdate:modelValue":o[3]||(o[3]=r=>a(t).nombre=r),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Oe),[[D,a(t).nombre]])]),O.value!=""?(i(),p("div",ke,c(O.value),1)):w("",!0)]),e("div",we,[o[12]||(o[12]=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ee,[h(e("select",{name:"tipoOperador",id:"tipoOperador"+d.op,"onUpdate:modelValue":o[4]||(o[4]=r=>a(t).tipoOperador=r),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[11]||(o[11]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1)),(i(!0),p(I,null,j(d.tipoOperador,r=>(i(),p("option",{key:r.idTipoOperador,value:r.idTipoOperador},c(r.tipOperador),9,$e))),128))],8,_e),[[A,a(t).tipoOperador]])]),g.value!=""?(i(),p("div",Me,c(g.value),1)):w("",!0)]),e("div",Se,[o[14]||(o[14]=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Estado"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Pe,[h(e("select",{name:"estado",id:"estado"+d.op,"onUpdate:modelValue":o[5]||(o[5]=r=>a(t).estado=r),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[13]||(o[13]=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1)),(i(!0),p(I,null,j(d.estado,r=>(i(),p("option",{key:r.idEstado,value:r.idEstado},c(r.estado),9,De))),128))],8,Te),[[A,a(t).estado]])]),_.value!=""?(i(),p("div",Ie,c(_.value),1)):w("",!0)]),o[17]||(o[17]=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1)),e("div",je,[o[16]||(o[16]=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Jefe"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ae,[h(e("select",{name:"directivo",id:"directivo"+d.op,"onUpdate:modelValue":o[6]||(o[6]=r=>a(t).directivo=r),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[15]||(o[15]=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1)),(i(!0),p(I,null,j(d.directivo,r=>(i(),p("option",{key:r.idDirectivo,value:r.idDirectivo},c(r.nombre_completo),9,Ue))),128))],8,Ne),[[A,a(t).directivo]])]),k.value!=""?(i(),p("div",Be,c(k.value),1)):w("",!0)])])]),e("div",Ce,[e("button",{type:"button",id:"cerrar"+d.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:M},o[19]||(o[19]=[e("i",{class:"fa-solid fa-ban"},null,-1),m(" Cancelar")]),8,Fe),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:a(t).processing},o[20]||(o[20]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),m("Guardar")]),8,Le)])],32)])]),_:1},8,["show","max-width","closeable"]))}},ze={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ve={class:"border-b border-gray-900/10 pb-12"},We={class:"text-base font-semibold leading-7 text-gray-900"},Je={class:"flex flex-wrap"},Re={class:"md:col-span-2"},Ge={class:"sm:col-span-2",hidden:""},He={class:"mt-1"},Xe=["id"],Ye={class:"md:col-span-2 px-4"},Ke={class:"mt-2"},Qe=["id"],Ze={key:0,class:"text-red-500 text-xs mt-1"},eo={class:"sm:col-span-2 px-4"},oo={class:"mt-2"},to=["id"],ro={key:0,class:"text-red-500 text-xs mt-1"},so={class:"sm:col-span-2 px-4"},ao={class:"mt-2"},io=["id"],lo={key:0,class:"text-red-500 text-xs mt-1"},no={class:"sm:col-span-2 px-4"},po={class:"mt-2"},co=["id"],uo=["value"],mo={key:0,class:"text-red-500 text-xs mt-1"},go={class:"sm:col-span-2 px-4"},bo={class:"mt-2"},xo=["id"],fo=["value"],yo={key:0,class:"text-red-500 text-xs mt-1"},vo={class:"sm:col-span-2 px-4"},ho={class:"mt-2"},Oo=["id"],ko=["value"],wo={key:0,class:"text-red-500 text-xs mt-1"},Eo={class:"mt-6 flex items-center justify-end gap-x-6"},_o=["id"],$o=["disabled"],Mo={__name:"FormularioActualizarOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(d,{emit:l}){const u=d,N=l,t=V({_method:"PUT",idOperador:u.operador.idOperador,nombre:u.operador.nombre,apellidoP:u.operador.apellidoP,apellidoM:u.operador.apellidoM,tipoOperador:u.operador.idTipoOperador,estado:u.operador.idEstado,directivo:u.operador.idDirectivo});Y(()=>u.operador,async s=>{t.idOperador=s.idOperador,t.nombre=s.nombre,t.apellidoP=s.apellidoP,t.apellidoM=s.apellidoM,t.tipoOperador=s.idTipoOperador,t.estado=s.idEstado,t.directivo=s.idDirectivo},{deep:!0});const O=f(""),y=f(""),x=f(""),g=f(""),_=f(""),k=f(""),M=async()=>{N("close"),t.reset()},S=s=>typeof s=="string"&&s.trim()!=="",P=s=>s!=null,n=async()=>{O.value=S(t.nombre)?"":"Ingrese el nombre",y.value=S(t.apellidoP)?"":"Ingrese el apellido Paterno",x.value=S(t.apellidoM)?"":"Ingrese el apellido Materno",g.value=P(t.tipoOperador)?"":"Selecciones el tipo de operador",k.value=P(t.directivo)?"":"Seleccione para que socio trabaja",!(O.value||y.value||x.value||g.value||k.value)&&t.post(route("servicio.actualizarOperador",t.idOperador),{onSuccess:()=>{M(),O.value="",y.value="",x.value="",g.value="",k.value=""}})};return(s,o)=>(i(),W(Q,{show:d.show,"max-width":d.maxWidth,closeable:d.closeable,onClose:M},{default:C(()=>[e("div",ze,[e("form",{onSubmit:K(n,["prevent"])},[e("div",Ve,[e("h2",We,c(d.title),1),o[18]||(o[18]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Modifique los datos según sea necesario y guarde los cambios. ",-1)),e("div",Je,[e("div",Re,[e("div",Ge,[o[7]||(o[7]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),e("div",He,[h(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":o[0]||(o[0]=r=>a(t).idOperador=r),placeholder:"Ingrese id del operador",id:"idOperador"+d.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Xe),[[D,a(t).idOperador]])])])]),e("div",Ye,[o[8]||(o[8]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ke,[h(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+d.op,"onUpdate:modelValue":o[1]||(o[1]=r=>a(t).apellidoP=r),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Qe),[[D,a(t).apellidoP]])]),y.value!=""?(i(),p("div",Ze,c(y.value),1)):w("",!0)]),e("div",eo,[o[9]||(o[9]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1)),e("div",oo,[h(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+d.op,"onUpdate:modelValue":o[2]||(o[2]=r=>a(t).apellidoM=r),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,to),[[D,a(t).apellidoM]])]),x.value!=""?(i(),p("div",ro,c(x.value),1)):w("",!0)]),e("div",so,[o[10]||(o[10]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres"),e("span",{class:"text-red-500"},"*")],-1)),e("div",ao,[h(e("input",{type:"text",name:"nombre",id:"nombre"+d.op,"onUpdate:modelValue":o[3]||(o[3]=r=>a(t).nombre=r),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,io),[[D,a(t).nombre]])]),O.value!=""?(i(),p("div",lo,c(O.value),1)):w("",!0)]),e("div",no,[o[12]||(o[12]=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1)),e("div",po,[h(e("select",{name:"tipoOperador",id:"tipoOperador"+d.op,"onUpdate:modelValue":o[4]||(o[4]=r=>a(t).tipoOperador=r),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[11]||(o[11]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1)),(i(!0),p(I,null,j(d.tipoOperador,r=>(i(),p("option",{key:r.idTipoOperador,value:r.idTipoOperador},c(r.tipOperador),9,uo))),128))],8,co),[[A,a(t).tipoOperador]])]),g.value!=""?(i(),p("div",mo,c(g.value),1)):w("",!0)]),e("div",go,[o[14]||(o[14]=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Estado"),e("span",{class:"text-red-500"},"*")],-1)),e("div",bo,[h(e("select",{name:"estado",id:"estado"+d.op,"onUpdate:modelValue":o[5]||(o[5]=r=>a(t).estado=r),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[13]||(o[13]=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1)),(i(!0),p(I,null,j(d.estado,r=>(i(),p("option",{key:r.idEstado,value:r.idEstado},c(r.estado),9,fo))),128))],8,xo),[[A,a(t).estado]])]),_.value!=""?(i(),p("div",yo,c(_.value),1)):w("",!0)]),o[17]||(o[17]=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1)),e("div",vo,[o[16]||(o[16]=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Jefe"),e("span",{class:"text-red-500"},"*")],-1)),e("div",ho,[h(e("select",{name:"directivo",id:"directivo"+d.op,"onUpdate:modelValue":o[6]||(o[6]=r=>a(t).directivo=r),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[15]||(o[15]=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1)),(i(!0),p(I,null,j(d.directivo,r=>(i(),p("option",{key:r.idDirectivo,value:r.idDirectivo},c(r.nombre_completo),9,ko))),128))],8,Oo),[[A,a(t).directivo]])]),k.value!=""?(i(),p("div",wo,c(k.value),1)):w("",!0)])])]),e("div",Eo,[e("button",{type:"button",id:"cerrar"+d.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:M},o[19]||(o[19]=[e("i",{class:"fa-solid fa-ban"},null,-1),m(" Cancelar")]),8,_o),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:a(t).processing},o[20]||(o[20]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),m("Guardar")]),8,$o)])],32)])]),_:1},8,["show","max-width","closeable"]))}},So={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},H="xl",X=!0,Bo={__name:"Operadores",props:{message:{String,default:""},color:{String,default:""},operador:{type:Object},tipoOperador:{type:Object},estado:{type:Object},directivo:{type:Object},usuario:{type:Object},incapacidad:{type:Object},empresa:{type:Object},convenioPago:{type:Object},direccion:{type:Object}},setup(d){L.use(R),L.use(R);const l=d,u=(n="Documento")=>{const s=new oe("landscape");s.setFontSize(12),s.text(n,14,22);const o=new Date().toLocaleDateString();s.setFontSize(8),s.text(`Fecha: ${o}`,260,22);const r=["ID","Apellido Paterno","Apellido Materno","Nombre","Tipo de Operador","Estado","Jefe"],b=[];G(()=>{$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().each(E=>{var U,T,J;b.push([E.idOperador,E.apellidoP,E.apellidoM,E.nombre,((U=l.tipoOperador.find(B=>B.idTipoOperador===E.idTipoOperador))==null?void 0:U.tipOperador)||"",((T=l.estado.find(B=>B.idEstado===E.idEstado))==null?void 0:T.estado)||"",((J=l.directivo.find(B=>B.idDirectivo===E.idDirectivo))==null?void 0:J.nombre_completo)||""])}),s.autoTable({head:[r],body:b,startY:24}),s.save(`${n}.pdf`)})},N=()=>{G(()=>{const o=$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().toArray().map(v=>{var F,E,U;return{ID:v.idOperador,"Apellido Paterno":v.apellidoP,"Apellido Materno":v.apellidoM,Nombre:v.nombre,"Tipo de Operador":((F=l.tipoOperador.find(T=>T.idTipoOperador===v.idTipoOperador))==null?void 0:F.tipOperador)||"",Estado:((E=l.estado.find(T=>T.idEstado===v.idEstado))==null?void 0:E.estado)||"",Jefe:((U=l.directivo.find(T=>T.idDirectivo===v.idDirectivo))==null?void 0:U.nombre_completo)||""}}),r=z.json_to_sheet(o),b=z.book_new();z.book_append_sheet(b,r,"Operadores Registrados"),te(b,"Operadores Registrados.xlsx")})},t=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Operadores registrados",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>N()},{title:"Operadores registrados",text:'<i class="fa-solid fa-file-pdf"></i> PDF',className:"bg-red-500 hover:bg-red-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",orientation:"landscape",action:()=>u(l.title||"Operadores registrados")},{title:"Operadores registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[1,2,3,4,5,6]}}],O=[{data:null,render:function(n,s,o,r){return r.row+1}},{data:"apellidoP"},{data:"apellidoM"},{data:"nombre"},{data:"idTipoOperador",render:function(n,s,o,r){const b=l.tipoOperador.find(v=>v.idTipoOperador===n);return b?b.tipOperador:""}},{data:"idEstado",render:function(n,s,o,r){const b=l.estado.find(v=>v.idEstado===n);return b?b.estado:""}},{data:"idDirectivo",render:function(n,s,o,r){const b=l.directivo.find(v=>v.idDirectivo===n);return b?b.nombre_completo:""}}],y=f(!1),x=f(!1),g=f([]);V({_method:"DELETE"});var _={};const k=n=>{_=n,x.value=!0},M=()=>{y.value=!1},S=()=>{x.value=!1},P=n=>{g.value.includes(n)?g.value=g.value.filter(o=>o!==n):g.value.push(n);const s=document.getElementById("eliminarABtn");g.value.length>0?s.removeAttribute("disabled"):s.setAttribute("disabled","")};return Z(()=>{document.getElementById("operadoresTablaId").addEventListener("click",n=>{const s=n.target;if(s.classList.contains("operador-checkboxes")){const o=parseInt(s.getAttribute("data-id"));if(l.operador){const r=l.operador.find(b=>b.idOperador===o);r?P(r):console.log("No se tiene operador")}}}),$("#operadoresTablaId").on("click",".editar-button",function(){const n=$(this).data("id"),s=l.operador.find(o=>o.idOperador===n);k(s)})}),(n,s)=>(i(),W(ee,{title:"Operadores",usuario:l.usuario},{default:C(()=>[e("div",So,[s[1]||(s[1]=e("h2",{class:"font-bold text-center text-xl pt-0"},"Operadores",-1)),s[2]||(s[2]=e("div",{class:"my-1"},null,-1)),s[3]||(s[3]=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-6"},null,-1)),e("div",null,[q(a(L),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"operadoresTablaId",name:"operadoresTablaId",columns:O,data:d.operador,options:{responsive:!0,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:[t],pageLength:23}},{default:C(()=>s[0]||(s[0]=[e("thead",null,[e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," ID "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Tipo de operador "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Estado "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Jefe ")])],-1)])),_:1},8,["data","options"])])]),q(qe,{show:y.value,"max-width":H,closeable:X,onClose:M,title:"Añadir operador",modal:"modalCreate",operador:l.operador,tipoOperador:l.tipoOperador,estado:l.estado,directivo:l.directivo},null,8,["show","operador","tipoOperador","estado","directivo"]),q(Mo,{show:x.value,"max-width":H,closeable:X,onClose:S,title:"Editar operador",modal:"modalEdit",tipoOperador:l.tipoOperador,estado:l.estado,directivo:l.directivo,operador:a(_)},null,8,["show","tipoOperador","estado","directivo","operador"])]),_:1},8,["usuario"]))}};export{Bo as default};
