import{u as I,i as B,r as h,o as n,j as N,e as S,a as e,g as O,t as x,w as f,d as l,k as w,c as v,l as D,F as C,m as L,p as F,f as m,L as E,D as A,s as z,b as T}from"./app-DkM9qv2s.js";import"./buttons.print-C2LiIHDx.js";import"./sweetalert2.all-CtXNIYUI.js";/* empty css                                                */import{_ as H}from"./ServicioLayout-C0v8QI2b.js";import{_ as V}from"./Modal-B1gM7Pt6.js";import"./jspdf.plugin.autotable-CUZ1dA80.js";const R={class:"mt-2 bg-white p-4 shadow rounded-lg"},G={class:"border-b border-gray-900/10 pb-12"},q={class:"text-base font-semibold leading-7 text-gray-900"},X=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[m("Rellene el formulario para poder registrar a un nuevo socio o prestador. Los campos con "),e("span",{class:"text-red-500"},"*"),m(" son obligatorios. ")],-1),J={class:"flex flex-wrap -mx-4"},K={class:"sm:col-span-2"},Q={class:"sm:col-span-1",hidden:""},Y=e("label",{for:"idDirectivo",class:"block text-sm font-medium leading-6 text-gray-900"},"idDirectivo",-1),Z={class:"mt-2"},ee=["id"],te={class:"sm:col-span-2 px-4"},oe=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno "),e("span",{class:"text-red-500"},"*")],-1),ie={class:"mt-2"},se=["id"],re={key:0,class:"text-red-500 text-xs mt-1"},le={class:"sm:col-span-2 px-4"},de=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno "),e("span",{class:"text-red-500"},"*")],-1),ae={class:"mt-2"},ne=["id"],ce={key:0,class:"text-red-500 text-xs mt-1"},pe={class:"sm:col-span-2 px-4"},ue=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres "),e("span",{class:"text-red-500"},"*")],-1),me={class:"mt-2"},ge=["id"],ve={key:0,class:"text-red-500 text-xs mt-1"},be={class:"sm:col-span-2 px-4"},xe=e("label",{for:"tipoDirectivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de Directivo "),e("span",{class:"text-red-500"},"*")],-1),he={class:"mt-2"},fe=["id"],ye=e("option",{value:"",disabled:"",selected:""},"Seleccione un tipo de directivo",-1),_e=["value"],De={key:0,class:"text-red-500 text-xs mt-1"},we={class:"mt-6 flex items-center justify-end gap-x-6"},$e=["id"],ke=e("i",{class:"fa-solid fa-ban"},null,-1),Me=["disabled"],Pe=e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),Se={__name:"FormularioSP",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},directivo:{type:Object,default:()=>({})},tipDirectivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(s,{emit:b}){const c=s,k=b,t=I({idDirectivo:c.directivo.idDirectivo,nombre:c.directivo.nombre,apellidoP:c.directivo.apellidoP,apellidoM:c.directivo.apellidoM,tipDirectivo:c.directivo.idTipoDirectivo});B(()=>c.directivo,async o=>{t.idDirectivo=o.idDirectivo,t.nombre=o.nombre,t.apellidoP=o.apellidoP,t.apellidoM=o.apellidoM,t.tipDirectivo=o.idTipoDirectivo},{deep:!0});const p=h(""),d=h(""),u=h(""),g=h(""),y=async()=>{k("close"),t.reset()},_=o=>typeof o=="string"&&o.trim()!=="",M=o=>o!=null,a=async()=>{p.value=_(t.nombre)?"":"Ingrese el nombre",d.value=_(t.apellidoP)?"":"Ingrese el apellido Paterno",u.value=_(t.apellidoM)?"":"Ingrese el apellido Materno",g.value=M(t.tipDirectivo)?"":"Seleccione el tipo de directivo",!(p.value||d.value||u.value||g.value)&&t.post(route("servicio.addDirectivo"),{onSuccess:()=>{y(),p.value="",d.value="",u.value="",g.value=""}})};return(o,r)=>(n(),N(V,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:y},{default:S(()=>[e("div",R,[e("form",{onSubmit:O(a,["prevent"])},[e("div",G,[e("h2",q,x(s.title),1),X,e("div",J,[e("div",K,[e("div",Q,[Y,e("div",Z,[f(e("input",{type:"number",name:"idDirectivo","onUpdate:modelValue":r[0]||(r[0]=i=>l(t).idDirectivo=i),placeholder:"Ingrese id del directivo",id:"idDirectivo"+s.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ee),[[w,l(t).idDirectivo]])])])]),e("div",te,[oe,e("div",ie,[f(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+s.op,"onUpdate:modelValue":r[1]||(r[1]=i=>l(t).apellidoP=i),placeholder:"Ingrese el apellido paterno",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,se),[[w,l(t).apellidoP]])]),d.value!=""?(n(),v("div",re,x(d.value),1)):D("",!0)]),e("div",le,[de,e("div",ae,[f(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+s.op,"onUpdate:modelValue":r[2]||(r[2]=i=>l(t).apellidoM=i),placeholder:"Ingrese el apellido materno",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ne),[[w,l(t).apellidoM]])]),u.value!=""?(n(),v("div",ce,x(u.value),1)):D("",!0)]),e("div",pe,[ue,e("div",me,[f(e("input",{type:"text",name:"nombre",id:"nombre"+s.op,"onUpdate:modelValue":r[3]||(r[3]=i=>l(t).nombre=i),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ge),[[w,l(t).nombre]])]),p.value!=""?(n(),v("div",ve,x(p.value),1)):D("",!0)]),e("div",be,[xe,e("div",he,[f(e("select",{name:"tipoDirectivo",id:"tipoDirectivo"+s.op,"onUpdate:modelValue":r[4]||(r[4]=i=>l(t).tipDirectivo=i),placeholder:"Seleccione el tipo de directivo",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[ye,(n(!0),v(C,null,L(s.tipDirectivo,i=>(n(),v("option",{key:i.idTipoDirectivo,value:i.idTipoDirectivo},x(i.tipoDirectivo),9,_e))),128))],8,fe),[[F,l(t).tipDirectivo]])]),g.value!=""?(n(),v("div",De,x(g.value),1)):D("",!0)])])]),e("div",we,[e("button",{type:"button",id:"cerrar"+s.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:y},[ke,m(" Cancelar")],8,$e),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded",disabled:l(t).processing},[Pe,m("Guardar")],8,Me)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Ee={class:"mt-2 bg-white p-4 shadow rounded-lg"},Te={class:"border-b border-gray-900/10 pb-12"},Ie={class:"text-base font-semibold leading-7 text-gray-900"},Ne=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Modifique los datos según sea necesario y guarde los cambios. ",-1),Ae={key:0,type:"hidden",name:"_method",value:"PUT"},Ue={class:"flex flex-wrap -mx-4"},je={class:"sm:col-span-2"},Be={class:"sm:col-span-1",hidden:""},Oe=e("label",{for:"idDirectivo",class:"block text-sm font-medium leading-6 text-gray-900"},"idDirectivo",-1),Ce={class:"mt-2"},Le=["id"],Fe={class:"sm:col-span-2 px-4"},Ve=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno "),e("span",{class:"text-red-500"},"*")],-1),We={class:"mt-2"},ze=["id"],He={key:0,class:"text-red-500 text-xs mt-1"},Re={class:"sm:col-span-2 px-4"},Ge=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno "),e("span",{class:"text-red-500"},"*")],-1),qe={class:"mt-2"},Xe=["id"],Je={key:0,class:"text-red-500 text-xs mt-1"},Ke={class:"sm:col-span-2 px-4"},Qe=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres "),e("span",{class:"text-red-500"},"*")],-1),Ye={class:"mt-2"},Ze=["id"],et={key:0,class:"text-red-500 text-xs mt-1"},tt={class:"sm:col-span-2 px-4"},ot=e("label",{for:"tipoDirectivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de Directivo "),e("span",{class:"text-red-500"},"*")],-1),it={class:"mt-2"},st=["id"],rt=e("option",{value:"",disabled:"",selected:""},"Seleccione un tipo de directivo",-1),lt=["value"],dt={key:0,class:"text-red-500 text-xs mt-1"},at={class:"mt-6 flex items-center justify-end gap-x-6"},nt=["id"],ct=e("i",{class:"fa-solid fa-ban"},null,-1),pt=["disabled"],ut=e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),mt={__name:"FormularioActualizarSP",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},directivo:{type:Object,default:()=>({})},tipDirectivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(s,{emit:b}){const c=s,k=b,t=I({_method:"PUT",idDirectivo:c.directivo.idDirectivo,nombre:c.directivo.nombre,apellidoP:c.directivo.apellidoP,apellidoM:c.directivo.apellidoM,tipDirectivo:c.directivo.idTipoDirectivo});B(()=>c.directivo,async o=>{t.idDirectivo=o.idDirectivo,t.nombre=o.nombre,t.apellidoP=o.apellidoP,t.apellidoM=o.apellidoM,t.tipDirectivo=o.idTipoDirectivo},{deep:!0});const p=h(""),d=h(""),u=h(""),g=h(""),y=async()=>{k("close"),t.reset()},_=o=>typeof o=="string"&&o.trim()!=="",M=o=>o!=null,a=async()=>{if(p.value=_(t.nombre)?"":"Ingrese el nombre",d.value=_(t.apellidoP)?"":"Ingrese el apellido Paterno",u.value=_(t.apellidoM)?"":"Ingrese el apellido Materno",g.value=M(t.tipDirectivo)?"":"Seleccione el tipo de directivo",!(p.value||d.value||u.value||g.value)){var o=document.getElementById("idDirectivo2").value;t.post(route("rh.actualizarDirectivo",o),{onSuccess:()=>{y(),p.value="",d.value="",u.value="",g.value=""}})}};return(o,r)=>(n(),N(V,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:y},{default:S(()=>[e("div",Ee,[e("form",{onSubmit:O(a,["prevent"])},[e("div",Te,[e("h2",Ie,x(s.title),1),Ne,s.op!=="1"?(n(),v("input",Ae)):D("",!0),e("div",Ue,[e("div",je,[e("div",Be,[Oe,e("div",Ce,[f(e("input",{type:"number",name:"idDirectivo","onUpdate:modelValue":r[0]||(r[0]=i=>l(t).idDirectivo=i),placeholder:"Ingrese id del directivo",id:"idDirectivo"+s.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Le),[[w,l(t).idDirectivo]])])])]),e("div",Fe,[Ve,e("div",We,[f(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+s.op,"onUpdate:modelValue":r[1]||(r[1]=i=>l(t).apellidoP=i),placeholder:"Ingrese el apellido paterno",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ze),[[w,l(t).apellidoP]])]),d.value!=""?(n(),v("div",He,x(d.value),1)):D("",!0)]),e("div",Re,[Ge,e("div",qe,[f(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+s.op,"onUpdate:modelValue":r[2]||(r[2]=i=>l(t).apellidoM=i),placeholder:"Ingrese el apellido materno",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Xe),[[w,l(t).apellidoM]])]),u.value!=""?(n(),v("div",Je,x(u.value),1)):D("",!0)]),e("div",Ke,[Qe,e("div",Ye,[f(e("input",{type:"text",name:"nombre",id:"nombre"+s.op,"onUpdate:modelValue":r[3]||(r[3]=i=>l(t).nombre=i),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ze),[[w,l(t).nombre]])]),p.value!=""?(n(),v("div",et,x(p.value),1)):D("",!0)]),e("div",tt,[ot,e("div",it,[f(e("select",{name:"tipoDirectivo",id:"tipoDirectivo"+s.op,"onUpdate:modelValue":r[4]||(r[4]=i=>l(t).tipDirectivo=i),placeholder:"Seleccione el tipo de directivo",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[rt,(n(!0),v(C,null,L(s.tipDirectivo,i=>(n(),v("option",{key:i.idTipoDirectivo,value:i.idTipoDirectivo},x(i.tipoDirectivo),9,lt))),128))],8,st),[[F,l(t).tipDirectivo]])]),g.value!=""?(n(),v("div",dt,x(g.value),1)):D("",!0)])])]),e("div",at,[e("button",{type:"button",id:"cerrar"+s.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:y},[ct,m(" Cancelar")],8,nt),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded",disabled:l(t).processing},[ut,m("Guardar")],8,pt)])],32)])]),_:1},8,["show","max-width","closeable"]))}},gt={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},vt=e("h2",{class:"font-bold text-center text-xl pt-0"},"Directivos",-1),bt=e("div",{class:"my-1"},null,-1),xt=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-6"},null,-1),ht=e("thead",null,[e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," ID "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Tipo Directivo "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Numero de Unidades "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Numero de Operadores ")])],-1),U="xl",j=!0,Mt={__name:"SociosPrestadores",props:{message:{String,default:""},color:{String,default:""},directivo:{type:Object},tipDirectivo:{type:Object},usuario:{type:Object}},setup(s){E.use(A),E.use(A);const b=s,c=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Directivos registrados",extend:"excelHtml5",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[2,3,4,5,6]}},{title:"Directivos registrados",extend:"pdfHtml5",text:'<i class="fa-solid fa-file-pdf"></i> PDF',className:"bg-red-500 hover:bg-red-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[2,3,4,5,6]}},{title:"Directivos registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[2,3,4,5,6]}}],k=[{data:null,render:function(a,o,r,i){return i.row+1}},{data:"apellidoP"},{data:"apellidoM"},{data:"nombre"},{data:"idTipoDirectivo",render:function(a,o,r,i){const P=b.tipDirectivo.find(W=>W.idTipoDirectivo===a);return P?P.tipoDirectivo:""}},{data:"numUnidades"},{data:"numOperadores"}],t=h(!1),p=h(!1);I({_method:"DELETE"});const d=h([]);var u={};const g=a=>{u=a,p.value=!0},y=()=>{t.value=!1},_=()=>{p.value=!1},M=a=>{d.value.includes(a)?d.value=d.value.filter(r=>r!==a):d.value.push(a);const o=document.getElementById("eliminarABtn");d.value.length>0?o.removeAttribute("disabled"):o.setAttribute("disabled","")};return z(()=>{document.getElementById("directivosTablaId").addEventListener("click",a=>{const o=a.target;if(o.classList.contains("directivos-checkboxes")){const r=parseInt(o.getAttribute("data-id"));if(b.directivo){const i=b.directivo.find(P=>P.idDirectivo===r);i?M(i):console.log("No se tiene directivo")}}}),$("#directivosTablaId").on("click",".editar-button",function(){const a=$(this).data("id"),o=b.directivo.find(r=>r.idDirectivo===a);g(o)})}),(a,o)=>(n(),N(H,{title:"Directivos",usuario:b.usuario},{default:S(()=>[e("div",gt,[vt,bt,xt,e("div",null,[T(l(E),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"directivosTablaId",name:"directivosTablaId",columns:k,data:s.directivo,options:{responsive:!0,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:[c],pageLength:20}},{default:S(()=>[ht]),_:1},8,["data","options"])])]),T(Se,{show:t.value,"max-width":U,closeable:j,onClose:y,title:"Añadir directivo",op:"1",modal:"modalCreate",tipDirectivo:b.tipDirectivo,directivo:b.directivo},null,8,["show","tipDirectivo","directivo"]),T(mt,{show:p.value,"max-width":U,closeable:j,onClose:_,title:"Editar directivo",op:"2",modal:"modalEdit",tipDirectivo:b.tipDirectivo,directivo:l(u)},null,8,["show","tipDirectivo","directivo"])]),_:1},8,["usuario"]))}};export{Mt as default};
