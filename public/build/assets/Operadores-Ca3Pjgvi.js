import{_ as te}from"./PrincipalLayout-CuWZzE4F.js";import{u as G,i as Z,r as v,o as i,j as H,e as R,a as e,g as ee,t as u,w as O,d as a,k as I,c as n,l as w,F as A,m as j,p as B,f as m,L as z,D as Y,s as se,x as V,b as L}from"./app-wE32Lqbb.js";import"./buttons.print-Cv9TER2l.js";import{S as W}from"./sweetalert2.all-JwwHPZB6.js";import{_ as oe}from"./Modal-B5jvBXl5.js";import{_ as re}from"./Mensaje-BAEBuZHA.js";import{E as ae}from"./jspdf.plugin.autotable-D-HuDbpe.js";import{u as J,w as de}from"./xlsx-769MyM77.js";/* empty css                                                */const ie={class:"mt-2 bg-white p-4 shadow rounded-lg"},le={class:"border-b border-gray-900/10 pb-12"},ne={class:"text-base font-semibold leading-7 text-gray-900"},ce=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[m("Rellene el formulario para poder registrar a un nuevo operador. Los campos con "),e("span",{class:"text-red-500"},"*"),m(" son obligatorios. ")],-1),pe={class:"flex flex-wrap"},ue={class:"md:col-span-2"},me={class:"sm:col-span-2",hidden:""},ge=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1),be={class:"mt-1"},xe=["id"],he={class:"md:col-span-2 px-4"},fe=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1),ye={class:"mt-2"},ve=["id"],_e={key:0,class:"text-red-500 text-xs mt-1"},Oe={class:"sm:col-span-2 px-4"},$e=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1),ke={class:"mt-2"},we=["id"],Ee={key:0,class:"text-red-500 text-xs mt-1"},Se={class:"sm:col-span-2 px-4"},Me=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres"),e("span",{class:"text-red-500"},"*")],-1),Te={class:"mt-2"},Pe=["id"],De={key:0,class:"text-red-500 text-xs mt-1"},Ie={class:"sm:col-span-2 px-4"},Ae=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1),je={class:"mt-2"},Be=["id"],Ce=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1),Ne=["value"],Ue={key:0,class:"text-red-500 text-xs mt-1"},Fe={class:"sm:col-span-2 px-4"},qe=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Estado"),e("span",{class:"text-red-500"},"*")],-1),Le={class:"mt-2"},Re=["id"],ze=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1),Ve=["value"],We={key:0,class:"text-red-500 text-xs mt-1"},Je=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1),Ge={class:"sm:col-span-2 px-4"},He=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Jefe"),e("span",{class:"text-red-500"},"*")],-1),Xe={class:"mt-2"},Ye=["id"],Ke=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1),Qe=["value"],Ze={key:0,class:"text-red-500 text-xs mt-1"},eo={class:"mt-6 flex items-center justify-end gap-x-6"},oo=["id"],to=e("i",{class:"fa-solid fa-ban"},null,-1),so=["disabled"],ro=e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),ao={__name:"FormularioOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(r,{emit:l}){const g=r,C=l,t=G({idOperador:g.operador.idOperador,nombre:g.operador.nombre,apellidoP:g.operador.apellidoP,apellidoM:g.operador.apellidoM,tipoOperador:g.operador.idTipoOperador,estado:g.operador.idEstado,directivo:g.operador.idDirectivo});Z(()=>g.operador,async d=>{t.idOperador=d.idOperador,t.nombre=d.nombre,t.apellidoP=d.apellidoP,t.apellidoM=d.apellidoM,t.tipoOperador=d.idTipoOperador,t.estado=d.idEstado,t.directivo=d.idDirectivo},{deep:!0});const k=v(""),f=v(""),y=v(""),p=v(""),T=v(""),_=v(""),S=async()=>{C("close"),t.reset()},M=d=>typeof d=="string"&&d.trim()!=="",P=d=>d!=null,N=async()=>{k.value=M(t.nombre)?"":"Ingrese el nombre",f.value=M(t.apellidoP)?"":"Ingrese el apellido Paterno",y.value=M(t.apellidoM)?"":"Ingrese el apellido Materno",p.value=P(t.tipoOperador)?"":"Seleccione el tipo de operador",T.value=P(t.estado)?"":"Seleccione el estado",_.value=P(t.directivo)?"":"Seleccione para que socio trabaja",!(k.value||f.value||y.value||p.value||_.value)&&t.post(route("principal.addOperador"),{onSuccess:()=>{S(),k.value="",f.value="",y.value="",p.value="",_.value=""}})};return(d,s)=>(i(),H(oe,{show:r.show,"max-width":r.maxWidth,closeable:r.closeable,onClose:S},{default:R(()=>[e("div",ie,[e("form",{onSubmit:ee(N,["prevent"])},[e("div",le,[e("h2",ne,u(r.title),1),ce,e("div",pe,[e("div",ue,[e("div",me,[ge,e("div",be,[O(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":s[0]||(s[0]=o=>a(t).idOperador=o),placeholder:"Ingrese id del operador",id:"idOperador"+r.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,xe),[[I,a(t).idOperador]])])])]),e("div",he,[fe,e("div",ye,[O(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+r.op,"onUpdate:modelValue":s[1]||(s[1]=o=>a(t).apellidoP=o),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ve),[[I,a(t).apellidoP]])]),f.value!=""?(i(),n("div",_e,u(f.value),1)):w("",!0)]),e("div",Oe,[$e,e("div",ke,[O(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+r.op,"onUpdate:modelValue":s[2]||(s[2]=o=>a(t).apellidoM=o),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,we),[[I,a(t).apellidoM]])]),y.value!=""?(i(),n("div",Ee,u(y.value),1)):w("",!0)]),e("div",Se,[Me,e("div",Te,[O(e("input",{type:"text",name:"nombre",id:"nombre"+r.op,"onUpdate:modelValue":s[3]||(s[3]=o=>a(t).nombre=o),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Pe),[[I,a(t).nombre]])]),k.value!=""?(i(),n("div",De,u(k.value),1)):w("",!0)]),e("div",Ie,[Ae,e("div",je,[O(e("select",{name:"tipoOperador",id:"tipoOperador"+r.op,"onUpdate:modelValue":s[4]||(s[4]=o=>a(t).tipoOperador=o),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Ce,(i(!0),n(A,null,j(r.tipoOperador,o=>(i(),n("option",{key:o.idTipoOperador,value:o.idTipoOperador},u(o.tipOperador),9,Ne))),128))],8,Be),[[B,a(t).tipoOperador]])]),p.value!=""?(i(),n("div",Ue,u(p.value),1)):w("",!0)]),e("div",Fe,[qe,e("div",Le,[O(e("select",{name:"estado",id:"estado"+r.op,"onUpdate:modelValue":s[5]||(s[5]=o=>a(t).estado=o),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[ze,(i(!0),n(A,null,j(r.estado,o=>(i(),n("option",{key:o.idEstado,value:o.idEstado},u(o.estado),9,Ve))),128))],8,Re),[[B,a(t).estado]])]),T.value!=""?(i(),n("div",We,u(T.value),1)):w("",!0)]),Je,e("div",Ge,[He,e("div",Xe,[O(e("select",{name:"directivo",id:"directivo"+r.op,"onUpdate:modelValue":s[6]||(s[6]=o=>a(t).directivo=o),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Ke,(i(!0),n(A,null,j(r.directivo,o=>(i(),n("option",{key:o.idDirectivo,value:o.idDirectivo},u(o.nombre_completo),9,Qe))),128))],8,Ye),[[B,a(t).directivo]])]),_.value!=""?(i(),n("div",Ze,u(_.value),1)):w("",!0)])])]),e("div",eo,[e("button",{type:"button",id:"cerrar"+r.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:S},[to,m(" Cancelar")],8,oo),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:a(t).processing},[ro,m("Guardar")],8,so)])],32)])]),_:1},8,["show","max-width","closeable"]))}},io={class:"mt-2 bg-white p-4 shadow rounded-lg"},lo={class:"border-b border-gray-900/10 pb-12"},no={class:"text-base font-semibold leading-7 text-gray-900"},co=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Modifique los datos según sea necesario y guarde los cambios. ",-1),po={class:"flex flex-wrap"},uo={class:"md:col-span-2"},mo={class:"sm:col-span-2",hidden:""},go=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1),bo={class:"mt-1"},xo=["id"],ho={class:"md:col-span-2 px-4"},fo=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Paterno"),e("span",{class:"text-red-500"},"*")],-1),yo={class:"mt-2"},vo=["id"],_o={key:0,class:"text-red-500 text-xs mt-1"},Oo={class:"sm:col-span-2 px-4"},$o=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Apellido Materno"),e("span",{class:"text-red-500"},"*")],-1),ko={class:"mt-2"},wo=["id"],Eo={key:0,class:"text-red-500 text-xs mt-1"},So={class:"sm:col-span-2 px-4"},Mo=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Nombres"),e("span",{class:"text-red-500"},"*")],-1),To={class:"mt-2"},Po=["id"],Do={key:0,class:"text-red-500 text-xs mt-1"},Io={class:"sm:col-span-2 px-4"},Ao=e("label",{for:"tipoOperador",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Tipo de operador"),e("span",{class:"text-red-500"},"*")],-1),jo={class:"mt-2"},Bo=["id"],Co=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de operador",-1),No=["value"],Uo={key:0,class:"text-red-500 text-xs mt-1"},Fo={class:"sm:col-span-2 px-4"},qo=e("label",{for:"estado",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Estado"),e("span",{class:"text-red-500"},"*")],-1),Lo={class:"mt-2"},Ro=["id"],zo=e("option",{value:"",disabled:"",selected:""},"Seleccione el estado del operador",-1),Vo=["value"],Wo={key:0,class:"text-red-500 text-xs mt-1"},Jo=e("p",{class:"mt-2 text-sm leading-6 text-gray-600"},"A continuación, seleccione al socio/prestador para el que trabajará el operador que se está registrando. ",-1),Go={class:"sm:col-span-2 px-4"},Ho=e("label",{for:"directivo",class:"block text-sm font-medium leading-6 text-gray-900"},[m("Jefe"),e("span",{class:"text-red-500"},"*")],-1),Xo={class:"mt-2"},Yo=["id"],Ko=e("option",{value:"",disabled:"",selected:""},"Seleccione a un socio/prestador",-1),Qo=["value"],Zo={key:0,class:"text-red-500 text-xs mt-1"},et={class:"mt-6 flex items-center justify-end gap-x-6"},ot=["id"],tt=e("i",{class:"fa-solid fa-ban"},null,-1),st=["disabled"],rt=e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),at={__name:"FormularioActualizarOperadores",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},operador:{type:Object,default:()=>({})},tipoOperador:{type:Object,default:()=>({})},estado:{type:Object,default:()=>({})},directivo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(r,{emit:l}){const g=r,C=l,t=G({_method:"PUT",idOperador:g.operador.idOperador,nombre:g.operador.nombre,apellidoP:g.operador.apellidoP,apellidoM:g.operador.apellidoM,tipoOperador:g.operador.idTipoOperador,estado:g.operador.idEstado,directivo:g.operador.idDirectivo});Z(()=>g.operador,async d=>{t.idOperador=d.idOperador,t.nombre=d.nombre,t.apellidoP=d.apellidoP,t.apellidoM=d.apellidoM,t.tipoOperador=d.idTipoOperador,t.estado=d.idEstado,t.directivo=d.idDirectivo},{deep:!0});const k=v(""),f=v(""),y=v(""),p=v(""),T=v(""),_=v(""),S=async()=>{C("close"),t.reset()},M=d=>typeof d=="string"&&d.trim()!=="",P=d=>d!=null,N=async()=>{k.value=M(t.nombre)?"":"Ingrese el nombre",f.value=M(t.apellidoP)?"":"Ingrese el apellido Paterno",y.value=M(t.apellidoM)?"":"Ingrese el apellido Materno",p.value=P(t.tipoOperador)?"":"Selecciones el tipo de operador",_.value=P(t.directivo)?"":"Seleccione para que socio trabaja",!(k.value||f.value||y.value||p.value||_.value)&&t.post(route("principal.actualizarOperador",t.idOperador),{onSuccess:()=>{S(),k.value="",f.value="",y.value="",p.value="",_.value=""}})};return(d,s)=>(i(),H(oe,{show:r.show,"max-width":r.maxWidth,closeable:r.closeable,onClose:S},{default:R(()=>[e("div",io,[e("form",{onSubmit:ee(N,["prevent"])},[e("div",lo,[e("h2",no,u(r.title),1),co,e("div",po,[e("div",uo,[e("div",mo,[go,e("div",bo,[O(e("input",{type:"number",name:"idOperador","onUpdate:modelValue":s[0]||(s[0]=o=>a(t).idOperador=o),placeholder:"Ingrese id del operador",id:"idOperador"+r.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,xo),[[I,a(t).idOperador]])])])]),e("div",ho,[fo,e("div",yo,[O(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+r.op,"onUpdate:modelValue":s[1]||(s[1]=o=>a(t).apellidoP=o),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,vo),[[I,a(t).apellidoP]])]),f.value!=""?(i(),n("div",_o,u(f.value),1)):w("",!0)]),e("div",Oo,[$o,e("div",ko,[O(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+r.op,"onUpdate:modelValue":s[2]||(s[2]=o=>a(t).apellidoM=o),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,wo),[[I,a(t).apellidoM]])]),y.value!=""?(i(),n("div",Eo,u(y.value),1)):w("",!0)]),e("div",So,[Mo,e("div",To,[O(e("input",{type:"text",name:"nombre",id:"nombre"+r.op,"onUpdate:modelValue":s[3]||(s[3]=o=>a(t).nombre=o),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Po),[[I,a(t).nombre]])]),k.value!=""?(i(),n("div",Do,u(k.value),1)):w("",!0)]),e("div",Io,[Ao,e("div",jo,[O(e("select",{name:"tipoOperador",id:"tipoOperador"+r.op,"onUpdate:modelValue":s[4]||(s[4]=o=>a(t).tipoOperador=o),placeholder:"Seleccione el tipo de operador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Co,(i(!0),n(A,null,j(r.tipoOperador,o=>(i(),n("option",{key:o.idTipoOperador,value:o.idTipoOperador},u(o.tipOperador),9,No))),128))],8,Bo),[[B,a(t).tipoOperador]])]),p.value!=""?(i(),n("div",Uo,u(p.value),1)):w("",!0)]),e("div",Fo,[qo,e("div",Lo,[O(e("select",{name:"estado",id:"estado"+r.op,"onUpdate:modelValue":s[5]||(s[5]=o=>a(t).estado=o),placeholder:"Seleccione el tipo de estado",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[zo,(i(!0),n(A,null,j(r.estado,o=>(i(),n("option",{key:o.idEstado,value:o.idEstado},u(o.estado),9,Vo))),128))],8,Ro),[[B,a(t).estado]])]),T.value!=""?(i(),n("div",Wo,u(T.value),1)):w("",!0)]),Jo,e("div",Go,[Ho,e("div",Xo,[O(e("select",{name:"directivo",id:"directivo"+r.op,"onUpdate:modelValue":s[6]||(s[6]=o=>a(t).directivo=o),placeholder:"Seleccione a un socio/prestador",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Ko,(i(!0),n(A,null,j(r.directivo,o=>(i(),n("option",{key:o.idDirectivo,value:o.idDirectivo},u(o.nombre_completo),9,Qo))),128))],8,Yo),[[B,a(t).directivo]])]),_.value!=""?(i(),n("div",Zo,u(_.value),1)):w("",!0)])])]),e("div",et,[e("button",{type:"button",id:"cerrar"+r.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:S},[tt,m(" Cancelar")],8,ot),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:a(t).processing},[rt,m("Guardar")],8,st)])],32)])]),_:1},8,["show","max-width","closeable"]))}},dt={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},it=e("h2",{class:"font-bold text-center text-xl pt-0"},"Operadores",-1),lt=e("div",{class:"my-1"},null,-1),nt=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-3"},null,-1),ct={class:"py-3 flex flex-col md:flex-row md:items-start md:space-x-3 space-y-3 md:space-y-0"},pt=e("i",{class:"fa fa-plus mr-2"},null,-1),ut=e("i",{class:"fa fa-trash mr-2"},null,-1),mt=e("thead",null,[e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," ID "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Tipo de operador "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Estado "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Jefe ")])],-1),K="xl",Q=!0,$t={__name:"Operadores",props:{message:{String,default:""},color:{String,default:""},operador:{type:Object},tipoOperador:{type:Object},estado:{type:Object},directivo:{type:Object},usuario:{type:Object}},setup(r){z.use(Y),z.use(Y);const l=r,g=(s="Documento")=>{const o=new ae("landscape");o.setFontSize(12),o.text(s,14,22);const c=new Date().toLocaleDateString();o.setFontSize(8),o.text(`Fecha: ${c}`,260,22);const x=["ID","Apellido Paterno","Apellido Materno","Nombre","Tipo de Operador","Estado","Jefe"],b=[];V(()=>{$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().each(E=>{var F,D,X;b.push([E.idOperador,E.apellidoP,E.apellidoM,E.nombre,((F=l.tipoOperador.find(q=>q.idTipoOperador===E.idTipoOperador))==null?void 0:F.tipOperador)||"",((D=l.estado.find(q=>q.idEstado===E.idEstado))==null?void 0:D.estado)||"",((X=l.directivo.find(q=>q.idDirectivo===E.idDirectivo))==null?void 0:X.nombre_completo)||""])}),o.autoTable({head:[x],body:b,startY:24}),o.save(`${s}.pdf`)})},C=()=>{V(()=>{const c=$("#operadoresTablaId").DataTable().rows({search:"applied"}).data().toArray().map(h=>{var U,E,F;return{ID:h.idOperador,"Apellido Paterno":h.apellidoP,"Apellido Materno":h.apellidoM,Nombre:h.nombre,"Tipo de Operador":((U=l.tipoOperador.find(D=>D.idTipoOperador===h.idTipoOperador))==null?void 0:U.tipOperador)||"",Estado:((E=l.estado.find(D=>D.idEstado===h.idEstado))==null?void 0:E.estado)||"",Jefe:((F=l.directivo.find(D=>D.idDirectivo===h.idDirectivo))==null?void 0:F.nombre_completo)||""}}),x=J.json_to_sheet(c),b=J.book_new();J.book_append_sheet(b,x,"Operadores Registrados"),de(b,"Operadores Registrados.xlsx")})},t=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Operadores Registrados",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>C()},{title:"Operadores Registrados",text:'<i class="fa-solid fa-file-pdf"></i> PDF',className:"bg-red-500 hover:bg-red-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>g(l.title||"Operadores registrados")},{title:"Operadores Registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[2,3,4,5,6,7,8]}}],k=[{data:null,render:function(s,o,c,x){return""}},{data:null,render:function(s,o,c,x){return`<input type="checkbox" class="operador-checkboxes" data-id="${c.idOperador}" ">`}},{data:null,render:function(s,o,c,x){return x.row+1}},{data:"apellidoP"},{data:"apellidoM"},{data:"nombre"},{data:"idTipoOperador",render:function(s,o,c,x){const b=l.tipoOperador.find(h=>h.idTipoOperador===s);return b?b.tipOperador:""}},{data:"idEstado",render:function(s,o,c,x){const b=l.estado.find(h=>h.idEstado===s);return b?b.estado:""}},{data:"idDirectivo",render:function(s,o,c,x){const b=l.directivo.find(h=>h.idDirectivo===s);return b?b.nombre_completo:""}},{data:null,render:function(s,o,c,x){return`<button class="editar-button" data-id="${c.idOperador}" style="display: flex; justify-content: center;"><i class="fa fa-pencil"></i></button>`}}],f=v(!1),y=v(!1),p=v([]),T=G({_method:"DELETE"});var _={};const S=s=>{_=s,y.value=!0},M=()=>{f.value=!1},P=()=>{y.value=!1},N=s=>{p.value.includes(s)?p.value=p.value.filter(c=>c!==s):p.value.push(s);const o=document.getElementById("eliminarABtn");p.value.length>0?o.removeAttribute("disabled"):o.setAttribute("disabled","")};se(()=>{V(()=>{document.getElementById("operadoresTablaId").addEventListener("click",s=>{const o=s.target;if(o.classList.contains("operador-checkboxes")){const c=parseInt(o.getAttribute("data-id"));if(l.operador){const x=l.operador.find(b=>b.idOperador===c);x?N(x):console.log("No se tiene operador")}}}),$("#operadoresTablaId").on("click",".editar-button",function(){const s=$(this).data("id"),o=l.operador.find(c=>c.idOperador===s);S(o)})})});const d=()=>{const s=W.mixin({buttonsStyling:!0}),o=p.value.map(c=>c.nombre_completo).join(", ");s.fire({title:"¿Estas seguro que deseas eliminar al operador seleccionado?",html:`Operadores seleccionados: ${o}`,icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i> Confirmar',cancelButtonText:'<i class="fa-solid fa-ban"></i> Cancelar'}).then(async c=>{if(c.isConfirmed)try{const b=p.value.map(U=>U.idOperador).join(",");await T.post(route("principal.eliminarOperador",b)),p.value=[];const h=document.getElementById("eliminarABtn");p.value.length>0?h.removeAttribute("disabled"):h.setAttribute("disabled",""),W.fire({title:"Operador(es) eliminado(s) correctamente",icon:"success"}),window.flash={message:"Operador(es) eliminado(s) correctamente",color:"green"}}catch(x){console.log("Error al eliminar varias operadores: "+x),W.fire({title:"Error",text:"Hubo un error al eliminar al operador. Por favor, inténtalo de nuevo más tarde.",icon:"error"})}})};return(s,o)=>(i(),H(te,{title:"Operadores",usuario:l.usuario},{default:R(()=>[e("div",dt,[it,lt,nt,L(re),e("div",ct,[e("button",{class:"bg-green-500 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded",onClick:o[0]||(o[0]=c=>f.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},[pt,m("Agregar Operador ")]),e("button",{id:"eliminarABtn",disabled:"",class:"bg-red-500 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded",onClick:d},[ut,m(" Eliminar Operador ")])]),e("div",null,[L(a(z),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"operadoresTablaId",name:"operadoresTablaId",columns:k,data:r.operador,options:{responsive:!0,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:[t]}},{default:R(()=>[mt]),_:1},8,["data","options"])])]),L(ao,{show:f.value,"max-width":K,closeable:Q,onClose:M,title:"Añadir operador",modal:"modalCreate",operador:l.operador,tipoOperador:l.tipoOperador,estado:l.estado,directivo:l.directivo},null,8,["show","operador","tipoOperador","estado","directivo"]),L(at,{show:y.value,"max-width":K,closeable:Q,onClose:P,title:"Editar operador",modal:"modalEdit",tipoOperador:l.tipoOperador,estado:l.estado,directivo:l.directivo,operador:a(_)},null,8,["show","tipoOperador","estado","directivo","operador"])]),_:1},8,["usuario"]))}};export{$t as default};
