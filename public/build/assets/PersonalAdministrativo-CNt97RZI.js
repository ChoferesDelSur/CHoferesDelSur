import{r as g,e as we,x as J,f as $e,I as K,o as l,a as Ie,w as ie,b as t,g as Ce,t as c,k as N,j as m,u as n,v as x,h as r,i as f,F as V,y as T,z as j,J as _e,C as Ee,D as Pe,d as ne,A as Fe}from"./app-CP-1U-kK.js";import"./buttons.print-CrHA5STl.js";import{S as ke}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{_ as Ue}from"./Mensaje-oGeSViYh.js";import{_ as Me}from"./RHLayout-BNSQ6DTn.js";import{_ as Re}from"./Modal-D_4D40Dq.js";import"./jspdf.plugin.autotable-B8eagL5W.js";import{u as Ne,w as Ve}from"./xlsx-DjuO7_Ju.js";/* empty css                                                */const Te={class:"mt-2 bg-white p-4 shadow rounded-lg"},je={class:"pb-0"},Oe={class:"text-2xl font-semibold leading-7 text-gray-900"},Be={class:"p-3 border-b border-gray-300"},Ye={class:"flex flex-wrap"},Le={class:"md:col-span-2"},Xe={class:"sm:col-span-2",hidden:""},ze={class:"mt-1"},We=["id"],Ze={class:"md:col-span-2 px-2"},qe={class:"mt-2"},He=["id"],Ge={key:0,class:"text-red-500 text-xs mt-1"},Je={class:"sm:col-span-2 px-2"},Ke={class:"mt-2"},Qe=["id"],et={key:0,class:"text-red-500 text-xs mt-1"},tt={class:"sm:col-span-2 px-2"},st={class:"mt-2"},ot=["id"],at={key:0,class:"text-red-500 text-xs mt-1"},nt={class:"sm:col-span-2 px-2"},it={class:"mt-2"},lt=["id"],rt={key:0,class:"text-red-500 text-xs mt-1"},dt={class:"sm:col-span-2 px-2"},ct={class:"mt-2"},mt=["id"],ut={key:0,class:"text-red-500 text-xs mt-1"},gt={class:"sm:col-span-2 px-2"},pt={class:"mt-2"},xt=["id"],ft={key:0,class:"text-red-500 text-xs mt-1"},bt={class:"sm:col-span-2 px-2"},yt={class:"mt-2"},vt=["id"],ht={key:0,class:"text-red-500 text-xs mt-1"},Et={class:"sm:col-span-2 px-2"},kt={class:"mt-2"},Nt=["id"],wt={key:0,class:"text-red-500 text-xs mt-1"},$t={class:"sm:col-span-2 px-2"},It={class:"mt-2"},Pt=["id"],Dt={key:0,class:"text-red-500 text-xs mt-1"},St={class:"sm:col-span-2 px-2"},Ct={class:"mt-2"},_t=["id"],Rt={key:0,class:"text-red-500 text-xs mt-1"},At={class:"sm:col-span-2 px-2"},Ft={class:"mt-2"},Ut=["id"],Mt=["value"],Vt={key:0,class:"text-red-500 text-xs mt-1"},Tt={class:"p-3 border-b border-gray-300"},jt={class:"flex flex-wrap"},Ot={class:"sm:col-span-2 px-2"},Bt={class:"mt-2"},Yt=["id"],Lt={key:0,class:"text-red-500 text-xs mt-1"},Xt={class:"sm:col-span-2 px-2"},zt={class:"mt-2"},Wt=["id"],Zt={class:"sm:col-span-2 px-2"},qt={class:"mt-2"},Ht=["id"],Gt=["value"],Jt={key:0,class:"text-red-500 text-xs mt-1"},Kt={class:"sm:col-span-2 px-2"},Qt={class:"mt-2"},es=["id"],ts={key:0,class:"text-red-500 text-xs mt-1"},ss={class:"p-3 border-b border-gray-300"},os={class:"flex flex-wrap"},as={class:"sm:col-span-2 px-2"},ns={class:"mt-2"},is=["id"],ls={key:0,class:"text-red-500 text-xs mt-1"},rs={class:"sm:col-span-2 px-2"},ds={class:"mt-2"},cs=["id"],ms=["value"],us={class:"sm:col-span-2 px-2"},gs={class:"mt-2"},ps=["id"],xs=["value"],fs={class:"sm:col-span-2 px-2"},bs={class:"mt-2"},ys=["id"],vs=["value"],hs={class:"sm:col-span-2 px-2"},Es={class:"mt-2"},ks=["id"],Ns={key:0,class:"text-red-500 text-xs mt-1"},ws={class:"sm:col-span-2 px-2"},$s={class:"mt-2"},Is=["id"],Ps={key:0,class:"text-red-500 text-xs mt-1"},Ds={class:"sm:col-span-3",hidden:""},Ss={class:"mt-2"},Cs=["id"],_s={class:"p-3 border-b border-gray-300"},Rs={class:"flex flex-wrap"},As={class:"sm:col-span-2 px-2"},Fs={class:"mt-2"},Us=["id"],Ms={key:0,class:"text-red-500 text-xs mt-1"},Vs={class:"sm:col-span-2 px-2"},Ts={class:"mt-2"},js=["id"],Os=["value"],Bs={key:0,class:"text-red-500 text-xs mt-1"},Ys={class:"sm:col-span-2 px-2"},Ls={class:"mt-2 flex items-center"},Xs=["id"],zs={class:"p-3 border-b border-gray-300"},Ws={class:"flex flex-wrap"},Zs={class:"sm:col-span-2 px-2"},qs={class:"mt-2"},Hs=["id"],Gs={key:0,class:"text-red-500 text-xs mt-1"},Js={class:"sm:col-span-2 px-2"},Ks={class:"mt-2"},Qs=["id"],eo={key:0,class:"text-red-500 text-xs mt-1"},to={class:"mt-6 flex items-center justify-end gap-x-6"},so=["id"],oo=["disabled"],ao={__name:"FormularioPersonal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},personal:{type:Object,default:()=>({})},escolaridad:{type:Object,default:()=>({})},empresa:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(i,{emit:D}){const d=i,L=g([]),X=g([]),_=g([]),z=g([]),ee=D,s=we({idPersonal:d.personal.idPersonal,nombre:d.personal.nombre,apellidoP:d.personal.apellidoP,apellidoM:d.personal.apellidoM,fechaNacimiento:d.personal.fechaNacimiento,edad:d.personal.edad,CURP:d.personal.CURP,RFC:d.personal.RFC,numTelefono:d.personal.numTelefono,telEmergencia:d.personal.telEmergencia,NSS:d.personal.NSS,escolaridadd:d.personal.idEscolaridad,direccion:d.personal.idDireccion,codigoPostal:d.personal.codigoPos,entidad:d.personal.idEntidad,municipio:d.personal.idMunicipio,asentamiento:d.personal.idAsentamiento,calle:d.personal.calle,numero:d.personal.numero,idDireccion:d.personal.idDireccion,numINE:d.personal.numINE,vigenciaINE:d.personal.vigenciaINE,antiguedad:d.personal.antiguedad,fechaAlta:d.personal.fechaAlta,fechaBaja:d.personal.fechaBaja,empresaa:d.personal.idEmpresa,constanciaSF:d.personal.constanciaSF,totalDiasVac:d.personal.totalDiasVac,diasVacRestantes:d.personal.diasVacRestantes});J(()=>d.personal,async o=>{s.idPersonal=o.idPersonal,s.nombre=o.nombre,s.apellidoP=o.apellidoP,s.apellidoM=o.apellidoM,s.fechaNacimiento=o.fechaNacimiento,s.edad=o.edad,s.CURP=o.CURP,s.telefono=o.telefono,s.NSS=o.NSS,s.domicilio=o.idDomicilio},{deep:!0}),J([()=>s.numeroDias,()=>s.fechaInicio],([o,e])=>{if(o&&e){const a=new Date(e),h=new Date(a);h.setDate(a.getDate()+parseInt(o,10)),s.fechaFin=h.toISOString().split("T")[0]}});const S=g(""),R=g(""),A=g(""),F=g(""),U=g(""),M=g(""),u=g(""),p=g(""),y=g(""),E=g(""),v=g(""),k=g(""),w=g(""),I=g(""),b=g(""),C=g(""),P=g(""),O=g(""),Z=g(""),B=g(""),Y=g(""),Q=async()=>{ee("close"),s.reset()},W=o=>typeof o=="string"&&o.trim()!=="",te=o=>o!=null,le=o=>new Date(o)<new Date,q=o=>o==null?!1:Number.isInteger(o)&&o>=0,re=o=>/^[A-Z]{4}\d{6}[HM]{1}[A-Z]{5}[A-Z0-9]{1}\d{1}$/.test(o),de=o=>o.trim()!=="",ce=o=>/^\d{10}$/.test(o),me=o=>{const e=/^(\d{10})?$/,a=o?o.trim():"";return a===""||e.test(a)},se=o=>/^\d{5}$/.test(o),ue=o=>!(typeof o!="string"||o.trim()===""||o.length>11||!/^\d{1,11}$/.test(o)),ge=o=>{if(o==null)return!0;const e=new Date().getFullYear(),a=parseInt(o);return!(isNaN(a)||a<e)},pe=o=>o==null?!0:typeof o=="string"&&o.trim()!==""&&o.length===13,xe=o=>!(o==null||((typeof o=="string"||o instanceof String)&&(o=new Date(o)),!(o instanceof Date))||isNaN(o.getTime())),fe=(o,e)=>typeof o!="number"||typeof e!="number"||o<0||e<0?!1:e<=o,H=async()=>{try{var o=s.entidad;const e=await K.get(route("consMunicipiosXIdEstado",o));X.value=e.data}catch(e){console.error("Error al obtener municipios:",e)}},G=async()=>{try{var o=s.municipio;const e=await K.get(route("consAsentamientosXIdMunicipio",o));_.value=await e.data}catch(e){console.error("Error al obtener asentamientos:",e)}},ae=async()=>{var e;try{var o=s.codigoPostal;if(se(o)){const h=(await K.get(route("consDatosXCodigoPostal",o))).data;if(h.length<=0){P.value="Codigo postal no existente";return}h.entidad&&(s.entidad=await h.entidad.idEntidad,await H()),h.municipio&&(s.municipio=await h.municipio.idMunicipio,await G(),s.asentamiento=(e=_.value[0])==null?void 0:e.idAsentamiento),P.value=""}else P.value="Ingrese el codigo postal completo"}catch(a){console.error("Error al obtener datos por código postal:",a)}},be=()=>{const o=new Date().getFullYear(),e=[];for(let a=o;a<=o+30;a++)e.push(a);z.value=e};$e(async()=>{var o,e,a;be();try{const h=await K.get(route("consEstados"));L.value=h.data,s.entidad=(o=L.value[19])==null?void 0:o.idEntidad,await H(),s.municipio=(e=X.value[0])==null?void 0:e.idMunicipio,await G(),s.asentamiento=(a=_.value[0])==null?void 0:a.idAsentamiento}catch(h){console.log("Error generado en onMounted: "+h)}});const ye=()=>{const o=new Date(s.fechaNacimiento),e=new Date;let a=e.getFullYear()-o.getFullYear();const h=e.getMonth()-o.getMonth();(h<0||h===0&&e.getDate()<o.getDate())&&a--,s.edad=a},ve=o=>{if(!o){s.antiguedad="";return}const e=new Date(o),a=new Date;let h=a.getFullYear()-e.getFullYear();const oe=a.getMonth()-e.getMonth();(oe<0||oe===0&&a.getDate()<e.getDate())&&h--,s.antiguedad=h};J(()=>s.fechaAlta,o=>{ve(o)}),J(()=>s.antiguedad,()=>{const o=parseInt(s.antiguedad,10);if(isNaN(o)||o<0){I.value="Por favor ingrese una antigüedad válida.",s.totalDiasVac="";return}I.value="";let e=0;o===1?e=12:o===2?e=14:o===3?e=16:o===4?e=18:o===5?e=20:o>=6&&o<=10?e=22:o>=11&&o<=15?e=24:o>=16&&o<=20?e=26:o>=21&&o<=25?e=28:o>=26&&o<=30?e=30:o>=31&&o<=35&&(e=32),s.totalDiasVac=e});const he=async()=>{console.log("Formulario antes de validar (dentro del save):",s),S.value=W(s.nombre)?"":"Ingrese el nombre(s)",R.value=W(s.apellidoP)?"":"Ingrese el apellido paterno",A.value=W(s.apellidoM)?"":"Ingrese el apellido materno",F.value=le(s.fechaNacimiento)?"":"Fecha de nacimiento no válido",U.value=q(s.edad)?"":"Edad no válido",M.value=re(s.CURP)?"":"CURP no válido",u.value=de(s.RFC)?"":"RFC no válido",p.value=ce(s.numTelefono)?"":"Número de telefono no válido",y.value=me(s.telEmergencia)?"":"Número de telefono no válido",E.value=ue(s.NSS)?"":"NSS no válido",v.value=te(s.escolaridadd)?"":"Seleccione la escolaridad",b.value=xe(s.fechaAlta)?"":"Fecha de alta no válido",C.value=te(s.empresaa)?"":"Seleccione la empresa",I.value=q(s.antiguedad)?"":"Ingrese los años de antiguedad",P.value=se(s.codigoPostal)?"":"Ingrese el codigo postal",O.value=W(s.calle)?"":"Ingrese el nombre de la calle",Z.value=q(s.numero)?"":"Número de casa no válido",k.value=pe(s.numINE)?"":"Número de INE no válido",w.value=ge(s.vigenciaINE)?"":"Vigencia de INE no válido",B.value=q(s.totalDiasVac)?"":"Número de días no válido",Y.value=fe(s.totalDiasVac,s.diasVacRestantes)?"":"Número de días no válido",!(S.value||R.value||A.value||F.value||U.value||M.value||u.value||p.value||y.value||v.value||E.value||k.value||I.value||b.value||C.value|P.value||O.value||Z.value||w.value||B.value||Y.value)&&(console.log("Formulario listo para enviar:",s),s.post(route("rh.addPersonal"),{onSuccess:()=>{console.log("Formulario enviado exitosamente."),Q(),S.value="",R.value="",A.value="",F.value="",U.value="",M.value="",u.value="",p.value="",y.value="",v.value="",E.value="",k.value="",I.value="",b.value="",C.value="",P.value="",O.value="",Z.value="",w.value="",B.value="",Y.value=""},onError:o=>{console.log("Errores de envío:",o)}}))};return(o,e)=>(l(),Ie(Re,{show:i.show,"max-width":i.maxWidth,closeable:i.closeable,onClose:Q},{default:ie(()=>[t("div",Te,[t("form",{onSubmit:Ce(he,["prevent"])},[t("div",je,[t("h1",Oe,c(i.title),1),e[68]||(e[68]=t("p",{class:"mt-1 text-sm leading-6 text-gray-600"},[N("Rellene el formulario para poder registrar a un nuevo personal. Los campos con "),t("span",{class:"text-red-500"},"*"),N(" son obligatorios. ")],-1)),t("div",Be,[e[41]||(e[41]=t("h2",{class:"text-md font-semibold mb-1"},"Información Personal",-1)),t("div",Ye,[t("div",Le,[t("div",Xe,[e[28]||(e[28]=t("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),t("div",ze,[m(t("input",{type:"number",name:"idOperador","onUpdate:modelValue":e[0]||(e[0]=a=>n(s).idOperador=a),placeholder:"Ingrese id del operador",id:"idOperador"+i.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,We),[[x,n(s).idOperador]])])])]),t("div",Ze,[e[29]||(e[29]=t("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Apellido Paterno "),t("span",{class:"text-red-500"},"*")],-1)),t("div",qe,[m(t("input",{type:"text",name:"apellidoP",id:"apellidoP"+i.op,"onUpdate:modelValue":e[1]||(e[1]=a=>n(s).apellidoP=a),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,He),[[x,n(s).apellidoP]])]),R.value!=""?(l(),r("div",Ge,c(R.value),1)):f("",!0)]),t("div",Je,[e[30]||(e[30]=t("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Apellido Materno "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Ke,[m(t("input",{type:"text",name:"apellidoM",id:"apellidoM"+i.op,"onUpdate:modelValue":e[2]||(e[2]=a=>n(s).apellidoM=a),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Qe),[[x,n(s).apellidoM]])]),A.value!=""?(l(),r("div",et,c(A.value),1)):f("",!0)]),t("div",tt,[e[31]||(e[31]=t("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Nombre(s) "),t("span",{class:"text-red-500"},"*")],-1)),t("div",st,[m(t("input",{type:"text",name:"nombre",id:"nombre"+i.op,"onUpdate:modelValue":e[3]||(e[3]=a=>n(s).nombre=a),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ot),[[x,n(s).nombre]])]),S.value!=""?(l(),r("div",at,c(S.value),1)):f("",!0)]),t("div",nt,[e[32]||(e[32]=t("label",{for:"fechaNacimiento",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Fecha de Nacimiento "),t("span",{class:"text-red-500"},"*")],-1)),t("div",it,[m(t("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento"+i.op,"onUpdate:modelValue":e[4]||(e[4]=a=>n(s).fechaNacimiento=a),onChange:ye,placeholder:"Ingrese la fecha de nacimiento",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,40,lt),[[x,n(s).fechaNacimiento]])]),F.value!=""?(l(),r("div",rt,c(F.value),1)):f("",!0)]),t("div",dt,[e[33]||(e[33]=t("label",{for:"edad",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Edad "),t("span",{class:"text-red-500"},"*")],-1)),t("div",ct,[m(t("input",{type:"number",name:"edad",id:"edad"+i.op,"onUpdate:modelValue":e[5]||(e[5]=a=>n(s).edad=a),placeholder:"Años ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,mt),[[x,n(s).edad]])]),U.value!=""?(l(),r("div",ut,c(U.value),1)):f("",!0)]),t("div",gt,[e[34]||(e[34]=t("label",{for:"CURP",class:"block text-sm font-medium leading-6 text-gray-900"},[N("CURP "),t("span",{class:"text-red-500"},"*")],-1)),t("div",pt,[m(t("input",{type:"text",name:"CURP",id:"CURP"+i.op,"onUpdate:modelValue":e[6]||(e[6]=a=>n(s).CURP=a),placeholder:"Ingrese la CURP",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,xt),[[x,n(s).CURP]])]),M.value!=""?(l(),r("div",ft,c(M.value),1)):f("",!0)]),t("div",bt,[e[35]||(e[35]=t("label",{for:"RFC",class:"block text-sm font-medium leading-6 text-gray-900"},[N("RFC "),t("span",{class:"text-red-500"},"*")],-1)),t("div",yt,[m(t("input",{type:"text",name:"RFC",id:"RFC"+i.op,"onUpdate:modelValue":e[7]||(e[7]=a=>n(s).RFC=a),placeholder:"Ingrese la RFC",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,vt),[[x,n(s).RFC]])]),u.value!=""?(l(),r("div",ht,c(u.value),1)):f("",!0)]),t("div",Et,[e[36]||(e[36]=t("label",{for:"numTelefono",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Teléfono "),t("span",{class:"text-red-500"},"*")],-1)),t("div",kt,[m(t("input",{type:"text",name:"numTelefono",id:"numTelefono"+i.op,"onUpdate:modelValue":e[8]||(e[8]=a=>n(s).numTelefono=a),placeholder:"Ingrese número de telefono",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Nt),[[x,n(s).numTelefono]])]),p.value!=""?(l(),r("div",wt,c(p.value),1)):f("",!0)]),t("div",$t,[e[37]||(e[37]=t("label",{for:"telEmergencia",class:"block text-sm font-medium leading-6 text-gray-900"},"Tel. de Emergencia ",-1)),t("div",It,[m(t("input",{type:"text",name:"telEmergencia",id:"telEmergencia"+i.op,"onUpdate:modelValue":e[9]||(e[9]=a=>n(s).telEmergencia=a),placeholder:"Ingrese número de telefono",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Pt),[[x,n(s).telEmergencia]])]),y.value!=""?(l(),r("div",Dt,c(y.value),1)):f("",!0)]),t("div",St,[e[38]||(e[38]=t("label",{for:"NSS",class:"block text-sm font-medium leading-6 text-gray-900"},[N("NSS "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Ct,[m(t("input",{type:"text",name:"NSS",id:"NSS"+i.op,"onUpdate:modelValue":e[10]||(e[10]=a=>n(s).NSS=a),placeholder:"Ingrese el NSS",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,_t),[[x,n(s).NSS]])]),E.value!=""?(l(),r("div",Rt,c(E.value),1)):f("",!0)]),t("div",At,[e[40]||(e[40]=t("label",{for:"escolaridad",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Escolaridad "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Ft,[m(t("select",{name:"escolaridad",id:"escolaridad"+i.op,"onUpdate:modelValue":e[11]||(e[11]=a=>n(s).escolaridadd=a),placeholder:"Seleccione la escolaridad",class:"block rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[39]||(e[39]=t("option",{value:"",disabled:"",selected:""},"Seleccione la escolaridad",-1)),(l(!0),r(V,null,T(i.escolaridad,a=>(l(),r("option",{key:a.idEscolaridad,value:a.idEscolaridad},c(a.escolaridad),9,Mt))),128))],8,Ut),[[j,n(s).escolaridadd]])]),v.value!=""?(l(),r("div",Vt,c(v.value),1)):f("",!0)])])]),t("div",Tt,[e[47]||(e[47]=t("h2",{class:"text-md font-semibold mb-1"},"Información Laboral",-1)),t("div",jt,[t("div",Ot,[e[42]||(e[42]=t("label",{for:"fechaAlta",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Fecha de Alta "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Bt,[m(t("input",{type:"date",name:"fechaAlta",id:"fechaAlta"+i.op,"onUpdate:modelValue":e[12]||(e[12]=a=>n(s).fechaAlta=a),placeholder:" ",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Yt),[[x,n(s).fechaAlta]])]),b.value!=""?(l(),r("div",Lt,c(b.value),1)):f("",!0)]),t("div",Xt,[e[43]||(e[43]=t("label",{for:"fechaBaja",class:"block text-sm font-medium leading-6 text-gray-900"},"Fecha de Baja",-1)),t("div",zt,[m(t("input",{type:"date",name:"fechaBaja",id:"fechaBaja"+i.op,"onUpdate:modelValue":e[13]||(e[13]=a=>n(s).fechaBaja=a),placeholder:" ",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Wt),[[x,n(s).fechaBaja]])])]),t("div",Zt,[e[45]||(e[45]=t("label",{for:"empresa",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Empresa "),t("span",{class:"text-red-500"},"*")],-1)),t("div",qt,[m(t("select",{name:"empresa",id:"empresa"+i.op,"onUpdate:modelValue":e[14]||(e[14]=a=>n(s).empresaa=a),placeholder:"Seleccione la empresa a la que pertenece",class:"block rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[44]||(e[44]=t("option",{value:"",disabled:"",selected:""},"Seleccione la empresa",-1)),(l(!0),r(V,null,T(i.empresa,a=>(l(),r("option",{key:a.idEmpresa,value:a.idEmpresa},c(a.empresa),9,Gt))),128))],8,Ht),[[j,n(s).empresaa]])]),C.value!=""?(l(),r("div",Jt,c(C.value),1)):f("",!0)]),t("div",Kt,[e[46]||(e[46]=t("label",{for:"antiguedad",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Antiguedad "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Qt,[m(t("input",{type:"number",name:"antiguedad",id:"antiguedad"+i.op,"onUpdate:modelValue":e[15]||(e[15]=a=>n(s).antiguedad=a),placeholder:"Años ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,es),[[x,n(s).antiguedad]])]),I.value!=""?(l(),r("div",ts,c(I.value),1)):f("",!0)])])]),t("div",ss,[e[58]||(e[58]=t("h2",{class:"text-md font-semibold mb-1"},"Información de Domicilio",-1)),t("div",os,[t("div",as,[e[48]||(e[48]=t("label",{for:"codigoPostal",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Código Postal "),t("span",{class:"text-red-500"},"*")],-1)),t("div",ns,[m(t("input",{type:"number",name:"codigoPostal",id:"codigoPostal"+i.op,"onUpdate:modelValue":e[16]||(e[16]=a=>n(s).codigoPostal=a),placeholder:"Ingrese el CP",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",maxlength:"5",minlength:"5",onBlur:ae},null,40,is),[[x,n(s).codigoPostal]])]),P.value!=""?(l(),r("div",ls,c(P.value),1)):f("",!0)]),t("div",rs,[e[50]||(e[50]=t("label",{for:"entidad",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Estado "),t("span",{class:"text-red-500"},"*")],-1)),t("div",ds,[m(t("select",{name:"entidad",id:"entidad"+i.op,"onUpdate:modelValue":e[17]||(e[17]=a=>n(s).entidad=a),onChange:H,class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[49]||(e[49]=t("option",{value:"",disabled:"",selected:""},"Seleccione el estado",-1)),(l(!0),r(V,null,T(L.value,a=>(l(),r("option",{key:a.idEntidad,value:a.idEntidad},c(a.entidad),9,ms))),128))],40,cs),[[j,n(s).entidad]])])]),t("div",us,[e[52]||(e[52]=t("label",{for:"municipio",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Municipio "),t("span",{class:"text-red-500"},"*")],-1)),t("div",gs,[m(t("select",{name:"municipio",id:"municipio"+i.op,"onUpdate:modelValue":e[18]||(e[18]=a=>n(s).municipio=a),onChange:G,class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[51]||(e[51]=t("option",{value:"",disabled:"",selected:""},"Seleccione el municipio",-1)),(l(!0),r(V,null,T(X.value,a=>(l(),r("option",{key:a.idMunicipio,value:a.idMunicipio},c(a.municipio),9,xs))),128))],40,ps),[[j,n(s).municipio]])])]),t("div",fs,[e[54]||(e[54]=t("label",{for:"asentamiento",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Asentamiento / Localidad "),t("span",{class:"text-red-500"},"*")],-1)),t("div",bs,[m(t("select",{name:"asentamiento",id:"asentamiento"+i.op,"onUpdate:modelValue":e[19]||(e[19]=a=>n(s).asentamiento=a),class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[53]||(e[53]=t("option",{value:"",disabled:"",selected:""},"Seleccione el asentamiento",-1)),(l(!0),r(V,null,T(_.value,a=>(l(),r("option",{key:a.idAsentamiento,value:a.idAsentamiento},c(a.asentamiento),9,vs))),128))],8,ys),[[j,n(s).asentamiento]])])]),t("div",hs,[e[55]||(e[55]=t("label",{for:"calle",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Calle "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Es,[m(t("input",{type:"text",name:"calle",id:"calle"+i.op,"onUpdate:modelValue":e[20]||(e[20]=a=>n(s).calle=a),placeholder:"Ingrese el nombre de la calle",class:"block w-72 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ks),[[x,n(s).calle]])]),O.value!=""?(l(),r("div",Ns,c(O.value),1)):f("",!0)]),t("div",ws,[e[56]||(e[56]=t("label",{for:"numero",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Número de Casa "),t("span",{class:"text-red-500"},"*")],-1)),t("div",$s,[m(t("input",{type:"number",name:"numero",id:"numero"+i.op,"onUpdate:modelValue":e[21]||(e[21]=a=>n(s).numero=a),placeholder:" Núm. casa",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Is),[[x,n(s).numero]])]),Z.value!=""?(l(),r("div",Ps,c(Z.value),1)):f("",!0)]),t("div",Ds,[e[57]||(e[57]=t("label",{for:"idDireccion",class:"block text-sm font-medium leading-6 text-gray-900"},"idDomicilio",-1)),t("div",Ss,[m(t("input",{type:"text",name:"idDireccion",id:"idDireccion"+i.op,"onUpdate:modelValue":e[22]||(e[22]=a=>n(s).idDireccion=a),placeholder:"Ingrese la Direccion",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Cs),[[x,n(s).idDireccion]])])])])]),t("div",_s,[e[64]||(e[64]=t("h2",{class:"text-md font-semibold mb-1"},"Información de Documentación",-1)),t("div",Rs,[t("div",As,[e[59]||(e[59]=t("label",{for:"numINE",class:"block text-sm font-medium leading-6 text-gray-900"},"Número de INE",-1)),t("div",Fs,[m(t("input",{type:"text",name:"numINE",id:"numINE"+i.op,"onUpdate:modelValue":e[23]||(e[23]=a=>n(s).numINE=a),placeholder:"Ingrese el número del INE",class:"block w-72 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Us),[[x,n(s).numINE]])]),k.value!=""?(l(),r("div",Ms,c(k.value),1)):f("",!0)]),t("div",Vs,[e[61]||(e[61]=t("label",{for:"vigenciaINE",class:"block text-sm font-medium leading-6 text-gray-900"},"Vigencia del INE ",-1)),t("div",Ts,[m(t("select",{name:"vigenciaINE",id:"vigenciaINE"+i.op,"onUpdate:modelValue":e[24]||(e[24]=a=>n(s).vigenciaINE=a),class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[60]||(e[60]=t("option",{value:""},"Seleccione el año",-1)),(l(!0),r(V,null,T(z.value,a=>(l(),r("option",{key:a,value:a},c(a),9,Os))),128))],8,js),[[j,n(s).vigenciaINE]])]),w.value!=""?(l(),r("div",Bs,c(w.value),1)):f("",!0)]),t("div",Ys,[e[63]||(e[63]=t("label",{for:"constanciaSF",class:"block text-sm font-medium leading-6 text-gray-900"},"Constancia de Situación Fiscal",-1)),t("div",Ls,[m(t("input",{type:"checkbox",name:"constanciaSF",id:"constanciaSF"+i.op,"onUpdate:modelValue":e[25]||(e[25]=a=>n(s).constanciaSF=a),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,Xs),[[_e,n(s).constanciaSF]]),e[62]||(e[62]=t("span",{class:"ml-2 text-sm text-gray-600"},"Cuenta con la Constancia de Situación Fiscal",-1))])])])]),t("div",zs,[e[67]||(e[67]=t("h2",{class:"text-md font-semibold mb-1"},"Información Vacacional",-1)),t("div",Ws,[t("div",Zs,[e[65]||(e[65]=t("label",{for:"totalDiasVac",class:"block text-sm font-medium leading-6 text-gray-900"},[N("Total de Días "),t("span",{class:"text-red-500"},"*")],-1)),t("div",qs,[m(t("input",{type:"number",name:"totalDiasVac",id:"totalDiasVac"+i.op,"onUpdate:modelValue":e[26]||(e[26]=a=>n(s).totalDiasVac=a),placeholder:"Días ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Hs),[[x,n(s).totalDiasVac]])]),B.value!=""?(l(),r("div",Gs,c(B.value),1)):f("",!0)]),t("div",Js,[e[66]||(e[66]=t("label",{for:"diasVacRestantes",class:"block text-sm font-medium leading-6 text-gray-900"},"Días Restantes",-1)),t("div",Ks,[m(t("input",{type:"number",name:"diasVacRestantes",id:"diasVacRestantes"+i.op,"onUpdate:modelValue":e[27]||(e[27]=a=>n(s).diasVacRestantes=a),placeholder:"Días ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Qs),[[x,n(s).diasVacRestantes]])]),Y.value!=""?(l(),r("div",eo,c(Y.value),1)):f("",!0)])])])]),t("div",to,[t("button",{type:"button",id:"cerrar"+i.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-2 rounded","data-bs.dismiss":"modal",onClick:Q},e[69]||(e[69]=[t("i",{class:"fa-solid fa-ban"},null,-1),N(" Cancelar")]),8,so),t("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-2 rounded",disabled:n(s).processing},e[70]||(e[70]=[t("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),N("Guardar")]),8,oo)])],32)])]),_:1},8,["show","max-width","closeable"]))}},no={class:"mt-2 bg-white p-4 shadow rounded-lg"},io={class:"pb-0"},lo={class:"text-2xl font-semibold leading-7 text-gray-900"},ro={class:"p-3 border-b border-gray-300"},co={class:"flex flex-wrap"},mo={class:"md:col-span-2"},uo={class:"sm:col-span-2",hidden:""},go={class:"mt-1"},po=["id"],xo={class:"md:col-span-2 px-2"},fo={class:"mt-2"},bo=["id"],yo={key:0,class:"text-red-500 text-xs mt-1"},vo={class:"sm:col-span-2 px-2"},ho={class:"mt-2"},Eo=["id"],ko={key:0,class:"text-red-500 text-xs mt-1"},No={class:"sm:col-span-2 px-2"},wo={class:"mt-2"},$o=["id"],Io={key:0,class:"text-red-500 text-xs mt-1"},Po={class:"sm:col-span-2 px-2"},Do={class:"mt-2"},So=["id"],Co={key:0,class:"text-red-500 text-xs mt-1"},_o={class:"sm:col-span-2 px-2"},Ro={class:"mt-2"},Ao=["id"],Fo={key:0,class:"text-red-500 text-xs mt-1"},Uo={class:"sm:col-span-2 px-2"},Mo={class:"mt-2"},Vo=["id"],To={key:0,class:"text-red-500 text-xs mt-1"},jo={class:"sm:col-span-2 px-2"},Oo={class:"mt-2"},Bo=["id"],Yo={key:0,class:"text-red-500 text-xs mt-1"},Lo={class:"sm:col-span-2 px-2"},Xo={class:"mt-2"},zo=["id"],Wo={key:0,class:"text-red-500 text-xs mt-1"},Zo={class:"sm:col-span-2 px-2"},qo={class:"mt-2"},Ho=["id"],Go={key:0,class:"text-red-500 text-xs mt-1"},Jo={class:"sm:col-span-2 px-2"},Ko={class:"mt-2"},Qo=["id"],ea={key:0,class:"text-red-500 text-xs mt-1"},ta={class:"sm:col-span-2 px-2"},sa={class:"mt-2"},oa=["id"],aa=["value"],na={key:0,class:"text-red-500 text-xs mt-1"},ia={class:"p-3 border-b border-gray-300"},la={class:"flex flex-wrap"},ra={class:"sm:col-span-2 px-2"},da={class:"mt-2"},ca=["id"],ma={key:0,class:"text-red-500 text-xs mt-1"},ua={class:"sm:col-span-2 px-2"},ga={class:"mt-2"},pa=["id"],xa={class:"sm:col-span-2 px-2"},fa={class:"mt-2"},ba=["id"],ya=["value"],va={key:0,class:"text-red-500 text-xs mt-1"},ha={class:"sm:col-span-2 px-2"},Ea={class:"mt-2"},ka=["id"],Na={key:0,class:"text-red-500 text-xs mt-1"},wa={class:"p-3 border-b border-gray-300"},$a={class:"flex flex-wrap"},Ia={class:"sm:col-span-2 px-2"},Pa={class:"mt-2"},Da=["id"],Sa={key:0,class:"text-red-500 text-xs mt-1"},Ca={class:"sm:col-span-2 px-2"},_a={class:"mt-2"},Ra=["id"],Aa=["value"],Fa={class:"sm:col-span-2 px-2"},Ua={class:"mt-2"},Ma=["id"],Va=["value"],Ta={class:"sm:col-span-2 px-2"},ja={class:"mt-2"},Oa=["id"],Ba=["value"],Ya={class:"sm:col-span-2 px-2"},La={class:"mt-2"},Xa=["id"],za={key:0,class:"text-red-500 text-xs mt-1"},Wa={class:"sm:col-span-2 px-2"},Za={class:"mt-2"},qa=["id"],Ha={key:0,class:"text-red-500 text-xs mt-1"},Ga={class:"sm:col-span-3",hidden:""},Ja={class:"mt-2"},Ka=["id"],Qa={class:"p-3 border-b border-gray-300"},en={class:"flex flex-wrap"},tn={class:"sm:col-span-2 px-2"},sn={class:"mt-2"},on=["id"],an={key:0,class:"text-red-500 text-xs mt-1"},nn={class:"sm:col-span-2 px-2"},ln={class:"mt-2"},rn=["id"],dn=["value"],cn={key:0,class:"text-red-500 text-xs mt-1"},mn={class:"sm:col-span-2 px-2"},un={class:"mt-2 flex items-center"},gn=["id"],pn={class:"p-3 border-b border-gray-300"},xn={class:"flex flex-wrap"},fn={class:"sm:col-span-2 px-2"},bn={class:"mt-2"},yn=["id"],vn={key:0,class:"text-red-500 text-xs mt-1"},hn={class:"sm:col-span-2 px-2"},En={class:"mt-2"},kn=["id"],Nn={key:0,class:"text-red-500 text-xs mt-1"},wn={class:"mt-6 flex items-center justify-end gap-x-6"},$n=["id"],In=["disabled"],Pn={__name:"FormularioActualizarPersonal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},personal:{type:Object,default:()=>({})},escolaridad:{type:Object,default:()=>({})},empresa:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(i,{emit:D}){const d=i,L=g([]),X=g([]),_=g([]),z=g([]),ee=D,s=we({_method:"PUT",idPersonal:d.personal.idPersonal,nombre:d.personal.nombre,apellidoP:d.personal.apellidoP,apellidoM:d.personal.apellidoM,fechaNacimiento:d.personal.fechaNacimiento,edad:d.personal.edad,CURP:d.personal.CURP,RFC:d.personal.RFC,numTelefono:d.personal.numTelefono,telEmergencia:d.personal.telEmergencia,NSS:d.personal.NSS,escolaridadd:d.personal.idEscolaridad,direccion:d.personal.idDireccion,codigoPostal:d.personal.codigoPos,entidad:d.personal.idEntidad,municipio:d.personal.idMunicipio,asentamiento:d.personal.idAsentamiento,calle:d.personal.calle,numero:d.personal.numero,idDireccion:d.personal.idDireccion,numINE:d.personal.numINE,vigenciaINE:d.personal.vigenciaINE,antiguedad:d.personal.antiguedad,fechaAlta:d.personal.fechaAlta,fechaBaja:d.personal.fechaBaja,empresaa:d.personal.idEmpresa,constanciaSF:d.personal.constanciaSF,totalDiasVac:d.personal.totalDiasVac,diasVacRestantes:d.personal.diasVacRestantes});J(()=>d.personal,async o=>{s.idPersonal=o.idPersonal,s.nombre=o.nombre,s.apellidoP=o.apellidoP,s.apellidoM=o.apellidoM,s.fechaNacimiento=o.fechaNacimiento,s.edad=o.edad,s.CURP=o.CURP,s.RFC=o.RFC,s.numTelefono=o.numTelefono,s.telEmergencia=o.telEmergencia,s.NSS=o.NSS,s.escolaridadd=o.idEscolaridad,s.calle=o.calle,s.numero=o.numero,s.codigoPostal=await o.codigoPostal,await ae(),s.entidad=await o.idEntidad,await H(),s.municipio=await o.idMunicipio,await G(),s.asentamiento=await o.idAsentamiento,s.numINE=o.numINE,s.vigenciaINE=o.vigenciaINE,s.antiguedad=o.antiguedad,s.fechaAlta=o.fechaAlta,s.fechaBaja=o.fechaBaja,s.empresaa=o.idEmpresa,s.constanciaSF=o.constanciaSF===1,s.totalDiasVac=o.totalDiasVac,s.diasVacRestantes=o.diasVacRestantes,s.idDireccion=o.idDireccion},{deep:!0}),J([()=>s.numeroDias,()=>s.fechaInicio],([o,e])=>{if(o&&e){const a=new Date(e),h=new Date(a);h.setDate(a.getDate()+parseInt(o,10)),s.fechaFin=h.toISOString().split("T")[0]}});const S=g(""),R=g(""),A=g(""),F=g(""),U=g(""),M=g(""),u=g(""),p=g(""),y=g(""),E=g(""),v=g(""),k=g(""),w=g(""),I=g(""),b=g(""),C=g(""),P=g(""),O=g(""),Z=g(""),B=g(""),Y=g(""),Q=async()=>{ee("close"),s.reset()},W=o=>typeof o=="string"&&o.trim()!=="",te=o=>o!=null,le=o=>new Date(o)<new Date,q=o=>o==null?!1:Number.isInteger(o)&&o>=0,re=o=>/^[A-Z]{4}\d{6}[HM]{1}[A-Z]{5}[A-Z0-9]{1}\d{1}$/.test(o),de=o=>o.trim()!=="",ce=o=>/^\d{10}$/.test(o),me=o=>{const e=/^(\d{10})?$/,a=o?o.trim():"";return a===""||e.test(a)},se=o=>/^\d{5}$/.test(o),ue=o=>!(typeof o!="string"||o.trim()===""||o.length>11||!/^\d{1,11}$/.test(o)),ge=o=>{if(o==null)return!0;const e=new Date().getFullYear(),a=parseInt(o);return!(isNaN(a)||a<e)},pe=o=>o==null?!0:typeof o=="string"&&o.trim()!==""&&o.length===13,xe=o=>!(o==null||((typeof o=="string"||o instanceof String)&&(o=new Date(o)),!(o instanceof Date))||isNaN(o.getTime())),fe=(o,e)=>typeof o!="number"||typeof e!="number"||o<0||e<0?!1:e<=o,H=async()=>{try{var o=s.entidad;const e=await K.get(route("consMunicipiosXIdEstado",o));X.value=e.data}catch(e){console.error("Error al obtener municipios:",e)}},G=async()=>{try{var o=s.municipio;const e=await K.get(route("consAsentamientosXIdMunicipio",o));_.value=await e.data}catch(e){console.error("Error al obtener asentamientos:",e)}},ae=async()=>{var e;try{var o=s.codigoPostal;if(se(o)){const h=(await K.get(route("consDatosXCodigoPostal",o))).data;if(h.length<=0){P.value="Codigo postal no existente";return}h.entidad&&(s.entidad=await h.entidad.idEntidad,await H()),h.municipio&&(s.municipio=await h.municipio.idMunicipio,await G(),s.asentamiento=(e=_.value[0])==null?void 0:e.idAsentamiento),P.value=""}else P.value="Ingrese el codigo postal completo"}catch(a){console.error("Error al obtener datos por código postal:",a)}},be=()=>{const o=new Date().getFullYear(),e=[];for(let a=o;a<=o+30;a++)e.push(a);z.value=e};$e(async()=>{var o,e,a;be();try{const h=await K.get(route("consEstados"));L.value=h.data,s.entidad=(o=L.value[19])==null?void 0:o.idEntidad,await H(),s.municipio=(e=X.value[0])==null?void 0:e.idMunicipio,await G(),s.asentamiento=(a=_.value[0])==null?void 0:a.idAsentamiento}catch(h){console.log("Error generado en onMounted: "+h)}});const ye=()=>{const o=new Date(s.fechaNacimiento),e=new Date;let a=e.getFullYear()-o.getFullYear();const h=e.getMonth()-o.getMonth();(h<0||h===0&&e.getDate()<o.getDate())&&a--,s.edad=a},ve=o=>{if(!o){s.antiguedad="";return}const e=new Date(o),a=new Date;let h=a.getFullYear()-e.getFullYear();const oe=a.getMonth()-e.getMonth();(oe<0||oe===0&&a.getDate()<e.getDate())&&h--,s.antiguedad=h};J(()=>s.fechaAlta,o=>{ve(o)}),J(()=>s.antiguedad,()=>{const o=parseInt(s.antiguedad,10);if(isNaN(o)||o<0){I.value="Por favor ingrese una antigüedad válida.",s.totalDiasVac="";return}I.value="";let e=0;o===1?e=12:o===2?e=14:o===3?e=16:o===4?e=18:o===5?e=20:o>=6&&o<=10?e=22:o>=11&&o<=15?e=24:o>=16&&o<=20?e=26:o>=21&&o<=25?e=28:o>=26&&o<=30?e=30:o>=31&&o<=35&&(e=32),s.totalDiasVac=e});const he=async()=>{S.value=W(s.nombre)?"":"Ingrese el nombre(s)",R.value=W(s.apellidoP)?"":"Ingrese el apellido paterno",A.value=W(s.apellidoM)?"":"Ingrese el apellido materno",F.value=le(s.fechaNacimiento)?"":"Fecha de nacimiento no válido",U.value=q(s.edad)?"":"Edad no válido",M.value=re(s.CURP)?"":"CURP no válido",u.value=de(s.RFC)?"":"RFC no válido",p.value=ce(s.numTelefono)?"":"Número de telefono no válido",y.value=me(s.telEmergencia)?"":"Número de telefono no válido",E.value=ue(s.NSS)?"":"NSS no válido",v.value=te(s.escolaridadd)?"":"Seleccione la escolaridad",b.value=xe(s.fechaAlta)?"":"Fecha de alta no válido",C.value=te(s.empresaa)?"":"Seleccione la empresa",I.value=q(s.antiguedad)?"":"Ingrese los años de antiguedad",P.value=se(s.codigoPostal)?"":"Ingrese el codigo postal",O.value=W(s.calle)?"":"Ingrese el nombre de la calle",k.value=pe(s.numINE)?"":"Número de INE no válido",w.value=ge(s.vigenciaINE)?"":"Vigencia de INE no válido",B.value=q(s.totalDiasVac)?"":"Número de días no válido",Y.value=fe(s.totalDiasVac,s.diasVacRestantes)?"":"Número de días no válido",!(S.value||R.value||A.value||F.value||U.value||M.value||u.value||p.value||y.value||v.value||E.value||k.value||I.value||b.value||C.value|P.value||O.value||w.value||B.value||Y.value)&&s.post(route("rh.actualizarPersonal",s.idPersonal),{onSuccess:()=>{Q(),S.value="",R.value="",A.value="",F.value="",U.value="",M.value="",u.value="",p.value="",y.value="",v.value="",E.value="",k.value="",I.value="",b.value="",C.value="",P.value="",O.value="",w.value="",B.value="",Y.value=""},onError:o=>{console.log("Errores de envío:",o)}})};return(o,e)=>(l(),Ie(Re,{show:i.show,"max-width":i.maxWidth,closeable:i.closeable,onClose:Q},{default:ie(()=>[t("div",no,[t("form",{onSubmit:Ce(he,["prevent"])},[t("div",io,[t("h1",lo,c(i.title),1),e[68]||(e[68]=t("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"Modifique el dato que desea y presione Guardar para aplicar los cambios. ",-1)),t("div",ro,[e[41]||(e[41]=t("h2",{class:"text-md font-semibold mb-1"},"Información Personal",-1)),t("div",co,[t("div",mo,[t("div",uo,[e[28]||(e[28]=t("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idOperador",-1)),t("div",go,[m(t("input",{type:"number",name:"idOperador","onUpdate:modelValue":e[0]||(e[0]=a=>n(s).idOperador=a),placeholder:"Ingrese id del operador",id:"idOperador"+i.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,po),[[x,n(s).idOperador]])])])]),t("div",xo,[e[29]||(e[29]=t("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},"Apellido Paterno",-1)),t("div",fo,[m(t("input",{type:"text",name:"apellidoP",id:"apellidoP"+i.op,"onUpdate:modelValue":e[1]||(e[1]=a=>n(s).apellidoP=a),placeholder:"Ingrese el apellido paterno",class:"block w-56 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,bo),[[x,n(s).apellidoP]])]),R.value!=""?(l(),r("div",yo,c(R.value),1)):f("",!0)]),t("div",vo,[e[30]||(e[30]=t("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},"Apellido Materno",-1)),t("div",ho,[m(t("input",{type:"text",name:"apellidoM",id:"apellidoM"+i.op,"onUpdate:modelValue":e[2]||(e[2]=a=>n(s).apellidoM=a),placeholder:"Ingrese el apellido materno",class:"block w-56 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Eo),[[x,n(s).apellidoM]])]),A.value!=""?(l(),r("div",ko,c(A.value),1)):f("",!0)]),t("div",No,[e[31]||(e[31]=t("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},"Nombre(s)",-1)),t("div",wo,[m(t("input",{type:"text",name:"nombre",id:"nombre"+i.op,"onUpdate:modelValue":e[3]||(e[3]=a=>n(s).nombre=a),placeholder:"Ingrese el nombre",class:"block w-64 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,$o),[[x,n(s).nombre]])]),S.value!=""?(l(),r("div",Io,c(S.value),1)):f("",!0)]),t("div",Po,[e[32]||(e[32]=t("label",{for:"fechaNacimiento",class:"block text-sm font-medium leading-6 text-gray-900"},"Fecha de Nacimiento",-1)),t("div",Do,[m(t("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento"+i.op,"onUpdate:modelValue":e[4]||(e[4]=a=>n(s).fechaNacimiento=a),onChange:ye,placeholder:"Ingrese la fecha de nacimiento",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,40,So),[[x,n(s).fechaNacimiento]])]),F.value!=""?(l(),r("div",Co,c(F.value),1)):f("",!0)]),t("div",_o,[e[33]||(e[33]=t("label",{for:"edad",class:"block text-sm font-medium leading-6 text-gray-900"},"Edad",-1)),t("div",Ro,[m(t("input",{type:"number",name:"edad",id:"edad"+i.op,"onUpdate:modelValue":e[5]||(e[5]=a=>n(s).edad=a),placeholder:"Años ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ao),[[x,n(s).edad]])]),U.value!=""?(l(),r("div",Fo,c(U.value),1)):f("",!0)]),t("div",Uo,[e[34]||(e[34]=t("label",{for:"CURP",class:"block text-sm font-medium leading-6 text-gray-900"},"CURP",-1)),t("div",Mo,[m(t("input",{type:"text",name:"CURP",id:"CURP"+i.op,"onUpdate:modelValue":e[6]||(e[6]=a=>n(s).CURP=a),placeholder:"Ingrese la CURP",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Vo),[[x,n(s).CURP]])]),M.value!=""?(l(),r("div",To,c(M.value),1)):f("",!0)]),t("div",jo,[e[35]||(e[35]=t("label",{for:"RFC",class:"block text-sm font-medium leading-6 text-gray-900"},"RFC",-1)),t("div",Oo,[m(t("input",{type:"text",name:"RFC",id:"RFC"+i.op,"onUpdate:modelValue":e[7]||(e[7]=a=>n(s).RFC=a),placeholder:"Ingrese la RFC",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Bo),[[x,n(s).RFC]])]),u.value!=""?(l(),r("div",Yo,c(u.value),1)):f("",!0)]),t("div",Lo,[e[36]||(e[36]=t("label",{for:"numTelefono",class:"block text-sm font-medium leading-6 text-gray-900"},"Teléfono",-1)),t("div",Xo,[m(t("input",{type:"text",name:"numTelefono",id:"numTelefono"+i.op,"onUpdate:modelValue":e[8]||(e[8]=a=>n(s).numTelefono=a),placeholder:"Ingrese número de telefono",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,zo),[[x,n(s).numTelefono]])]),p.value!=""?(l(),r("div",Wo,c(p.value),1)):f("",!0)]),t("div",Zo,[e[37]||(e[37]=t("label",{for:"telEmergencia",class:"block text-sm font-medium leading-6 text-gray-900"},"Tel. de Emergencia ",-1)),t("div",qo,[m(t("input",{type:"text",name:"telEmergencia",id:"telEmergencia"+i.op,"onUpdate:modelValue":e[9]||(e[9]=a=>n(s).telEmergencia=a),placeholder:"Ingrese número de telefono",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ho),[[x,n(s).telEmergencia]])]),y.value!=""?(l(),r("div",Go,c(y.value),1)):f("",!0)]),t("div",Jo,[e[38]||(e[38]=t("label",{for:"NSS",class:"block text-sm font-medium leading-6 text-gray-900"},"NSS",-1)),t("div",Ko,[m(t("input",{type:"text",name:"NSS",id:"NSS"+i.op,"onUpdate:modelValue":e[10]||(e[10]=a=>n(s).NSS=a),placeholder:"Ingrese el NSS",class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Qo),[[x,n(s).NSS]])]),E.value!=""?(l(),r("div",ea,c(E.value),1)):f("",!0)]),t("div",ta,[e[40]||(e[40]=t("label",{for:"escolaridad",class:"block text-sm font-medium leading-6 text-gray-900"},"Escolaridad",-1)),t("div",sa,[m(t("select",{name:"escolaridad",id:"escolaridad"+i.op,"onUpdate:modelValue":e[11]||(e[11]=a=>n(s).escolaridadd=a),placeholder:"Seleccione la escolaridad",class:"block rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[39]||(e[39]=t("option",{value:"",disabled:"",selected:""},"Seleccione la escolaridad",-1)),(l(!0),r(V,null,T(i.escolaridad,a=>(l(),r("option",{key:a.idEscolaridad,value:a.idEscolaridad},c(a.escolaridad),9,aa))),128))],8,oa),[[j,n(s).escolaridadd]])]),v.value!=""?(l(),r("div",na,c(v.value),1)):f("",!0)])])]),t("div",ia,[e[47]||(e[47]=t("h2",{class:"text-md font-semibold mb-1"},"Información Laboral",-1)),t("div",la,[t("div",ra,[e[42]||(e[42]=t("label",{for:"fechaAlta",class:"block text-sm font-medium leading-6 text-gray-900"},"Fecha de Alta",-1)),t("div",da,[m(t("input",{type:"date",name:"fechaAlta",id:"fechaAlta"+i.op,"onUpdate:modelValue":e[12]||(e[12]=a=>n(s).fechaAlta=a),placeholder:" ",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ca),[[x,n(s).fechaAlta]])]),b.value!=""?(l(),r("div",ma,c(b.value),1)):f("",!0)]),t("div",ua,[e[43]||(e[43]=t("label",{for:"fechaBaja",class:"block text-sm font-medium leading-6 text-gray-900"},"Fecha de Baja",-1)),t("div",ga,[m(t("input",{type:"date",name:"fechaBaja",id:"fechaBaja"+i.op,"onUpdate:modelValue":e[13]||(e[13]=a=>n(s).fechaBaja=a),placeholder:" ",class:"block w-38 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,pa),[[x,n(s).fechaBaja]])])]),t("div",xa,[e[45]||(e[45]=t("label",{for:"empresa",class:"block text-sm font-medium leading-6 text-gray-900"},"Empresa",-1)),t("div",fa,[m(t("select",{name:"empresa",id:"empresa"+i.op,"onUpdate:modelValue":e[14]||(e[14]=a=>n(s).empresaa=a),placeholder:"Seleccione la empresa a la que pertenece",class:"block rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[44]||(e[44]=t("option",{value:"",disabled:"",selected:""},"Seleccione la empresa",-1)),(l(!0),r(V,null,T(i.empresa,a=>(l(),r("option",{key:a.idEmpresa,value:a.idEmpresa},c(a.empresa),9,ya))),128))],8,ba),[[j,n(s).empresaa]])]),C.value!=""?(l(),r("div",va,c(C.value),1)):f("",!0)]),t("div",ha,[e[46]||(e[46]=t("label",{for:"antiguedad",class:"block text-sm font-medium leading-6 text-gray-900"},"Antiguedad",-1)),t("div",Ea,[m(t("input",{type:"number",name:"antiguedad",id:"antiguedad"+i.op,"onUpdate:modelValue":e[15]||(e[15]=a=>n(s).antiguedad=a),placeholder:"Años ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ka),[[x,n(s).antiguedad]])]),I.value!=""?(l(),r("div",Na,c(I.value),1)):f("",!0)])])]),t("div",wa,[e[58]||(e[58]=t("h2",{class:"text-md font-semibold mb-1"},"Información de Domicilio",-1)),t("div",$a,[t("div",Ia,[e[48]||(e[48]=t("label",{for:"codigoPostal",class:"block text-sm font-medium leading-6 text-gray-900"},"Código Postal",-1)),t("div",Pa,[m(t("input",{type:"number",name:"codigoPostal",id:"codigoPostal"+i.op,"onUpdate:modelValue":e[16]||(e[16]=a=>n(s).codigoPostal=a),placeholder:"Ingrese el CP",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",maxlength:"5",minlength:"5",onBlur:ae},null,40,Da),[[x,n(s).codigoPostal]])]),P.value!=""?(l(),r("div",Sa,c(P.value),1)):f("",!0)]),t("div",Ca,[e[50]||(e[50]=t("label",{for:"entidad",class:"block text-sm font-medium leading-6 text-gray-900"},"Estado",-1)),t("div",_a,[m(t("select",{name:"entidad",id:"entidad"+i.op,"onUpdate:modelValue":e[17]||(e[17]=a=>n(s).entidad=a),onChange:H,class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[49]||(e[49]=t("option",{value:"",disabled:"",selected:""},"Seleccione el estado",-1)),(l(!0),r(V,null,T(L.value,a=>(l(),r("option",{key:a.idEntidad,value:a.idEntidad},c(a.entidad),9,Aa))),128))],40,Ra),[[j,n(s).entidad]])])]),t("div",Fa,[e[52]||(e[52]=t("label",{for:"municipio",class:"block text-sm font-medium leading-6 text-gray-900"},"Municipio",-1)),t("div",Ua,[m(t("select",{name:"municipio",id:"municipio"+i.op,"onUpdate:modelValue":e[18]||(e[18]=a=>n(s).municipio=a),onChange:G,class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[51]||(e[51]=t("option",{value:"",disabled:"",selected:""},"Seleccione el municipio",-1)),(l(!0),r(V,null,T(X.value,a=>(l(),r("option",{key:a.idMunicipio,value:a.idMunicipio},c(a.municipio),9,Va))),128))],40,Ma),[[j,n(s).municipio]])])]),t("div",Ta,[e[54]||(e[54]=t("label",{for:"asentamiento",class:"block text-sm font-medium leading-6 text-gray-900"},"Asentamiento / Localidad",-1)),t("div",ja,[m(t("select",{name:"asentamiento",id:"asentamiento"+i.op,"onUpdate:modelValue":e[19]||(e[19]=a=>n(s).asentamiento=a),class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[53]||(e[53]=t("option",{value:"",disabled:"",selected:""},"Seleccione el asentamiento",-1)),(l(!0),r(V,null,T(_.value,a=>(l(),r("option",{key:a.idAsentamiento,value:a.idAsentamiento},c(a.asentamiento),9,Ba))),128))],8,Oa),[[j,n(s).asentamiento]])])]),t("div",Ya,[e[55]||(e[55]=t("label",{for:"calle",class:"block text-sm font-medium leading-6 text-gray-900"},"Calle",-1)),t("div",La,[m(t("input",{type:"text",name:"calle",id:"calle"+i.op,"onUpdate:modelValue":e[20]||(e[20]=a=>n(s).calle=a),placeholder:"Ingrese el nombre de la calle",class:"block w-72 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Xa),[[x,n(s).calle]])]),O.value!=""?(l(),r("div",za,c(O.value),1)):f("",!0)]),t("div",Wa,[e[56]||(e[56]=t("label",{for:"numero",class:"block text-sm font-medium leading-6 text-gray-900"},"Número de Casa",-1)),t("div",Za,[m(t("input",{type:"number",name:"numero",id:"numero"+i.op,"onUpdate:modelValue":e[21]||(e[21]=a=>n(s).numero=a),placeholder:" Núm. casa",class:"block w-28 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,qa),[[x,n(s).numero]])]),Z.value!=""?(l(),r("div",Ha,c(Z.value),1)):f("",!0)]),t("div",Ga,[e[57]||(e[57]=t("label",{for:"idDireccion",class:"block text-sm font-medium leading-6 text-gray-900"},"idDomicilio",-1)),t("div",Ja,[m(t("input",{type:"text",name:"idDireccion",id:"idDireccion"+i.op,"onUpdate:modelValue":e[22]||(e[22]=a=>n(s).idDireccion=a),placeholder:"Ingrese la Direccion",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ka),[[x,n(s).idDireccion]])])])])]),t("div",Qa,[e[64]||(e[64]=t("h2",{class:"text-md font-semibold mb-1"},"Información de Documentación",-1)),t("div",en,[t("div",tn,[e[59]||(e[59]=t("label",{for:"numINE",class:"block text-sm font-medium leading-6 text-gray-900"},"Número de INE",-1)),t("div",sn,[m(t("input",{type:"text",name:"numINE",id:"numINE"+i.op,"onUpdate:modelValue":e[23]||(e[23]=a=>n(s).numINE=a),placeholder:"Ingrese el número del INE",class:"block w-72 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,on),[[x,n(s).numINE]])]),k.value!=""?(l(),r("div",an,c(k.value),1)):f("",!0)]),t("div",nn,[e[61]||(e[61]=t("label",{for:"vigenciaINE",class:"block text-sm font-medium leading-6 text-gray-900"},"Vigencia del INE ",-1)),t("div",ln,[m(t("select",{name:"vigenciaINE",id:"vigenciaINE"+i.op,"onUpdate:modelValue":e[24]||(e[24]=a=>n(s).vigenciaINE=a),class:"block w-44 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[e[60]||(e[60]=t("option",{value:""},"Seleccione el año",-1)),(l(!0),r(V,null,T(z.value,a=>(l(),r("option",{key:a,value:a},c(a),9,dn))),128))],8,rn),[[j,n(s).vigenciaINE]])]),w.value!=""?(l(),r("div",cn,c(w.value),1)):f("",!0)]),t("div",mn,[e[63]||(e[63]=t("label",{for:"constanciaSF",class:"block text-sm font-medium leading-6 text-gray-900"},"Constancia de Situación Fiscal",-1)),t("div",un,[m(t("input",{type:"checkbox",name:"constanciaSF",id:"constanciaSF"+i.op,"onUpdate:modelValue":e[25]||(e[25]=a=>n(s).constanciaSF=a),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,gn),[[_e,n(s).constanciaSF]]),e[62]||(e[62]=t("span",{class:"ml-2 text-sm text-gray-600"},"Cuenta con la Constancia de Situación Fiscal",-1))])])])]),t("div",pn,[e[67]||(e[67]=t("h2",{class:"text-md font-semibold mb-1"},"Información Vacacional",-1)),t("div",xn,[t("div",fn,[e[65]||(e[65]=t("label",{for:"totalDiasVac",class:"block text-sm font-medium leading-6 text-gray-900"},"Total de Días ",-1)),t("div",bn,[m(t("input",{type:"number",name:"totalDiasVac",id:"totalDiasVac"+i.op,"onUpdate:modelValue":e[26]||(e[26]=a=>n(s).totalDiasVac=a),placeholder:"Días ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,yn),[[x,n(s).totalDiasVac]])]),B.value!=""?(l(),r("div",vn,c(B.value),1)):f("",!0)]),t("div",hn,[e[66]||(e[66]=t("label",{for:"diasVacRestantes",class:"block text-sm font-medium leading-6 text-gray-900"},"Días Restantes",-1)),t("div",En,[m(t("input",{type:"number",name:"diasVacRestantes",id:"diasVacRestantes"+i.op,"onUpdate:modelValue":e[27]||(e[27]=a=>n(s).diasVacRestantes=a),placeholder:"Días ",class:"block w-20 rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,kn),[[x,n(s).diasVacRestantes]])]),Y.value!=""?(l(),r("div",Nn,c(Y.value),1)):f("",!0)])])])]),t("div",wn,[t("button",{type:"button",id:"cerrar"+i.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-2 rounded","data-bs.dismiss":"modal",onClick:Q},e[69]||(e[69]=[t("i",{class:"fa-solid fa-ban"},null,-1),N(" Cancelar")]),8,$n),t("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-2 rounded",disabled:n(s).processing},e[70]||(e[70]=[t("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),N("Guardar")]),8,In)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Dn={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},Sn={class:"py-3 flex flex-col md:flex-row md:items-start md:space-x-3 space-y-3 md:space-y-0"},Cn={class:"overflow-x-auto"},De="xl",Se=!0,On={__name:"PersonalAdministrativo",props:{message:{String,default:""},color:{String,default:""},operador:{type:Object},tipoOperador:{type:Object},estado:{type:Object},directivo:{type:Object},usuario:{type:Object},incapacidad:{type:Object},empresa:{type:Object},convenioPago:{type:Object},direccion:{type:Object},escolaridad:{type:Object},personal:{type:Object}},setup(i){Ee.use(Pe),Ee.use(Pe);const D=i,d=()=>{Fe(()=>{const p=$("#personalTablaId").DataTable().rows({search:"applied"}).data(),y=new Map(D.empresa.map(b=>[b.idEmpresa,b.empresa])),E=new Map(D.personal.map(b=>[b.idPersonal,b.domicilio]));console.log("Direccion map",E);const v=new Map([[1,"SI"],[0,"NO"]]),k=p.toArray().map(b=>{var C;return{ID:b.idPersonal,"Apellido Paterno":b.apellidoP,"Apellido Materno":b.apellidoM,Nombre:b.nombre,"Fecha de Nacimiento":b.fechaNacimiento,Edad:`${b.edad} años`,CURP:b.CURP,RFC:b.RFC,"Número de Teléfono":b.numTelefono,"Tel. Emergencia":b.telEmergencia,NSS:b.NSS,Escolaridad:((C=D.escolaridad.find(P=>P.idEscolaridad===b.idEscolaridad))==null?void 0:C.escolaridad)||"","Fecha de Alta":b.fechaAlta,"Fecha de Baja":b.fechaBaja,Empresa:y.get(b.idEmpresa)||"",Antiguedad:`${b.antiguedad} años`,Direccion:E.get(b.idPersonal)||"","Número de INE":b.numINE,"Vigencia de INE":b.vigenciaINE,"Constancia de Situación Fiscal":v.get(b.constanciaSF)||"","Días de Vacaciones":b.totalDiasVac,"Días Restantes":b.diasVacRestantes}}),w=Ne.json_to_sheet(k),I=Ne.book_new();Ne.book_append_sheet(I,w,"Personal Registrados"),Ve(I,"Personal Registrados.xlsx")})},L=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Directivos registrados",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>d()},{title:"Directivos registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[2,3,4,5,6]}}],X=[{data:null,render:function(u,p,y,E){return`<input type="checkbox" class="personal-checkboxes" data-id="${y.idPersonal}" ">`}},{data:null,render:function(u,p,y,E){return E.row+1}},{data:"apellidoP"},{data:"apellidoM"},{data:"nombre"},{data:"fechaNacimiento",render:function(u,p,y,E){if(u){const v=u.split("-"),k=v[0],w=v[1];return`${v[2]}-${w}-${k}`}return""}},{data:"edad",render:function(u,p,y,E){return u+" años"}},{data:"CURP"},{data:"RFC"},{data:"numTelefono"},{data:"telEmergencia"},{data:"NSS"},{data:"idEscolaridad",render:function(u,p,y,E){const v=D.escolaridad.find(k=>k.idEscolaridad===u);return v?v.escolaridad:""}},{data:"fechaAlta",render:function(u,p,y,E){if(u){const v=u.split("-"),k=v[0],w=v[1];return`${v[2]}-${w}-${k}`}return""}},{data:"fechaBaja",render:function(u,p,y,E){if(u){const v=u.split("-"),k=v[0],w=v[1];return`${v[2]}-${w}-${k}`}return""}},{data:"idEmpresa",render:function(u,p,y,E){const v=D.empresa.find(k=>k.idEmpresa===u);return v?v.empresa:""}},{data:"antiguedad",render:function(u,p,y,E){return u+" años"}},{data:"domicilio",render:function(u,p,y,E){return u||""}},{data:"numINE"},{data:"vigenciaINE",render:function(u,p,y,E){if(u){const v=new Date().getFullYear(),k=u<v;return`<div style="background-color: ${k?"#f56565":"transparent"}; color: ${k?"#ffffff":"inherit"}; width: 100%; height: 100%; box-sizing: border-box;">${u}</div>`}return""}},{data:"constanciaSF",render:function(u,p,y,E){return u?"SI":"NO"}},{data:"totalDiasVac"},{data:"diasVacRestantes"},{data:null,render:function(u,p,y,E){return`<button class="editar-button" data-id="${y.idPersonal}" style="display: flex; justify-content: center;"><i class="fa fa-pencil"></i></button>`}}],_=g(!1),z=g(!1),ee=we({_method:"DELETE"}),s=g([]);var S={};const R=u=>{S=u,z.value=!0},A=()=>{_.value=!1},F=()=>{z.value=!1},U=u=>{s.value.includes(u)?s.value=s.value.filter(y=>y!==u):s.value.push(u);const p=document.getElementById("eliminarABtn");s.value.length>0?p.removeAttribute("disabled"):p.setAttribute("disabled","")};$e(()=>{document.getElementById("personalTablaId").addEventListener("click",u=>{const p=u.target;if(p.classList.contains("personal-checkboxes")){const y=parseInt(p.getAttribute("data-id"));if(D.personal){const E=D.personal.find(v=>v.idPersonal===y);E?U(E):console.log("No se tiene personal")}}}),$("#personalTablaId").on("click",".editar-button",function(){const u=$(this).data("id"),p=D.personal.find(y=>y.idPersonal===u);R(p)})});const M=()=>{const u=ke.mixin({buttonsStyling:!0}),p=s.value.map(y=>y.nombre_completo).join(", ");u.fire({title:"¿Estas seguro que deseas eliminar al directivo seleccionado?",html:`Directivo seleccionado: ${p}`,icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i> Confirmar',cancelButtonText:'<i class="fa-solid fa-ban"></i> Cancelar'}).then(async y=>{if(y.isConfirmed)try{const v=s.value.map(w=>w.idPersonal).join(",");await ee.post(route("rh.eliminarPersonal",v)),s.value=[];const k=document.getElementById("eliminarABtn");s.value.length>0?k.removeAttribute("disabled"):k.setAttribute("disabled",""),ke.fire({title:"Personal eliminado correctamente",icon:"success"}),window.flash={message:"Personal eliminado correctamente",color:"green"}}catch(E){console.log("Error al eliminar varias personales: "+E),ke.fire({title:"Error",text:"Hubo un error al eliminar al personal. Por favor, inténtalo de nuevo más tarde.",icon:"error"})}})};return(u,p)=>(l(),Ie(Me,{title:"Personal",usuario:D.usuario},{default:ie(()=>[t("div",Dn,[p[4]||(p[4]=t("h2",{class:"font-bold text-center text-xl pt-0"},"Personal Administrativo",-1)),p[5]||(p[5]=t("div",{class:"my-1"},null,-1)),p[6]||(p[6]=t("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-6"},null,-1)),ne(Ue),t("div",Sn,[t("button",{class:"bg-green-500 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded",onClick:p[0]||(p[0]=y=>_.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},p[1]||(p[1]=[t("i",{class:"fa fa-plus mr-2"},null,-1),N("Agregar Personal ")])),t("button",{id:"eliminarABtn",disabled:"",class:"bg-red-500 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded",onClick:M},p[2]||(p[2]=[t("i",{class:"fa fa-trash mr-2"},null,-1),N("Borrar Personal ")]))]),t("div",null,[t("div",Cn,[ne(n(Ee),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"personalTablaId",name:"personalTablaId",columns:X,data:i.personal,options:{responsive:!1,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:[L]}},{default:ie(()=>p[3]||(p[3]=[t("thead",null,[t("tr",{class:"text-sm leading-normal border-b border-gray-300"},[t("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}),t("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"11"},"INFORMACIÓN PERSONAL"),t("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"4"},"INFORMACIÓN LABORAL"),t("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," INFORMACIÓN DE DOMICILIO "),t("th",{class:"py-2 px-4 bg-yellow-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"3"},"INFORMACIÓN DE DOCUMENTACIÓN"),t("th",{class:"py-2 px-4 bg-orange-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"2"},"INFORMACIÓN VACACIONAL"),t("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"})]),t("tr",{class:"text-sm leading-normal"},[t("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}),t("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," ID "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha de Nacimiento "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Edad "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," CURP "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," RFC "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Teléfono "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Teléfono de Emergencia "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," NSS "),t("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Escolaridad "),t("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha Alta "),t("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Fecha Baja "),t("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Empresa "),t("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Antiguedad "),t("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Dirección "),t("th",{class:"py-2 px-4 bg-yellow-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Número de INE "),t("th",{class:"py-2 px-4 bg-yellow-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Vigencia de INE "),t("th",{class:"py-2 px-4 bg-yellow-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Constancia de Situación Fiscal "),t("th",{class:"py-2 px-4 bg-orange-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Total de Días "),t("th",{class:"py-2 px-4 bg-orange-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Días Restantes "),t("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-light border-b border-grey-light"})])],-1)])),_:1},8,["data","options"])])])]),ne(ao,{show:_.value,"max-width":De,closeable:Se,onClose:A,title:"Añadir Personal",op:"1",modal:"modalCreate",personal:D.personal,escolaridad:D.escolaridad,empresa:D.empresa},null,8,["show","personal","escolaridad","empresa"]),ne(Pn,{show:z.value,"max-width":De,closeable:Se,onClose:F,title:"Editar Personal",op:"1",modal:"modalEdit",personal:n(S),escolaridad:D.escolaridad,empresa:D.empresa},null,8,["show","personal","escolaridad","empresa"])]),_:1},8,["usuario"]))}};export{On as default};
