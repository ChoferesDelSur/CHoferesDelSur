import{_ as Ue}from"./PrincipalLayout-DvAzPC4j.js";import{u as A,i as P,r as D,o as b,j as V,e as N,a as e,g as J,t as v,w as j,d as c,k as M,c as C,F as B,m as _,p as W,l as I,y as pe,f as p,z as X,C as Z,D as be,q as Ce,b as L,x as we}from"./app-Ulf1_P01.js";import"./buttons.print-NLOxmzBh.js";import{_ as K}from"./Modal-B4a8FicP.js";import{_ as Se}from"./Mensaje-BXyOukiH.js";import"./jspdf.plugin.autotable-CqtI2_So.js";import{u as ee,w as $e}from"./xlsx-DjuO7_Ju.js";/* empty css                                                */const ke={class:"mt-2 bg-white p-4 shadow rounded-lg"},Re={class:"border-b border-gray-900/10 pb-12"},De={class:"text-base font-semibold leading-7 text-gray-900"},Ee={class:"flex flex-wrap -mx-4"},Fe={class:"md:col-span-2"},je={class:"sm:col-span-2",hidden:""},Oe={class:"mt-1"},Ie=["id"],He={class:"sm:col-span-2 px-4"},Te={class:"mt-2"},Me=["id"],Le=["value"],Ne={key:0,class:"text-red-500 text-xs mt-1"},Be={class:"sm:col-span-2 px-4"},_e={class:"mt-2"},We=["id"],Ae={key:0,class:"text-red-500 text-xs"},Ve={class:"sm:col-span-2 px-4"},ze={class:"mt-2"},Ge={key:0,class:"text-red-500 text-xs"},qe={class:"mt-6 flex items-center justify-end gap-x-6"},Pe=["id"],Je=["disabled"],Xe={__name:"FormularioRegHoraEntrada",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},entrada:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},unidadesConOperador:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(r,{emit:s}){const u=r,H=s,t=A({idEntrada:u.entrada.idEntrada,unidad:u.entrada.idUnidad,horaEntrada:u.entrada.horaEntrada,extremo:u.entrada.extremo});P(()=>u.entrada,async l=>{t.idEntrada=l.idEntrada,t.unidad=l.unidad,t.horaEntrada=l.horaEntrada,t.extremo=l.extremo},{deep:!0});const F=l=>l!=null,E=l=>l!=null,y=D(""),x=D(""),w=D(""),h=async()=>{H("close"),t.reset()},g=async()=>{x.value=F(t.horaEntrada)?"":"Seleccione la hora de entrada",y.value=F(t.unidad)?"":"Seleccione una unidad",w.value=E(t.extremo)?"":"Seleccione una opción",!(x.value||y.value||w.value)&&t.post(X("principal.registarHoraEntrada"),{onSuccess:()=>{h(),x.value="",y.value="",w.value=""}})};return(l,o)=>(b(),V(K,{show:r.show,"max-width":r.maxWidth,closeable:r.closeable,onClose:h},{default:N(()=>[e("div",ke,[e("form",{onSubmit:o[5]||(o[5]=J(a=>r.op==="1"?g():l.update(),["prevent"]))},[e("div",Re,[e("h2",De,v(r.title),1),o[13]||(o[13]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Rellene todos los campos para poder registrar la hora de Entrada de una unidad ",-1)),e("div",Ee,[e("div",Fe,[e("div",je,[o[6]||(o[6]=e("label",{for:"idOperador",class:"block text-sm font-medium leading-6 text-gray-900"},"idEntrada",-1)),e("div",Oe,[j(e("input",{type:"number",name:"idEntrada","onUpdate:modelValue":o[0]||(o[0]=a=>c(t).idEntrada=a),placeholder:"Ingrese id de hora de entrada",id:"idEntrada"+r.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ie),[[M,c(t).idEntrada]])])])]),e("div",He,[o[8]||(o[8]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",Te,[j(e("select",{name:"unidad",id:"unidad"+r.op,"onUpdate:modelValue":o[1]||(o[1]=a=>c(t).unidad=a),placeholder:"Seleccione la unidad",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[7]||(o[7]=e("option",{value:"",disabled:"",selected:""},"Seleccione la unidad",-1)),(b(!0),C(B,null,_(r.unidadesConOperador,a=>(b(),C("option",{key:a.idUnidad,value:a.idUnidad},v(a.numeroUnidad),9,Le))),128))],8,Me),[[W,c(t).unidad]])]),y.value!=""?(b(),C("div",Ne,v(y.value),1)):I("",!0)]),e("div",Be,[o[9]||(o[9]=e("label",{for:"horaEntrada",class:"block text-sm font-medium leading-6 text-gray-900"},"Hora de entrada",-1)),e("div",_e,[j(e("input",{type:"time",name:"horaEntrada",id:"horaEntrada"+r.op,"onUpdate:modelValue":o[2]||(o[2]=a=>c(t).horaEntrada=a),placeholder:"Seleccione la hora de entrada",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,We),[[M,c(t).horaEntrada]])]),x.value!=""?(b(),C("div",Ae,v(x.value),1)):I("",!0)]),e("div",Ve,[o[12]||(o[12]=e("label",{class:"block text-sm font-medium leading-6 text-gray-900"},"¿Es de extremo?",-1)),e("div",ze,[j(e("input",{type:"radio",id:"si",value:"SI","onUpdate:modelValue":o[3]||(o[3]=a=>c(t).extremo=a)},null,512),[[pe,c(t).extremo]]),o[10]||(o[10]=e("label",{for:"si",class:"radio-label"}," Sí",-1)),j(e("input",{type:"radio",id:"no",value:"NO","onUpdate:modelValue":o[4]||(o[4]=a=>c(t).extremo=a)},null,512),[[pe,c(t).extremo]]),o[11]||(o[11]=e("label",{for:"no",class:"radio-label"}," No",-1))]),w.value!=""?(b(),C("div",Ge,v(w.value),1)):I("",!0)])])]),e("div",qe,[e("button",{type:"button",id:"cerrar"+r.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:h},o[14]||(o[14]=[e("i",{class:"fa-solid fa-ban"},null,-1),p(" Cancelar")]),8,Pe),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:c(t).processing},o[15]||(o[15]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),p("Guardar")]),8,Je)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Ke={class:"mt-2 bg-white p-4 shadow rounded-lg"},Qe={class:"border-b border-gray-900/10 pb-12"},Ye={class:"text-base font-semibold leading-7 text-gray-900"},Ze={class:"flex flex-wrap -mx-4"},et={class:"sm:col-span-2 px-4"},tt={class:"mt-2"},ot=["id"],at=["value"],dt={key:0,class:"text-red-500 text-xs mt-1"},it={class:"sm:col-span-2 px-4"},rt={class:"mt-2"},st=["id"],nt={key:0,class:"text-red-500 text-xs"},lt={class:"sm:col-span-2 px-4"},ut={class:"mt-2"},ct=["id"],mt={key:0,class:"text-red-500 text-xs mt-1"},gt={class:"sm:col-span-2 px-4"},pt={class:"mt-2"},bt=["id"],ft={class:"mt-6 flex items-center justify-end gap-x-6"},yt=["id"],xt=["disabled"],ht={__name:"FormularioRegCorte",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},corte:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},unidadesConOperador:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(r,{emit:s}){const u=r,H=s,t=A({idCorte:u.corte.idCorte,unidad:u.corte.idUnidad,horaCorte:u.corte.horaCorte,causa:u.corte.corte,horaRegreso:u.corte.horaRegreso});P(()=>u.corte,async l=>{t.idCorte=l.idCorte,t.unidad=l.unidad,t.horaCorte=l.horaCorte,t.causa=l.causa,t.horaRegreso=l.horaRegreso},{deep:!0});const F=l=>l!=null,E=l=>typeof l=="string"&&l.trim()!=="",y=D(""),x=D(""),w=D("");D("");const h=async()=>{H("close"),t.reset()},g=async()=>{x.value=F(t.horaCorte)?"":"Seleccione la hora de corte",y.value=F(t.unidad)?"":"Seleccione una unidad",w.value=E(t.causa)?"":"Ingrese la causa del corte",!(x.value||y.value||w.value)&&t.post(X("principal.registarCorte"),{onSuccess:()=>{h(),x.value="",y.value="",w.value=""}})};return(l,o)=>(b(),V(K,{show:r.show,"max-width":r.maxWidth,closeable:r.closeable,onClose:h},{default:N(()=>[e("div",Ke,[e("form",{onSubmit:o[4]||(o[4]=J(a=>r.op==="1"?g():l.update(),["prevent"]))},[e("div",Qe,[e("h2",Ye,v(r.title),1),o[10]||(o[10]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[p("Rellene el formulario para poder registrar la hora de corte de una unidad. Los campos con "),e("span",{class:"text-red-500"},"*"),p(" son obligatorios. ")],-1)),e("div",Ze,[e("div",et,[o[6]||(o[6]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Unidad "),e("span",{class:"text-red-500"},"*")],-1)),e("div",tt,[j(e("select",{name:"unidad",id:"unidad"+r.op,"onUpdate:modelValue":o[0]||(o[0]=a=>c(t).unidad=a),placeholder:"Seleccione la unidad",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[5]||(o[5]=e("option",{value:"",disabled:"",selected:""},"Seleccione la unidad",-1)),(b(!0),C(B,null,_(r.unidadesConOperador,a=>(b(),C("option",{key:a.idUnidad,value:a.idUnidad},v(a.numeroUnidad),9,at))),128))],8,ot),[[W,c(t).unidad]])]),y.value!=""?(b(),C("div",dt,v(y.value),1)):I("",!0)]),e("div",it,[o[7]||(o[7]=e("label",{for:"horaCorte",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Hora de corte "),e("span",{class:"text-red-500"},"*")],-1)),e("div",rt,[j(e("input",{type:"time",name:"horaCorte",id:"horaCorte"+r.op,"onUpdate:modelValue":o[1]||(o[1]=a=>c(t).horaCorte=a),placeholder:"Seleccione la hora de corte",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,st),[[M,c(t).horaCorte]])]),x.value!=""?(b(),C("div",nt,v(x.value),1)):I("",!0)]),e("div",lt,[o[8]||(o[8]=e("label",{for:"causa",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Causa "),e("span",{class:"text-red-500"},"*")],-1)),e("div",ut,[j(e("input",{type:"text",name:"causa",id:"causa"+r.op,"onUpdate:modelValue":o[2]||(o[2]=a=>c(t).causa=a),placeholder:"Ingrese la causa del corte",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,ct),[[M,c(t).causa]])]),w.value!=""?(b(),C("div",mt,v(w.value),1)):I("",!0)]),e("div",gt,[o[9]||(o[9]=e("label",{for:"horaRegreso",class:"block text-sm font-medium leading-6 text-gray-900"},"Hora de regreso",-1)),e("div",pt,[j(e("input",{type:"time",name:"horaRegreso",id:"horaRegreso"+r.op,"onUpdate:modelValue":o[3]||(o[3]=a=>c(t).horaRegreso=a),placeholder:"Seleccione la hora de regreso",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,bt),[[M,c(t).horaRegreso]])])])])]),e("div",ft,[e("button",{type:"button",id:"cerrar"+r.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:h},o[11]||(o[11]=[e("i",{class:"fa-solid fa-ban"},null,-1),p(" Cancelar")]),8,yt),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:c(t).processing},o[12]||(o[12]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),p("Guardar")]),8,xt)])],32)])]),_:1},8,["show","max-width","closeable"]))}},vt={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ut={class:"border-b border-gray-900/10 pb-12"},Ct={class:"text-base font-semibold leading-7 text-gray-900"},wt={class:"flex flex-wrap -mx-4"},St={class:"sm:col-span-2 px-4"},$t={class:"mt-2"},kt=["id"],Rt=["value"],Dt={key:0,class:"text-red-500 text-xs mt-1"},Et={class:"sm:col-span-2 px-4"},Ft={class:"mt-2"},jt=["id"],Ot={key:0,class:"text-red-500 text-xs mt-1"},It={class:"mt-6 flex items-center justify-end gap-x-6"},Ht=["id"],Tt=["disabled"],Mt={__name:"FormularioRegRegreso",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},formacionUnidades:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(r,{emit:s}){const u=r,H=s,t=A({idFormacionUnidades:u.formacionUnidades.idFormacionUnidades,unidad:u.formacionUnidades.idUnidad,horaRegreso:u.formacionUnidades.horaRegreso});P(()=>u.formacionUnidades,async h=>{t.idFormacionUnidades=h.idFormacionUnidades,t.unidad=h.unidad,t.horaRegreso=u.formacionUnidades.horaRegreso},{deep:!0});const F=h=>h!=null,E=D(""),y=D(""),x=async()=>{H("close"),t.reset()},w=async()=>{y.value=F(t.horaRegreso)?"":"Seleccione la hora de regreso",E.value=F(t.unidad)?"":"Seleccione una unidad",!(y.value||E.value)&&t.post(X("principal.registrarHoraRegreso"),{onSuccess:()=>{x(),y.value="",E.value=""}})};return(h,g)=>(b(),V(K,{show:r.show,"max-width":r.maxWidth,closeable:r.closeable,onClose:x},{default:N(()=>[e("div",vt,[e("form",{onSubmit:g[2]||(g[2]=J(l=>r.op==="1"?w():h.update(),["prevent"]))},[e("div",Ut,[e("h2",Ct,v(r.title),1),g[6]||(g[6]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},"Rellene el formulario para poder registrar la hora de regreso del corte de una unidad. ",-1)),e("div",wt,[e("div",St,[g[4]||(g[4]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Unidad "),e("span",{class:"text-red-500"},"*")],-1)),e("div",$t,[j(e("select",{name:"unidad",id:"unidad"+r.op,"onUpdate:modelValue":g[0]||(g[0]=l=>c(t).unidad=l),placeholder:"Seleccione la unidad",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[g[3]||(g[3]=e("option",{value:"",disabled:"",selected:""},"Seleccione la unidad",-1)),(b(!0),C(B,null,_(r.unidad,l=>(b(),C("option",{key:l.idUnidad,value:l.idUnidad},v(l.numeroUnidad),9,Rt))),128))],8,kt),[[W,c(t).unidad]])]),E.value!=""?(b(),C("div",Dt,v(E.value),1)):I("",!0)]),e("div",Et,[g[5]||(g[5]=e("label",{for:"horaRegreso",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Hora de regreso "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ft,[j(e("input",{type:"time",name:"horaRegreso",id:"horaRegreso"+r.op,"onUpdate:modelValue":g[1]||(g[1]=l=>c(t).horaRegreso=l),placeholder:"Seleccione la hora de regreso",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,jt),[[M,c(t).horaRegreso]])]),y.value!=""?(b(),C("div",Ot,v(y.value),1)):I("",!0)])])]),e("div",It,[e("button",{type:"button",id:"cerrar"+r.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:x},g[7]||(g[7]=[e("i",{class:"fa-solid fa-ban"},null,-1),p(" Cancelar")]),8,Ht),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:c(t).processing},g[8]||(g[8]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),p("Guardar")]),8,Tt)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Lt={class:"mt-2 bg-white p-4 shadow rounded-lg"},Nt={class:"border-b border-gray-900/10 pb-12"},Bt={class:"text-base font-semibold leading-7 text-gray-900"},_t={class:"flex flex-wrap -mx-4"},Wt={class:"sm:col-span-2 px-4"},At={class:"mt-2"},Vt=["id"],zt=["value"],Gt={key:0,class:"text-red-500 text-xs mt-1"},qt={class:"sm:col-span-2 px-4"},Pt={class:"mt-2"},Jt=["id"],Xt={key:0,class:"text-red-500 text-xs mt-1"},Kt={class:"sm:col-span-2 px-4"},Qt={class:"mt-2"},Yt=["id"],Zt={key:0,class:"text-red-500 text-xs"},eo={class:"sm:col-span-2 px-4"},to={class:"mt-2"},oo=["id"],ao={key:0,class:"text-red-500 text-xs"},io={class:"sm:col-span-2 px-4"},ro={class:"mt-2"},so=["id"],no={class:"mt-6 flex items-center justify-end gap-x-6"},lo=["id"],uo=["disabled"],co={__name:"FormularioCastigo",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},formacionUnidades:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},castigo:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(r,{emit:s}){const u=r,H=s,t=A({idCastigo:u.castigo.idCastigo,castigo:u.castigo.castigo,observaciones:u.castigo.observaciones,horaInicio:u.castigo.horaInicio,horaFin:u.castigo.horaFin,unidad:u.castigo.idUnidad});P(()=>u.castigo,async o=>{t.idCastigo=o.idCastigo,t.castigo=o.castigo,t.observaciones=o.observaciones,t.horaInicio=o.horaInicio,t.horaFin=u.horaFin,t.unidad=u.unidad},{deep:!0});const F=o=>o!=null,E=o=>typeof o=="string"&&o.trim()!=="",y=D(""),x=D(""),w=D(""),h=D(""),g=async()=>{H("close"),t.reset()},l=async()=>{x.value=F(t.horaInicio)?"":"Seleccione la hora de inicio del castigo",y.value=F(t.unidad)?"":"Seleccione una unidad",w.value=E(t.castigo)?"":"Ingrese motivo del castigo",h.value=F(t.horaFin)?"":"Seleccione la hora de fin del castigo",!(x.value||y.value||w.value||h.value)&&t.post(X("principal.registrarCastigo"),{onSuccess:()=>{g(),x.value="",y.value="",w.value="",h.value=""}})};return(o,a)=>(b(),V(K,{show:r.show,"max-width":r.maxWidth,closeable:r.closeable,onClose:g},{default:N(()=>[e("div",Lt,[e("form",{onSubmit:a[5]||(a[5]=J(S=>r.op==="1"?l():o.update(),["prevent"]))},[e("div",Nt,[e("h2",Bt,v(r.title),1),a[12]||(a[12]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[p("Rellene el formulario para poder registrar el castigo. Los campos con "),e("span",{class:"text-red-500"},"*"),p(" son obligatorios. ")],-1)),e("div",_t,[e("div",Wt,[a[7]||(a[7]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Unidad "),e("span",{class:"text-red-500"},"*")],-1)),e("div",At,[j(e("select",{name:"unidad",id:"unidad"+r.op,"onUpdate:modelValue":a[0]||(a[0]=S=>c(t).unidad=S),placeholder:"Seleccione la unidad",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[a[6]||(a[6]=e("option",{value:"",disabled:"",selected:""},"Seleccione la unidad",-1)),(b(!0),C(B,null,_(r.unidad,S=>(b(),C("option",{key:S.idUnidad,value:S.idUnidad},v(S.numeroUnidad),9,zt))),128))],8,Vt),[[W,c(t).unidad]])]),y.value!=""?(b(),C("div",Gt,v(y.value),1)):I("",!0)]),e("div",qt,[a[8]||(a[8]=e("label",{for:"castigo",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Castigo "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Pt,[j(e("input",{type:"text",name:"castigo",id:"castigo"+r.op,"onUpdate:modelValue":a[1]||(a[1]=S=>c(t).castigo=S),placeholder:"Ingrese el motivo del castigo",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Jt),[[M,c(t).castigo]])]),w.value!=""?(b(),C("div",Xt,v(w.value),1)):I("",!0)]),e("div",Kt,[a[9]||(a[9]=e("label",{for:"horaInicio",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Hora de inicio "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Qt,[j(e("input",{type:"time",name:"horaInicio",id:"horaInicio"+r.op,"onUpdate:modelValue":a[2]||(a[2]=S=>c(t).horaInicio=S),placeholder:"Seleccione la hora de inicio",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Yt),[[M,c(t).horaInicio]])]),x.value!=""?(b(),C("div",Zt,v(x.value),1)):I("",!0)]),e("div",eo,[a[10]||(a[10]=e("label",{for:"horaFin",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Hora fin "),e("span",{class:"text-red-500"},"*")],-1)),e("div",to,[j(e("input",{type:"time",name:"horaFin",id:"horaFin"+r.op,"onUpdate:modelValue":a[3]||(a[3]=S=>c(t).horaFin=S),placeholder:"Seleccione la horade finalización",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,oo),[[M,c(t).horaFin]])]),h.value!=""?(b(),C("div",ao,v(h.value),1)):I("",!0)]),e("div",io,[a[11]||(a[11]=e("label",{for:"observaciones",class:"block text-sm font-medium leading-6 text-gray-900"},"Observaciones",-1)),e("div",ro,[j(e("input",{type:"text",name:"observaciones",id:"observaciones"+r.op,"onUpdate:modelValue":a[4]||(a[4]=S=>c(t).observaciones=S),placeholder:"Ingrese sus observaciones",class:"block w-64 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,so),[[M,c(t).observaciones]])])])])]),e("div",no,[e("button",{type:"button",id:"cerrar"+r.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:g},a[13]||(a[13]=[e("i",{class:"fa-solid fa-ban"},null,-1),p(" Cancelar")]),8,lo),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:c(t).processing},a[14]||(a[14]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),p("Guardar")]),8,uo)])],32)])]),_:1},8,["show","max-width","closeable"]))}},mo={class:"mt-2 bg-white p-4 shadow rounded-lg"},go={class:"border-b border-gray-900/10 pb-12"},po={class:"text-base font-semibold leading-7 text-gray-900"},bo={class:"flex flex-wrap -mx-4"},fo={class:"sm:col-span-2 px-4"},yo={class:"mt-2"},xo=["id"],ho=["value"],vo={key:0,class:"text-red-500 text-xs mt-1"},Uo={class:"sm:col-span-2 px-4"},Co={class:"mt-2"},wo=["id"],So=["value"],$o={key:0,class:"text-red-500 text-xs mt-1"},ko={class:"sm:col-span-2 px-4"},Ro={class:"mt-2"},Do=["id"],Eo={key:0,class:"text-red-500 text-xs"},Fo={class:"sm:col-span-2 px-4"},jo={class:"mt-2"},Oo=["id"],Io={class:"mt-6 flex items-center justify-end gap-x-6"},Ho=["id"],To=["disabled"],Mo={__name:"FormularioRegUC",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},ultimaCorrida:{type:Object,default:()=>({})},tipoUltimaCorrida:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(r,{emit:s}){const u=r,H=s,t=A({idUltimaCorrida:u.ultimaCorrida.idUltimaCorrida,unidad:u.ultimaCorrida.idUnidad,tipoUltimaCorrida:u.ultimaCorrida.idTipoUltimaCorrida,horaInicioUC:u.ultimaCorrida.horaInicioUC,horaFinUC:u.ultimaCorrida.horaFinUC});P(()=>u.ultimaCorrida,async l=>{t.idUltimaCorrida=l.idUltimaCorrida,t.tipoUltimaCorrida=l.tipoUltimaCorrida,t.horaInicioUC=l.horaInicioUC,t.horaFinUC=l.horaFinUC},{deep:!0});const F=l=>l!=null,E=l=>l!=null,y=D(""),x=D(""),w=D(""),h=async()=>{H("close"),t.reset()},g=async()=>{x.value=F(t.horaInicioUC)?"":"Seleccione la hora de inicio de la última corrida",y.value=F(t.unidad)?"":"Seleccione una unidad",w.value=E(t.tipoUltimaCorrida)?"":"Seleccione al un tipo de corrida",!(x.value||y.value||w.value)&&t.post(X("principal.registrarUC"),{onSuccess:()=>{h(),x.value="",y.value="",w.value=""}})};return(l,o)=>(b(),V(K,{show:r.show,"max-width":r.maxWidth,closeable:r.closeable,onClose:h},{default:N(()=>[e("div",mo,[e("form",{onSubmit:o[4]||(o[4]=J(a=>r.op==="1"?g():l.update(),["prevent"]))},[e("div",go,[e("h2",po,v(r.title),1),o[11]||(o[11]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[p("Rellene el formulario para poder registrar la última corrida de una unidad. Los campos con "),e("span",{class:"text-red-500"},"*"),p(" son obligatorios. ")],-1)),e("div",bo,[e("div",fo,[o[6]||(o[6]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Unidad "),e("span",{class:"text-red-500"},"*")],-1)),e("div",yo,[j(e("select",{name:"unidad",id:"unidad"+r.op,"onUpdate:modelValue":o[0]||(o[0]=a=>c(t).unidad=a),placeholder:"Seleccione la unidad",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[5]||(o[5]=e("option",{value:"",disabled:"",selected:""},"Seleccione la unidad",-1)),(b(!0),C(B,null,_(r.unidad,a=>(b(),C("option",{key:a.idUnidad,value:a.idUnidad},v(a.numeroUnidad),9,ho))),128))],8,xo),[[W,c(t).unidad]])]),y.value!=""?(b(),C("div",vo,v(y.value),1)):I("",!0)]),e("div",Uo,[o[8]||(o[8]=e("label",{for:"tipoCorrida",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Tipo de corrida "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Co,[j(e("select",{name:"tipoCorrida",id:"tipoCorrida"+r.op,"onUpdate:modelValue":o[1]||(o[1]=a=>c(t).tipoUltimaCorrida=a),placeholder:"Seleccione el tipo de la ultima corrida",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[o[7]||(o[7]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de corrida",-1)),(b(!0),C(B,null,_(r.tipoUltimaCorrida,a=>(b(),C("option",{key:a.idTipoUltimaCorrida,value:a.idTipoUltimaCorrida},v(a.tipoUltimaCorrida),9,So))),128))],8,wo),[[W,c(t).tipoUltimaCorrida]])]),w.value!=""?(b(),C("div",$o,v(w.value),1)):I("",!0)]),e("div",ko,[o[9]||(o[9]=e("label",{for:"horaInicioUC",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Hora de inicio "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ro,[j(e("input",{type:"time",name:"horaInicioUC",id:"horaInicioUC"+r.op,"onUpdate:modelValue":o[2]||(o[2]=a=>c(t).horaInicioUC=a),placeholder:"Seleccione la hora de inicio",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Do),[[M,c(t).horaInicioUC]])]),x.value!=""?(b(),C("div",Eo,v(x.value),1)):I("",!0)]),e("div",Fo,[o[10]||(o[10]=e("label",{for:"horaFinUC",class:"block text-sm font-medium leading-6 text-gray-900"},"Hora fin",-1)),e("div",jo,[j(e("input",{type:"time",name:"horaFinUC",id:"horaFinUC"+r.op,"onUpdate:modelValue":o[3]||(o[3]=a=>c(t).horaFinUC=a),placeholder:"Seleccione la hora de finalización",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Oo),[[M,c(t).horaFinUC]])])])])]),e("div",Io,[e("button",{type:"button",id:"cerrar"+r.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:h},o[12]||(o[12]=[e("i",{class:"fa-solid fa-ban"},null,-1),p(" Cancelar")]),8,Ho),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:c(t).processing},o[13]||(o[13]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),p("Guardar")]),8,To)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Lo={class:"mt-2 bg-white p-4 shadow rounded-lg"},No={class:"border-b border-gray-900/10 pb-12"},Bo={class:"text-base font-semibold leading-7 text-gray-900"},_o={class:"flex flex-wrap -mx-4"},Wo={class:"sm:col-span-2 px-4"},Ao={class:"mt-2"},Vo=["id"],zo=["value"],Go={key:0,class:"text-red-500 text-xs mt-1"},qo={class:"sm:col-span-2 px-4"},Po={class:"mt-2"},Jo=["id"],Xo={key:0,class:"text-red-500 text-xs mt-1"},Ko={class:"mt-6 flex items-center justify-end gap-x-6"},Qo=["id"],Yo=["disabled"],Zo={__name:"FormularioRegresoUC",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},ultimaCorrida:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(r,{emit:s}){const u=r,H=s,t=A({idUltimaCorrida:u.ultimaCorrida.idUltimaCorrida,unidad:u.ultimaCorrida.idUnidad,horaFinUC:u.ultimaCorrida.horaFinUC});P(()=>u.ultimaCorrida,async h=>{t.idUltimaCorrida=h.idUltimaCorrida,t.horaFinUC=h.horaFinUC},{deep:!0});const F=h=>h!=null,E=D(""),y=D(""),x=async()=>{H("close"),t.reset()},w=async()=>{y.value=F(t.horaFinUC)?"":"Seleccione la hora de finalizacion de la última corrida",E.value=F(t.unidad)?"":"Seleccione una unidad",!(y.value||E.value)&&t.post(X("principal.regresoUC"),{onSuccess:()=>{x(),y.value="",E.value=""}})};return(h,g)=>(b(),V(K,{show:r.show,"max-width":r.maxWidth,closeable:r.closeable,onClose:x},{default:N(()=>[e("div",Lo,[e("form",{onSubmit:g[2]||(g[2]=J(l=>r.op==="1"?w():h.update(),["prevent"]))},[e("div",No,[e("h2",Bo,v(r.title),1),g[6]||(g[6]=e("p",{class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},[p("Rellene el formulario para poder registrar la hora de regreso de la última corrida de la unidad. Los campos con "),e("span",{class:"text-red-500"},"*"),p(" son obligatorios. ")],-1)),e("div",_o,[e("div",Wo,[g[4]||(g[4]=e("label",{for:"unidad",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Unidad "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ao,[j(e("select",{name:"unidad",id:"unidad"+r.op,"onUpdate:modelValue":g[0]||(g[0]=l=>c(t).unidad=l),placeholder:"Seleccione la unidad",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[g[3]||(g[3]=e("option",{value:"",disabled:"",selected:""},"Seleccione la unidad",-1)),(b(!0),C(B,null,_(r.unidad,l=>(b(),C("option",{key:l.idUnidad,value:l.idUnidad},v(l.numeroUnidad),9,zo))),128))],8,Vo),[[W,c(t).unidad]])]),E.value!=""?(b(),C("div",Go,v(E.value),1)):I("",!0)]),e("div",qo,[g[5]||(g[5]=e("label",{for:"horaFinUC",class:"block text-sm font-medium leading-6 text-gray-900"},[p("Hora fin "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Po,[j(e("input",{type:"time",name:"horaFinUC",id:"horaFinUC"+r.op,"onUpdate:modelValue":g[1]||(g[1]=l=>c(t).horaFinUC=l),placeholder:"Seleccione la hora de finalización",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Jo),[[M,c(t).horaFinUC]])]),E.value!=""?(b(),C("div",Xo,v(E.value),1)):I("",!0)])])]),e("div",Ko,[e("button",{type:"button",id:"cerrar"+r.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:x},g[7]||(g[7]=[e("i",{class:"fa-solid fa-ban"},null,-1),p(" Cancelar")]),8,Qo),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:c(t).processing},g[8]||(g[8]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),p("Guardar")]),8,Yo)])],32)])]),_:1},8,["show","max-width","closeable"]))}},ea={class:"mt-2 bg-white p-4 shadow rounded-lg"},ta={class:"text-base font-semibold leading-7 text-gray-900"},oa={class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},aa={class:"sm:col-span-2 px-4"},da={class:"mt-2"},ia=["value"],ra={class:"mt-1 text-sm leading-6 text-gray-600 mb-4"},sa={class:"sm:col-span-2 px-4"},na={class:"mt-2"},la=["value"],ua={key:0,class:"text-red-500 text-xs mt-1 mb-4"},ca={class:"mt-6 flex items-center justify-end gap-x-6"},ma=["id"],ga=["disabled"],pa={__name:"FormularioDomingo",props:{show:{type:Boolean,default:!1,hora:String},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},rolServicio:{type:Object,default:()=>({})},unidad:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String}},emits:["close"],setup(r,{emit:s}){const u=r,H=s,t=A({idRolServicio:u.rolServicio.idRolServicio,unidad:[],trabajaDomingo:u.rolServicio.trabajaDomingo,unidadesSi:[],unidadesNo:[]});P(()=>u.rolServicio,async o=>{t.idRolServicio=o.idRolServicio,t.trabajaDomingo=o.trabajaDomingo},{deep:!0});const F=async()=>{H("close"),t.reset()},E=(o,a)=>o.length>0||a.length>0,y=D(""),x=async()=>{y.value=E(t.unidadesSi,t.unidadesNo)?"":"Seleccione al menos una unidad en cualquiera de los select.",!y.value&&t.post(X("principal.trabDomingo"),{data:t.data,onSuccess:()=>{F(),y.value=""}})},w=()=>{const o=new Date,a=o.getDay(),S=a===0?7:a,z=new Date(o);return z.setDate(o.getDate()-S),z.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},h=()=>{const o=new Date,S=7-o.getDay(),z=new Date(o);return z.setDate(o.getDate()+S),z.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},g=w(),l=h();return(o,a)=>(b(),V(K,{show:r.show,"max-width":r.maxWidth,closeable:r.closeable,onClose:F},{default:N(()=>[e("div",ea,[e("form",{onSubmit:a[2]||(a[2]=J(S=>r.op==="1"?x():o.update(),["prevent"]))},[e("h2",ta,v(r.title),1),e("p",oa,[a[3]||(a[3]=p("Seleccione las unidades que trabajaron el : ")),e("strong",null,v(c(g)),1),a[4]||(a[4]=p(". "))]),e("div",aa,[a[6]||(a[6]=e("label",{for:"unidadesSi",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",da,[j(e("select",{name:"unidadesSi",id:"unidadesSi","onUpdate:modelValue":a[0]||(a[0]=S=>c(t).unidadesSi=S),multiple:"",size:"10",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[a[5]||(a[5]=e("option",{disabled:""},"Seleccione una o más unidades",-1)),(b(!0),C(B,null,_(r.unidad,S=>(b(),C("option",{key:S.idUnidad,value:S.idUnidad},v(S.numeroUnidad),9,ia))),128))],512),[[W,c(t).unidadesSi]])])]),e("p",ra,[a[7]||(a[7]=p("Seleccione las unidades que trabajarán el próximo: ")),e("strong",null,v(c(l)),1),a[8]||(a[8]=p(". "))]),e("div",sa,[a[10]||(a[10]=e("label",{for:"unidadesNo",class:"block text-sm font-medium leading-6 text-gray-900"},"Unidad",-1)),e("div",na,[j(e("select",{name:"unidadesNo",id:"unidadesNo","onUpdate:modelValue":a[1]||(a[1]=S=>c(t).unidadesNo=S),multiple:"",size:"10",class:"block rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[a[9]||(a[9]=e("option",{disabled:""},"Seleccione una o más unidades",-1)),(b(!0),C(B,null,_(r.unidad,S=>(b(),C("option",{key:S.idUnidad,value:S.idUnidad},v(S.numeroUnidad),9,la))),128))],512),[[W,c(t).unidadesNo]])])]),y.value?(b(),C("div",ua,v(y.value),1)):I("",!0),e("div",ca,[e("button",{type:"button",id:"cerrar"+r.op,class:"text-sm font-semibold leading-6 bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white py-2 px-4 rounded","data-bs.dismiss":"modal",onClick:F},a[11]||(a[11]=[e("i",{class:"fa-solid fa-ban"},null,-1),p(" Cancelar")]),8,ma),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:c(t).processing},a[12]||(a[12]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),p("Guardar")]),8,ga)])],32)])]),_:1},8,["show","max-width","closeable"]))}},ba={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},fa={class:"py-0 flex flex-col md:flex-row md:items-start md:space-x-3 space-y-3 md:space-y-0 mb-2"},ya={class:"py-1 flex flex-col md:flex-row md:items-start md:space-x-3 space-y-3 md:space-y-0 mb-1"},xa={class:"overflow-x-auto"},ha={class:"text-sm leading-normal border-b border-gray-300"},va={class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300",colspan:"2"},G="xl",q=!0,Ea={__name:"FormarUnidades",props:{message:{String,default:""},color:{String,default:""},ruta:{type:Object},unidad:{type:Object},unidadesConOperador:{type:Object},operador:{type:Object},directivo:{type:Object},rolServicio:{type:Object},castigo:{type:Object},entrada:{type:Object},corte:{type:Object},ultimaCorrida:{type:Object},tipoUltimaCorrida:{type:Object},usuario:{type:Object}},setup(r){Z.use(be),Z.use(be);const s=r,u=new Date().toLocaleDateString(),H=t(new Date().getDay());function t(f){return["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"][f]}Ce(()=>s.entrada.filter(f=>new Date(f.fechaRegistro).toLocaleDateString()===u));const F=()=>{we(()=>{const n=$("#formacionTablaId").DataTable().rows({search:"applied"}).data(),k=i=>{if(!i)return"";const[U,T]=i.split(":");return`${U}:${T}`},O=n.toArray().map(i=>{var Q,Y,te,oe,ae,de,ie,re,se,ne,le,ue,ce,me,ge;const U=s.ultimaCorrida.find(R=>R.idUnidad===i.idUnidad),T=s.tipoUltimaCorrida.find(R=>R.idTipoUltimaCorrida===(U==null?void 0:U.idTipoUltimaCorrida));return{ID:i.idUnidad,Ruta:(Q=s.ruta.find(R=>R.idRuta===i.idRuta))==null?void 0:Q.nombreRuta,"Trab. Domingo":(Y=s.rolServicio.find(R=>R.idRolServicio===i.idUnidad))==null?void 0:Y.trabajaDomingo,Unidad:(te=s.unidad.find(R=>R.idUnidad===i.idUnidad))==null?void 0:te.numeroUnidad,"Socio/Prestador":((oe=s.directivo.find(R=>R.idDirectivo===i.idDirectivo))==null?void 0:oe.nombre_completo)||"","Hr. Entrada":k((ae=s.entrada.find(R=>R.idUnidad===i.idUnidad))==null?void 0:ae.horaEntrada),"Tipo Entrada":(de=s.entrada.find(R=>R.idUnidad===i.idUnidad))==null?void 0:de.tipoEntrada,Extremo:(ie=s.entrada.find(R=>R.idUnidad===i.idUnidad))==null?void 0:ie.extremo,"Hr. Corte":k((re=s.corte.find(R=>R.idUnidad===i.idUnidad))==null?void 0:re.horaCorte),Causa:(se=s.corte.find(R=>R.idUnidad===i.idUnidad))==null?void 0:se.causa,"Hr. Regreso":k((ne=s.corte.find(R=>R.idUnidad===i.idUnidad))==null?void 0:ne.horaRegreso),"Tipo De Corrida":T==null?void 0:T.tipoUltimaCorrida,"Hr. Inicio UC":k(U==null?void 0:U.horaInicioUC),"Hr. Regreso UC":k(U==null?void 0:U.horaFinUC),"Hr. Inicio":k((le=s.castigo.find(R=>R.idUnidad===i.idUnidad))==null?void 0:le.horaInicio),"Hr. Finaliza":k((ue=s.castigo.find(R=>R.idUnidad===i.idUnidad))==null?void 0:ue.horaFin),Motivo:(ce=s.castigo.find(R=>R.idUnidad===i.idUnidad))==null?void 0:ce.castigo,"Otras Observaciones":(me=s.castigo.find(R=>R.idUnidad===i.idUnidad))==null?void 0:me.observaciones,Operador:(ge=s.operador.find(R=>R.idOperador===i.idOperador))==null?void 0:ge.nombre_completo}}),m=ee.json_to_sheet(O),d=ee.book_new();ee.book_append_sheet(d,m,"Formación De Unidades"),$e(d,"Formación De Unidades.xlsx")})},E=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Formación De Unidades",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>F()},{title:"Formación De Unidades",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]}}],y=[{data:null,render:function(f,n,k,O){return O.row+1}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.ruta.find(i=>i.idRuta===m.idRuta);return d?d.nombreRuta:""}else return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.rolServicio.filter(i=>i.idUnidad===m.idUnidad);return d.length>0?(d.sort((i,U)=>new Date(U.created_at)-new Date(i.created_at)),d[0].trabajaDomingo):'<span style="color: red;">Sin asignar</span>'}else return"Unidad no encontrada"}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);return m?m.numeroUnidad:""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.directivo.find(i=>i.idDirectivo===m.idDirectivo);return d?d.nombre_completo:""}else return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.entrada.filter(i=>i.idUnidad===m.idUnidad&&new Date(i.created_at).toLocaleDateString()===u);if(d.length>0)return d.map(U=>U.horaEntrada.substring(0,5)).join(", ")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.entrada.filter(i=>i.idUnidad===m.idUnidad&&new Date(i.created_at).toLocaleDateString()===u);if(d.length>0)return d.map(U=>U.tipoEntrada).join(", ")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.entrada.filter(i=>i.idUnidad===m.idUnidad&&new Date(i.created_at).toLocaleDateString()===u);if(d.length>0)return d.map(U=>U.extremo).join(", ")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.corte.filter(i=>i.idUnidad===m.idUnidad&&new Date(i.created_at).toLocaleDateString()===u);if(d.length>0)return d.map((U,T)=>`
            <div style="${d.length>1&&T!==d.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
              <div>${U.horaCorte.substring(0,5)}</div>
            </div>
          `).join("")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.corte.filter(i=>i.idUnidad===m.idUnidad&&new Date(i.created_at).toLocaleDateString()===u);if(d.length>0)return d.map((U,T)=>`
            <div style="${d.length>1&&T!==d.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
              <div>${U.causa}</div>
            </div>
          `).join("")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.corte.filter(i=>i.idUnidad===m.idUnidad&&new Date(i.created_at).toLocaleDateString()===u);if(d.length>0)return d.map((U,T)=>{const Q=U.horaRegreso?U.horaRegreso.substring(0,5):"";return`
            <div style="${d.length>1&&T!==d.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
              <div>${Q}</div>
            </div>
          `}).join("")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.ultimaCorrida.filter(i=>i.idUnidad===m.idUnidad&&new Date(i.created_at).toLocaleDateString()===u);if(d.length>0){const i=s.tipoUltimaCorrida.find(U=>U.idTipoUltimaCorrida===d[0].idTipoUltimaCorrida);if(i)return i.tipoUltimaCorrida}}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.ultimaCorrida.filter(i=>i.idUnidad===m.idUnidad&&new Date(i.created_at).toLocaleDateString()===u);if(d.length>0){const i=d[0].horaInicioUC;return i?i.substring(0,5):""}}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.ultimaCorrida.filter(i=>i.idUnidad===m.idUnidad&&new Date(i.created_at).toLocaleDateString()===u);if(d.length>0){const i=d[0].horaFinUC;if(i)return i.substring(0,5)}}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.castigo.filter(d=>d.idUnidad===f&&new Date(d.created_at).toLocaleDateString()===u);if(m.length>0){const d=m.map(i=>({horaInicio:i.horaInicio?i.horaInicio.substring(0,5):""}));return d.map((i,U)=>`
          <div style="${d.length>1&&U!==d.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
            <div>${i.horaInicio}</div>
          </div>
        `).join("")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.castigo.filter(d=>d.idUnidad===f&&new Date(d.created_at).toLocaleDateString()===u);if(m.length>0){const d=m.map(i=>({horaFin:i.horaFin?i.horaFin.substring(0,5):""}));return d.map((i,U)=>`
          <div style="${d.length>1&&U!==d.length-1?"border-bottom: 1px solid #b2b2b2;":""}">
            <div>${i.horaFin}</div>
          </div>
        `).join("")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.castigo.filter(d=>d.idUnidad===f&&new Date(d.created_at).toLocaleDateString()===u);if(m.length>0){const d=m.map(i=>i.castigo||"");return d.map((i,U)=>`<div style="${d.length>1&&U!==d.length-1?"border-bottom: 1px solid #b2b2b2;":""}">${i}</div>`).join("")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.castigo.filter(d=>d.idUnidad===f&&new Date(d.created_at).toLocaleDateString()===u);if(m.length>0){const d=m.map(i=>i.observaciones||"");return d.map((i,U)=>`<div style="${d.length>1&&U!==d.length-1?"border-bottom: 1px solid #b2b2b2;":""}">${i}</div>`).join("")}return""}},{data:"idUnidad",render:function(f,n,k,O){const m=s.unidad.find(d=>d.idUnidad===f);if(m){const d=s.operador.find(i=>i.idOperador===m.idOperador);return d?d.nombre_completo:'<span style="color: red;">Sin asignar</span>'}else return""}}],x=D(!1),w=D(!1),h=D(!1),g=D(!1),l=D(!1),o=D(!1),a=D(!1);D(!1),A({});const S=()=>{x.value=!1},z=()=>{w.value=!1},fe=()=>{h.value=!1},ye=()=>{g.value=!1},xe=()=>{l.value=!1},he=()=>{o.value=!1},ve=()=>{a.value=!1};return(f,n)=>(b(),V(Ue,{title:"Formar Unidades",usuario:s.usuario},{default:N(()=>[e("div",ba,[n[23]||(n[23]=e("h2",{class:"font-bold text-center text-xl pt-0"}," Formar Unidades",-1)),n[24]||(n[24]=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-1.5"},null,-1)),L(Se),e("div",fa,[e("button",{class:"bg-green-500 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded",onClick:n[0]||(n[0]=k=>x.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},n[7]||(n[7]=[e("i",{class:"fa fa-check-circle","aria-hidden":"true"},null,-1),p(" Registrar Entrada ")])),e("button",{class:"bg-red-500 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded",onClick:n[1]||(n[1]=k=>w.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},n[8]||(n[8]=[e("i",{class:"fa fa-scissors","aria-hidden":"true"},null,-1),p(" Registrar Corte ")])),e("button",{class:"bg-green-500 hover:bg-green-500 text-white font-semibold py-2 px-4 rounded",onClick:n[2]||(n[2]=k=>g.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},n[9]||(n[9]=[e("i",{class:"fa fa-history","aria-hidden":"true"},null,-1),p(" Registrar Regreso ")])),e("button",{class:"bg-yellow-500 hover:bg-yellow-500 text-white font-semibold py-2 px-4 rounded",onClick:n[3]||(n[3]=k=>h.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},n[10]||(n[10]=[e("i",{class:"fa fa-bullhorn","aria-hidden":"true"},null,-1),p(" Registrar castigo ")])),e("button",{class:"bg-teal-500 hover:bg-teal-500 text-white font-semibold py-2 px-4 rounded",onClick:n[4]||(n[4]=k=>l.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},n[11]||(n[11]=[e("i",{class:"fa fa-arrow-circle-right","aria-hidden":"true"},null,-1),p(" Registrar UC ")]))]),e("div",ya,[e("button",{class:"bg-teal-500 hover:bg-teal-500 text-white font-semibold py-2 px-4 rounded",onClick:n[5]||(n[5]=k=>o.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},n[12]||(n[12]=[e("i",{class:"fa fa-arrow-circle-left","aria-hidden":"true"},null,-1),p(" Regreso UC ")])),e("button",{class:"bg-teal-500 hover:bg-teal-500 text-white font-semibold py-2 px-4 rounded",onClick:n[6]||(n[6]=k=>a.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},n[13]||(n[13]=[e("i",{class:"fa fa-calendar","aria-hidden":"true"},null,-1),p(" Rol domingo ")]))]),e("div",xa,[L(c(Z),{class:"w-full table-auto text-sm display nowrap stripe compact cell-border order-column",id:"formacionTablaId",name:"formacionTablaId",columns:y,data:r.unidad,options:{responsive:!1,autoWidth:!1,dom:"Bftrip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)"},buttons:[E],paging:!1,lengthMenu:[]}},{default:N(()=>[e("thead",null,[e("tr",ha,[n[14]||(n[14]=e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"},null,-1)),e("th",va,"FECHA: "+v(c(H)+", "+c(u)),1),n[15]||(n[15]=e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"},null,-1)),n[16]||(n[16]=e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"},null,-1)),n[17]||(n[17]=e("th",{class:"py-2 px-4 bg-green-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300 text-left",colspan:"3"},"ENTRADA",-1)),n[18]||(n[18]=e("th",{class:"py-2 px-4 bg-red-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300",colspan:"3"},"CORTE",-1)),n[19]||(n[19]=e("th",{class:"py-2 px-4 bg-blue-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300",colspan:"3"},"ÚLTIMAS CORRIDAS",-1)),n[20]||(n[20]=e("th",{class:"py-2 px-4 bg-yellow-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300",colspan:"4"},"CASTIGO",-1)),n[21]||(n[21]=e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"},null,-1))]),n[22]||(n[22]=e("tr",{class:"text-sm leading-normal border-b border-gray-300"},[e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," ID "),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Ruta "),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Trab. DOMINGO "),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Unidad "),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Socio / Prestador "),e("th",{class:"py-2 px-4 bg-green-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Hr. entrada "),e("th",{class:"py-2 px-4 bg-green-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Tipo entrada "),e("th",{class:"py-2 px-4 bg-green-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Extremo "),e("th",{class:"py-2 px-4 bg-red-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Hr. Corte "),e("th",{class:"py-2 px-4 bg-red-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Causa "),e("th",{class:"py-2 px-4 bg-red-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Hr. regreso "),e("th",{class:"py-2 px-4 bg-blue-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Tipo de Corrida "),e("th",{class:"py-2 px-4 bg-blue-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Hr. inicio "),e("th",{class:"py-2 px-4 bg-blue-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Hr. regreso "),e("th",{class:"py-2 px-4 bg-yellow-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Hr. inicio "),e("th",{class:"py-2 px-4 bg-yellow-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Hr. finaliza "),e("th",{class:"py-2 px-4 bg-yellow-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Motivo "),e("th",{class:"py-2 px-4 bg-yellow-100 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Otras observaciones "),e("th",{class:"py-2 px-4 bg-sky-200 font-bold uppercase text-sm text-grey-600 border-r border-grey-300"}," Operador ")],-1))])]),_:1},8,["data","options"])])]),L(Xe,{show:x.value,"max-width":G,closeable:q,onClose:S,title:"Registrar hora de entrada",op:"1",modal:"modalCreate",entrada:s.entrada,unidad:s.unidad,unidadesConOperador:s.unidadesConOperador},null,8,["show","entrada","unidad","unidadesConOperador"]),L(ht,{show:w.value,"max-width":G,closeable:q,onClose:z,title:"Registrar hora de corte",op:"1",modal:"modalCreate",corte:s.corte,unidad:s.unidad,unidadesConOperador:s.unidadesConOperador},null,8,["show","corte","unidad","unidadesConOperador"]),L(Mt,{show:g.value,"max-width":G,closeable:q,onClose:ye,title:"Registrar hora de regreso de corte",op:"1",modal:"modalCreate",unidad:s.unidad},null,8,["show","unidad"]),L(co,{show:h.value,"max-width":G,closeable:q,onClose:fe,title:"Registrar un castigo",op:"1",modal:"modalCreate",unidad:s.unidad,castigo:s.castigo},null,8,["show","unidad","castigo"]),L(Mo,{show:l.value,"max-width":G,closeable:q,onClose:xe,title:"Registrar última corrida",op:"1",modal:"modalCreate",ultimaCorrida:s.ultimaCorrida,tipoUltimaCorrida:s.tipoUltimaCorrida,unidad:s.unidad},null,8,["show","ultimaCorrida","tipoUltimaCorrida","unidad"]),L(Zo,{show:o.value,"max-width":G,closeable:q,onClose:he,title:"Registrar hora de regreso de última corrida",op:"1",modal:"modalCreate",ultimaCorrida:s.ultimaCorrida,unidad:s.unidad},null,8,["show","ultimaCorrida","unidad"]),L(pa,{show:a.value,"max-width":G,closeable:q,onClose:ve,title:"Registrar las unidades que trabajaran domingo",op:"1",modal:"modalCreate",rolServicio:s.rolServicio,unidad:s.unidad},null,8,["show","rolServicio","unidad"])]),_:1},8,["usuario"]))}};export{Ea as default};
