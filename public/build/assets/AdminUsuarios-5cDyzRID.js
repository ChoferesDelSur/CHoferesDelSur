import{e as F,r as w,x as J,o as b,a as W,w as z,b as e,g as K,t as x,j as P,u as n,v as I,k as M,h as k,i as A,F as Q,y as ee,z as te,c as j,d as B,n as ae,C as V,D as G,f as ie,A as H}from"./app-Bg7caOHP.js";import"./buttons.print-XGFBgwBX.js";import{_ as re}from"./Mensaje-BPheJkIU.js";import{_ as le}from"./PrincipalLayout-CJnVYFtZ.js";import{S as X}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{_ as se}from"./Modal-C92jtza2.js";import{_ as ne,a as de}from"./InputLabel-ChBrJuu8.js";import{E as ue}from"./jspdf.plugin.autotable-6tIiIq-s.js";import{u as L,w as ce}from"./xlsx-DjuO7_Ju.js";/* empty css                                                */const pe={class:"mt-2 bg-white p-4 shadow rounded-lg"},me={class:"border-b border-gray-900/10 pb-12"},ge={class:"text-base font-semibold leading-7 text-gray-900"},be={class:"mt-1 text-sm leading-6 text-gray-600"},fe={class:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},xe={class:"sm:col-span-1",hidden:""},ye={class:"mt-2"},he=["id"],ve={class:"sm:col-span-1 md:col-span-3"},Ue={class:"mt-2"},we=["id"],_e={key:0,class:"text-red-500 text-xs mt-1"},$e={class:"sm:col-span-1 md:col-span-3"},ke={class:"mt-2"},Me=["id"],Te={key:0,class:"text-red-500 text-xs mt-1"},Pe={class:"sm:col-span-1 md:col-span-3"},Se={class:"mt-2"},Ee=["id"],Ce={key:0,class:"text-red-500 text-xs mt-1"},Ie={class:"sm:col-span-2 px-4"},Ae={class:"mt-2"},Ne=["id"],Be=["value"],De={key:0,class:"text-red-500 text-xs mt-1"},je={class:"mt-6 flex items-center justify-end gap-x-6"},Fe=["id"],ze=["disabled"],Oe={__name:"FormularioUsuarios",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},usuarios:{type:Object,default:()=>({})},tipoUsuario:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String},descripcion:{type:String},contrasenia:String},emits:["close"],setup(i,{emit:m}){const N=m,c=i,y=()=>{N("close"),t.reset()},t=F({idUsuario:c.usuarios.idUsuario,nombre:c.usuarios.nombre,apellidoP:c.usuarios.apellidoP,apellidoM:c.usuarios.apellidoM,tipoUsuario:c.usuarios.idTipoUsuario}),h=w(""),f=w(""),v=w(""),U=w(""),S=g=>typeof g=="string"&&g.trim()!=="",C=g=>g!=null,D=()=>{h.value=S(t.nombre)?"":"Ingrese el nombre",f.value=S(t.apellidoP)?"":"Ingrese el apellido paterno",v.value=S(t.apellidoM)?"":"Ingrese el apellido materno",U.value=C(t.tipoUsuario)?"":"Seleccione el tipo de usuario",!(h.value||f.value||v.value||U.value)&&t.post(route("principal.addUsuario"),{onSuccess:()=>{y(),h.value="",f.value="",v.value="",U.value=""}})};return J(()=>c.usuarios,g=>{t.idUsuario=g.idUsuario,t.nombre=g.nombre,t.apellidoP=g.apellidoP,t.apellidoM=g.apellidoM,t.tipoUsuario=g.tipoUsuario},{deep:!0}),(g,r)=>(b(),W(se,{show:i.show,"max-width":i.maxWidth,closeable:i.closeable,onClose:y},{default:z(()=>[e("div",pe,[e("form",{onSubmit:K(D,["prevent"])},[e("div",me,[e("h2",ge,x(i.title),1),e("p",be,x(c.descripcion),1),e("div",fe,[e("div",xe,[r[5]||(r[5]=e("label",{for:"idUsuario",class:"block text-sm font-medium leading-6 text-gray-900"},"id",-1)),e("div",ye,[P(e("input",{type:"number",name:"idUsuario","onUpdate:modelValue":r[0]||(r[0]=p=>n(t).idUsuario=p),placeholder:"Ingrese id",id:"idUsuario"+i.op,class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,he),[[I,n(t).idUsuario]])])]),e("div",ve,[r[6]||(r[6]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[M("Nombre(s) "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ue,[P(e("input",{type:"text",name:"nombre",id:"nombre"+i.op,"onUpdate:modelValue":r[1]||(r[1]=p=>n(t).nombre=p),placeholder:"Ingrese el nombre del usuario",class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,we),[[I,n(t).nombre]])]),h.value!=""?(b(),k("div",_e,x(h.value),1)):A("",!0)]),e("div",$e,[r[7]||(r[7]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[M("Apellido Paterno "),e("span",{class:"text-red-500"},"*")],-1)),e("div",ke,[P(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+i.op,"onUpdate:modelValue":r[2]||(r[2]=p=>n(t).apellidoP=p),placeholder:"Ingrese el apellido paterno",class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Me),[[I,n(t).apellidoP]])]),f.value!=""?(b(),k("div",Te,x(f.value),1)):A("",!0)]),e("div",Pe,[r[8]||(r[8]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[M("Apellido Materno "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Se,[P(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+i.op,"onUpdate:modelValue":r[3]||(r[3]=p=>n(t).apellidoM=p),placeholder:"Ingrese el apellido materno",class:"block w-full rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Ee),[[I,n(t).apellidoM]])]),v.value!=""?(b(),k("div",Ce,x(v.value),1)):A("",!0)]),e("div",Ie,[r[10]||(r[10]=e("label",{for:"tipoUsuario",class:"block text-sm font-medium leading-6 text-gray-900"},[M("Tipo de usuario "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ae,[P(e("select",{name:"tipoUsuario",id:"tipoUsuario"+i.op,"onUpdate:modelValue":r[4]||(r[4]=p=>n(t).tipoUsuario=p),placeholder:"Seleccione el tipo de usuario",class:"block rounded-md border-0 px-1.5 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[r[9]||(r[9]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de usuario",-1)),(b(!0),k(Q,null,ee(i.tipoUsuario,p=>(b(),k("option",{key:p.idTipoUsuario,value:p.idTipoUsuario},x(p.tipoUsuario),9,Be))),128))],8,Ne),[[te,n(t).tipoUsuario]])]),U.value!=""?(b(),k("div",De,x(U.value),1)):A("",!0)])])]),e("div",je,[e("button",{type:"button",id:"cerrar"+i.op,class:"text-sm font-semibold leading-6 text-white bg-red-500 hover:bg-red-600 py-2 px-4 rounded","data-bs-dismiss":"modal",onClick:y},"Cancelar",8,Fe),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},r[11]||(r[11]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),M("Guardar")]),8,ze)])],32)])]),_:1},8,["show","max-width","closeable"]))}},Re={class:"mt-2 bg-white p-4 shadow rounded-lg"},Ve={class:"border-b border-gray-900/10 pb-12"},Le={class:"text-base font-semibold leading-7 text-gray-900"},We={class:"mt-1 text-sm leading-6 text-gray-600"},qe={class:"mt-2 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Ge={class:"sm:col-span-1",hidden:""},He={class:"mt-2"},Xe=["id"],Ye={class:"sm:col-span-1 md:col-span-3"},Ze={class:"mt-2"},Je=["id"],Ke={key:0,class:"text-red-500 text-xs mt-1"},Qe={class:"sm:col-span-1 md:col-span-3"},et={class:"mt-2"},tt=["id"],st={key:0,class:"text-red-500 text-xs mt-1"},ot={class:"sm:col-span-1 md:col-span-3"},at={class:"mt-2"},it=["id"],rt={key:0,class:"text-red-500 text-xs mt-1"},lt={class:"sm:col-span-2 px-4"},nt={class:"mt-2"},dt=["id"],ut=["value"],ct={key:0,class:"text-red-500 text-xs mt-1"},pt={class:"col-span-6 sm:col-span-4 mt-2"},mt={class:"relative"},gt={class:"mt-6 flex items-center justify-end gap-x-6"},bt=["id"],ft=["disabled"],xt={__name:"FormularioActualizarUsuario",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},usuarios:{type:Object,default:()=>({})},tipoUsuario:{type:Object,default:()=>({})},title:{type:String},modal:{type:String},op:{type:String},descripcion:{type:String},contrasenia:String},emits:["close"],setup(i,{emit:m}){const N=m,c=i,y=()=>{N("close"),t.reset()},t=F({_method:"PUT",idUsuario:c.usuarios.idUsuario,nombre:c.usuarios.nombre,apellidoP:c.usuarios.apellidoP,apellidoM:c.usuarios.apellidoM,contrasenia:c.usuarios.contrasenia,tipoUsuario:c.usuarios.idTipoUsuario});J(()=>c.usuarios,async d=>{t.idUsuario=d.idUsuario,t.nombre=d.nombre,t.apellidoP=d.apellidoP,t.apellidoM=d.apellidoM,t.contrasenia=d.contrasenia,t.tipoUsuario=d.idTipoUsuario},{deep:!0});const h=w(""),f=w(""),v=w(""),U=w(""),S=w(""),C=d=>typeof d=="string"&&d.trim()!=="",D=d=>d!=null,g=d=>typeof d=="string"&&d.length>=8;j(()=>g(t.contrasenia)),j(()=>/[A-Z]/.test(t.contrasenia)),j(()=>/[a-z]/.test(t.contrasenia)),j(()=>/[0-9]/.test(t.contrasenia)),j(()=>/[@$!%*?&#]/.test(t.contrasenia));const r=()=>{if(h.value=C(t.nombre)?"":"Ingrese el nombre",f.value=C(t.apellidoP)?"":"Ingrese el apellido paterno",v.value=C(t.apellidoM)?"":"Ingrese el apellido materno",U.value=D(t.tipoUsuario)?"":"Seleccione el tipo de usuario",S.value=C(t.contrasenia)?"":"Ingrese la contraseña",h.value||f.value||v.value||U.value||S.value)return;const d={};t.nombre&&(d.nombre=t.nombre),t.apellidoP&&(d.apellidoP=t.apellidoP),t.apellidoM&&(d.apellidoM=t.apellidoM),t.tipoUsuario&&(d.tipoUsuario=t.tipoUsuario),t.contrasenia&&(d.contrasenia=t.contrasenia),t.post(route("principal.actualizarUsuario",t.idUsuario),{data:d,onSuccess:()=>{y(),h.value="",f.value="",v.value="",U.value="",S.value=""}})},p=w(!1),O=()=>{p.value=!p.value};return(d,l)=>(b(),W(se,{show:i.show,"max-width":i.maxWidth,closeable:i.closeable,onClose:y},{default:z(()=>[e("div",Re,[e("form",{onSubmit:K(r,["prevent"])},[e("div",Ve,[e("h2",Le,x(i.title),1),e("p",We,x(c.descripcion),1),e("div",qe,[e("div",Ge,[l[6]||(l[6]=e("label",{for:"idUsuario",class:"block text-sm font-medium leading-6 text-gray-900"},"id",-1)),e("div",He,[P(e("input",{type:"number",name:"idUsuario","onUpdate:modelValue":l[0]||(l[0]=s=>n(t).idUsuario=s),placeholder:"Ingrese id",id:"idUsuario"+i.op,class:"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Xe),[[I,n(t).idUsuario]])])]),e("div",Ye,[l[7]||(l[7]=e("label",{for:"nombre",class:"block text-sm font-medium leading-6 text-gray-900"},[M("Nombre(s) "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ze,[P(e("input",{type:"text",name:"nombre",id:"nombre"+i.op,"onUpdate:modelValue":l[1]||(l[1]=s=>n(t).nombre=s),placeholder:"Ingrese el nombre del usuario",class:"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,Je),[[I,n(t).nombre]])]),h.value!=""?(b(),k("div",Ke,x(h.value),1)):A("",!0)]),e("div",Qe,[l[8]||(l[8]=e("label",{for:"apellidoP",class:"block text-sm font-medium leading-6 text-gray-900"},[M("Apellido Paterno "),e("span",{class:"text-red-500"},"*")],-1)),e("div",et,[P(e("input",{type:"text",name:"apellidoP",id:"apellidoP"+i.op,"onUpdate:modelValue":l[2]||(l[2]=s=>n(t).apellidoP=s),placeholder:"Ingrese el apellido paterno",class:"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,tt),[[I,n(t).apellidoP]])]),f.value!=""?(b(),k("div",st,x(f.value),1)):A("",!0)]),e("div",ot,[l[9]||(l[9]=e("label",{for:"apellidoM",class:"block text-sm font-medium leading-6 text-gray-900"},[M("Apellido Materno "),e("span",{class:"text-red-500"},"*")],-1)),e("div",at,[P(e("input",{type:"text",name:"apellidoM",id:"apellidoM"+i.op,"onUpdate:modelValue":l[3]||(l[3]=s=>n(t).apellidoM=s),placeholder:"Ingrese el apellido materno",class:"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},null,8,it),[[I,n(t).apellidoM]])]),v.value!=""?(b(),k("div",rt,x(v.value),1)):A("",!0)]),e("div",lt,[l[11]||(l[11]=e("label",{for:"tipoUsuario",class:"block text-sm font-medium leading-6 text-gray-900"},[M("Tipo de usuario "),e("span",{class:"text-red-500"},"*")],-1)),e("div",nt,[P(e("select",{name:"tipoUsuario",id:"tipoUsuario"+i.op,"onUpdate:modelValue":l[4]||(l[4]=s=>n(t).tipoUsuario=s),placeholder:"Seleccione el tipo de usuario",class:"block rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"},[l[10]||(l[10]=e("option",{value:"",disabled:"",selected:""},"Seleccione el tipo de usuario",-1)),(b(!0),k(Q,null,ee(i.tipoUsuario,s=>(b(),k("option",{key:s.idTipoUsuario,value:s.idTipoUsuario},x(s.tipoUsuario),9,ut))),128))],8,dt),[[te,n(t).tipoUsuario]])]),U.value!=""?(b(),k("div",ct,x(U.value),1)):A("",!0)]),e("div",pt,[B(ne,{for:"contrasenia",value:"Contraseña"}),e("div",mt,[B(de,{id:"contrasenia",modelValue:n(t).contrasenia,"onUpdate:modelValue":l[5]||(l[5]=s=>n(t).contrasenia=s),type:p.value?"text":"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue","type"]),e("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center focus:outline-none",onClick:O},[e("i",{class:ae(["fa",p.value?"fa-eye-slash":"fa-eye"])},null,2)])])])])]),e("div",gt,[e("button",{type:"button",id:"cerrar"+i.op,class:"text-sm font-semibold leading-6 text-white bg-red-500 hover:bg-red-600 py-2 px-4 rounded","data-bs-dismiss":"modal",onClick:y},"Cancelar",8,bt),e("button",{type:"submit",class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",disabled:n(t).processing},l[12]||(l[12]=[e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1),M("Guardar")]),8,ft)])],32)])]),_:1},8,["show","max-width","closeable"]))}},yt={class:"mt-0 bg-white p-4 shadow rounded-lg h-5/6"},ht={class:"py-3 flex flex-col md:flex-row md:items-start md:space-x-3 space-y-3 md:space-y-0"},vt={class:""},Y="xl",Z=!0,Ut="Rellene todos los campos para poder registrar un nuevo usuario",wt="Rellene todos los campos para poder actualizar la información de un usuario",At={__name:"AdminUsuarios",props:{message:{String,default:""},color:{String,default:""},usuario:{type:Object},usuarios:{type:Object},tipoUsuario:{type:Object}},setup(i){V.use(G),V.use(G);const m=i,N=w(!1),c=w(!1),y=w([]),t=F({_method:"DELETE"}),h=F({_method:"PUT"});var f={};const v=s=>{f=s,c.value=!0},U=()=>{N.value=!1},S=()=>{c.value=!1},C=s=>{y.value.includes(s)?y.value=y.value.filter(a=>a!==s):y.value.push(s);const o=document.getElementById("eliminar-button");y.value.length>0?o.removeAttribute("disabled"):o.setAttribute("disabled","")},D=(s,o)=>{X.mixin({buttonsStyling:!0}).fire({title:"¿Estas seguro que deseas eliminar los datos de "+o+"?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i> Confirmar',cancelButtonText:'<i class="fa-solid fa-ban"></i> Cancelar'}).then(u=>{u.isConfirmed&&t.post(route("principal.eliminarUsuario",s))})},g=s=>{const o=s.idUsuario;X.mixin({buttonsStyling:!0}).fire({title:"¿Estas seguro de restaurar los intentos y/o tiempo de cambio de contraseña?",icon:"warning",showCancelButton:!0,confirmButtonText:'<i class="fa-solid fa-check"></i> Confirmar',cancelButtonText:'<i class="fa-solid fa-ban"></i> Cancelar'}).then(async u=>{if(u.isConfirmed)try{await h.post(route("principal.restUsuario",o))}catch(_){console.log("El error se origina aquí"),console.log(_)}})};ie(()=>{document.getElementById("usuariosTablaId").addEventListener("click",s=>{const o=s.target;if(o.classList.contains("usuario-checkbox")){const a=parseInt(o.getAttribute("data-id"));if(m.usuarios){const u=m.usuarios.find(_=>_.idUsuario===a);u?C(u):console.log("No se tiene usuario")}}}),$("#usuariosTablaId").on("click",".editar-button",function(){const s=$(this).data("id"),o=m.usuarios.find(a=>a.idUsuario===s);v(o)}),$("#usuariosTablaId").on("click",".eliminar-button",function(){const s=$(this).data("id"),o=m.usuarios.find(a=>a.idUsuario===s);D(s,o.usuario)}),$("#usuariosTablaId").on("click",".mostrar-password-button",function(){const s=$(this).data("id"),o=m.usuarios.find(u=>u.idUsuario===s),a=$(this).closest("td").find(".ph");a.hasClass("password-hidden")?a.removeClass("password-hidden").text(o.contrasenia):a.addClass("password-hidden").text("*".repeat(o.contrasenia.length))}),$("#usuariosTablaId").on("click",".restaurar-usuario",function(){const s=$(this).data("id"),o=m.usuarios.find(a=>a.idUsuario===s);g(o)})});const r=(s="Documento")=>{const o=new ue("landscape");o.setFontSize(12),o.text(s,14,22);const a=new Date().toLocaleDateString();o.setFontSize(8),o.text(`Fecha: ${a}`,260,22);const u=["ID","Nombre","Apellido Paterno","Apellido Materno","Usuario","Tipo De Usuario","Contraseña"],_=[];H(()=>{$("#usuariosTablaId").DataTable().rows({search:"applied"}).data().each(E=>{var q;_.push([E.idUsuario,E.nombre,E.apellidoP,E.apellidoM,E.usuario,((q=m.tipoUsuario.find(oe=>oe.idTipoUsuario===E.idTipoUsuario))==null?void 0:q.tipoUsuario)||"",E.contrasenia])}),o.autoTable({head:[u],body:_,startY:24}),o.save(`${s}.pdf`)})},p=()=>{H(()=>{const a=$("#usuariosTablaId").DataTable().rows({search:"applied"}).data().toArray().map(T=>{var R;return{ID:T.idUsuario,Nombre:T.nombre,"Apellido Paterno":T.apellidoP,"Apellido Materno":T.apellidoM,Usuario:T.usuario,"Tipo De Usuario":((R=m.tipoUsuario.find(E=>E.idTipoUsuario===T.idTipoUsuario))==null?void 0:R.tipoUsuario)||"",Contraseña:T.contrasenia}}),u=L.json_to_sheet(a),_=L.book_new();L.book_append_sheet(_,u,"Usuarios Registrados"),ce(_,"Usuarios Registrados.xlsx")})},O=[{extend:"copyHtml5",text:'<i class="fa-solid fa-copy"></i> Copiar',className:"bg-cyan-500 hover:bg-cyan-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[0,2]},button:!0},{title:"Usuarios registrados",text:'<i class="fa-solid fa-file-excel"></i> Excel',className:"bg-green-600 hover:bg-green-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",action:()=>p()},{title:"Usuarios registrados",text:'<i class="fa-solid fa-file-pdf"></i> PDF',className:"bg-red-500 hover:bg-red-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",orientation:"landscape",action:()=>r(m.title||"Usuarios Registrados")},{title:"Usuarios registrados",extend:"print",text:'<i class="fa-solid fa-print"></i> Imprimir',className:"bg-blue-500 hover:bg-blue-600 text-white py-1/2 px-3 rounded mb-2 jump-icon",exportOptions:{columns:[2,3,4,5,6,7,8]}}],d=[{data:null,render:function(s,o,a,u){return""}},{data:null,render:function(s,o,a,u){return`<input type="checkbox" class="usuario-checkbox" data-id="${a.idUsuario}" ">`}},{data:null,render:function(s,o,a,u){return u.row+1}},{data:"nombre"},{data:"apellidoP"},{data:"apellidoM"},{data:"usuario"},{data:"idTipoUsuario",render:function(s,o,a,u){const _=m.tipoUsuario.find(T=>T.idTipoUsuario===s);return _?_.tipoUsuario:""}},{data:"contrasenia",render:function(s,o,a,u){return`<div class="password-container">
                        <span class="ph password-hidden">${"*".repeat(s.length)}</span>
                        <button class="mostrar-password-button" data-id="${a.idUsuario}"><i class="fa fa-eye"></i></button>
                    </div>`}},{data:null,render:function(s,o,a,u){return`<button class="restaurar-usuario" data-id="${a.idUsuario}"><i class="fa fa-arrows-rotate"></i></button>`}},{data:null,render:function(s,o,a,u){return`<button class="editar-button" data-id="${a.idUsuario}"><i class="fa fa-pencil"></i></button>`}},{data:null,render:function(s,o,a,u){return`<button class="eliminar-button" data-id="${a.idUsuario}"><i class="fa fa-trash"></i></button>`}}],l={responsive:!0,autoWidth:!1,dom:"Bfrtip",language:{search:"Buscar",zeroRecords:"No hay registros para mostrar",info:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",infoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",infoFiltered:"(filtrado de un total de _MAX_ registros)",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Ultimo"}},buttons:O};return(s,o)=>(b(),W(le,{title:"Usuarios",usuario:m.usuario},{default:z(()=>[e("div",yt,[o[3]||(o[3]=e("h2",{class:"font-bold text-center text-xl pt-0"},"Usuarios",-1)),o[4]||(o[4]=e("div",{class:"my-1"},null,-1)),o[5]||(o[5]=e("div",{class:"bg-gradient-to-r from-cyan-300 to-cyan-500 h-px mb-3"},null,-1)),B(re),e("div",ht,[e("button",{class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded",onClick:o[0]||(o[0]=a=>N.value=!0),"data-bs-toggle":"modal","data-bs-target":"#modalCreate"},o[1]||(o[1]=[e("i",{class:"fa fa-plus mr-2"},null,-1),M("Agregar Usuario ")]))]),e("div",vt,[B(n(V),{class:"w-full table-auto text-sm display stripe compact cell-border order-column",id:"usuariosTablaId",responsive:!0,columns:d,data:i.usuarios,options:l},{default:z(()=>o[2]||(o[2]=[e("thead",null,[e("tr",{class:"text-sm leading-normal"},[e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," # "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Nombre(s) "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Paterno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Apellido Materno "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Usuario "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Tipo Usuario "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Contraseña "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Re "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," Ed "),e("th",{class:"py-2 px-4 bg-grey-lightest font-bold uppercase text-sm text-grey-light border-b border-grey-light"}," El ")])],-1)])),_:1},8,["data"])])]),B(Oe,{show:N.value,"max-width":Y,closeable:Z,onClose:U,title:"Añadir usuario",modal:"modalCreate",descripcion:Ut,usuarios:m.usuarios,tipoUsuario:m.tipoUsuario},null,8,["show","usuarios","tipoUsuario"]),B(xt,{show:c.value,"max-width":Y,closeable:Z,onClose:S,title:"Editar usuario",modal:"modalEdit",descripcion:wt,usuarios:n(f),tipoUsuario:m.tipoUsuario},null,8,["show","usuarios","tipoUsuario"])]),_:1},8,["usuario"]))}};export{At as default};
